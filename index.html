<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 7.3.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"example.com","root":"/","scheme":"Pisces","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="故事开始于2025&#x2F;2&#x2F;24 15：47">
<meta property="og:type" content="website">
<meta property="og:title" content="王湘宇的小屋">
<meta property="og:url" content="http://example.com/index.html">
<meta property="og:site_name" content="王湘宇的小屋">
<meta property="og:description" content="故事开始于2025&#x2F;2&#x2F;24 15：47">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="王湘宇">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://example.com/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'zh-CN'
  };
</script>

  <title>王湘宇的小屋</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">王湘宇的小屋</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">记录点点滴滴</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2025/04/01/c-14%E7%89%88%E6%9C%AC%E6%9B%B4%E6%96%B0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="王湘宇">
      <meta itemprop="description" content="故事开始于2025/2/24 15：47">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="王湘宇的小屋">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2025/04/01/c-14%E7%89%88%E6%9C%AC%E6%9B%B4%E6%96%B0/" class="post-title-link" itemprop="url">c++14版本更新</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2025-04-01 10:51:55" itemprop="dateCreated datePublished" datetime="2025-04-01T10:51:55+08:00">2025-04-01</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2025/04/01/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="王湘宇">
      <meta itemprop="description" content="故事开始于2025/2/24 15：47">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="王湘宇的小屋">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2025/04/01/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/" class="post-title-link" itemprop="url">未命名</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2025-04-01 10:43:59" itemprop="dateCreated datePublished" datetime="2025-04-01T10:43:59+08:00">2025-04-01</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2023-10-19 15:57:26" itemprop="dateModified" datetime="2023-10-19T15:57:26+08:00">2023-10-19</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="前端笔记"><a href="#前端笔记" class="headerlink" title="前端笔记"></a>前端笔记</h1><h2 id="了解网页"><a href="#了解网页" class="headerlink" title="了解网页"></a>了解网页</h2><p>一个网页可以存在着图片、文字、音频、视频、超链接等。</p>
<p>网页是由浏览器的分析和渲染构成用户眼中的网页。</p>
<p>不同的浏览器内核是不一样的,<code>ie</code>(Trident)、safari(<code>Webkit</code>)、chrome(Blink-&gt;是<code>Webkit</code>的分支)。</p>
<blockquote>
<p>由于内核不同一样的代码在解析渲染时速度、性能、效果也不相同。</p>
</blockquote>
<h3 id="web标准"><a href="#web标准" class="headerlink" title="web标准"></a>web标准</h3><p>web标准中分为三个构造：</p>
<table>
<thead>
<tr>
<th>构成</th>
<th>语言</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>结构</td>
<td>HTML</td>
<td>页面元素和内容</td>
</tr>
<tr>
<td>表现</td>
<td><code>CSS</code></td>
<td>网页元素的外观和位置等页面样式</td>
</tr>
<tr>
<td>行为</td>
<td>JavaScript</td>
<td>网页模型的定义宇页面交互</td>
</tr>
</tbody></table>
<h2 id="HTML5-超文本标记语言"><a href="#HTML5-超文本标记语言" class="headerlink" title="HTML5(超文本标记语言)"></a><code>HTML5</code>(超文本标记语言)</h2><h3 id="vscode快捷键"><a href="#vscode快捷键" class="headerlink" title="vscode快捷键"></a><code>vscode</code>快捷键</h3><p>用<code>vscode</code>编写<code>html</code>文件时，使用!(英文的感叹号)会自动填写一个简单的网页格式。</p>
<p>缩进标签：<code>shift+alt+f</code></p>
<p>代码上下移动：<code>alt+up/down</code></p>
<p>快速查找：<code>Ctrl+f</code></p>
<p>快速替换：<code>Ctrl+h</code></p>
<p>注释：<code>Ctrl+/</code></p>
<h3 id="H5的简介"><a href="#H5的简介" class="headerlink" title="H5的简介"></a><code>H5</code>的简介</h3><p><code>H5</code>的<code>DOCTYPE</code>声明：<!DOCTYPE html> 时<code>H5</code>的声明位于文档的前面，处于标签之前，他是页面的必备组成部分，作用是避免浏览器的怪异模式。</p>
<p>基本骨架：</p>
<ul>
<li><p><code>html</code>标签(双标签) ：定义HTML文档，标签限定了文档的开始点和结束点，它包裹了其他元素。</p>
</li>
<li><p>head标签(双标签) ： head标签用于定义文档的头部，用来描述文档的各种属性和信息，包括文档的标题，在web的位置等…head包含的数据不会作为内容给用户看的。</p>
</li>
<li><p>body标签(双标签) ： body元素定义文档的主体，包含了文档的所有内容(比如文档、超链接、图像、表格和列表等。)它是在页面中显示出来的(用户可以看见的)。</p>
</li>
<li><p>title标签(双标签) ：<br>- 定义文档的标题(显示在浏览器标题栏或者状态栏上)。<br>- title标签是head标签中唯一且必须包含的东西。<br>- title的增加有利于<code>SEO</code>优化。</p>
<blockquote>
<p><code>SEO</code>是搜索引擎优化的英文缩写。通过网站内容调整，满足搜索引擎排名的需求。</p>
</blockquote>
</li>
<li><p>meta标签(单标签) ： meta标签是用来描述网页文档的属性，关键字。比如：<code>charset=&quot;utf-8&quot;</code>表示当前网页使用的是<code>utf-8</code>编码。</p>
</li>
</ul>
<p>以上这些构成的就是<code>h5</code>的基本骨架。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>   <span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;utf-8&quot;</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"> </span><br><span class="line"> <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>在<code>&lt;html lang=&quot;en&quot;&gt;</code>里<code>lang=&quot;en&quot;</code>是表示使用的语言是英语，可以删掉。</p>
<h3 id="标题标签"><a href="#标题标签" class="headerlink" title="标题标签"></a>标题标签</h3><p>标题是通过<code>&lt;h1&gt;-&lt;h6&gt;</code>(双标签)进行定义的,要想直接生成<code>&lt;h1&gt;-&lt;h6&gt;</code>vscode里有快捷键<code>h$*6</code>(后面的数字是几个标题，最多6个)。</p>
<h4 id="标题标签摆放的位置"><a href="#标题标签摆放的位置" class="headerlink" title="标题标签摆放的位置"></a>标题标签摆放的位置</h4><p>在标签种添加属性：<code>align=&quot;left|center|right</code>默认居左。</p>
<p>属性是在标签里添加的。</p>
<p>例：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h1</span> <span class="attr">align</span>=<span class="string">&quot;center&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>align变红不是错误，是不推荐，在css里面会有相应的设置。</p>
</blockquote>
<h4 id="正确使用标题"><a href="#正确使用标题" class="headerlink" title="正确使用标题"></a>正确使用标题</h4><p><code>html</code>的标题标签只限定与标题。</p>
<p>不能因为要生成较粗的文本而使用标题标签。</p>
<p>正确的使用有利于提高<code>SEO</code>。</p>
<p><code>&lt;h1&gt;</code>为最重要的一次递减与markdown标题相同。</p>
<h3 id="标签之段落、换行、水平线"><a href="#标签之段落、换行、水平线" class="headerlink" title="标签之段落、换行、水平线"></a>标签之段落、换行、水平线</h3><h4 id="段落"><a href="#段落" class="headerlink" title="段落"></a>段落</h4><p>段落是通过<code>&lt;P&gt;</code>(双标签)标签定义的。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>这是一个段落<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>虽然不用段落标签也可以在页面上显示，但是不利于管理与设置，所以在规范上是禁止的。</p>
</blockquote>
<h4 id="换行"><a href="#换行" class="headerlink" title="换行"></a>换行</h4><p>如果在一个段落里想进行换行(不想产生新的段落)，可以使用<code>&lt;br&gt;|&lt;br /&gt;</code>(单标签)。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>这是一个段落<span class="tag">&lt;<span class="name">br</span> /&gt;</span>我和上面合在一起是个段落<span class="tag">&lt;/<span class="name">p</span>&gt;</span>。</span><br></pre></td></tr></table></figure>

<blockquote>
<p><code>&lt;br&gt;|&lt;br /&gt;</code>是都可以的，加上&#x2F;是表示这个标签结束了从规范上是可以的，但是不加也没事。</p>
</blockquote>
<h4 id="水平线"><a href="#水平线" class="headerlink" title="水平线"></a>水平线</h4><p>想要创建一个水平线可以使用<code>&lt;hr&gt;</code>(单标签)。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">hr</span> <span class="attr">color</span>=<span class="string">&quot;&quot;</span>  <span class="attr">width</span>=<span class="string">&quot;&quot;</span> <span class="attr">size</span>=<span class="string">&quot;&quot;</span> <span class="attr">align</span>=<span class="string">&quot;&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>width的参数是以像素为单位，<code>px</code>是自适应。</p>
</blockquote>
<p><code>&lt;hr&gt;</code>有四个属性：</p>
<ul>
<li>color：设置水平线的颜色。</li>
<li>width：设置水平线的宽度。</li>
<li>size：设置水平线的高度。</li>
<li>align：设置水平线的对齐方式(默认居中)，可取值left|right。</li>
</ul>
<h3 id="图片标签"><a href="#图片标签" class="headerlink" title="图片标签"></a>图片标签</h3><p><code>&lt;img&gt;</code>(单标签)标签定义页面中的图像。</p>
<p>属性：</p>
<ol>
<li><code>src</code>：路径(图片地址与名字,可以填写网站地址)。</li>
<li><code>alt</code>：规定图像的替代文本,当图片无法加载的时候就会出现alt里填写的文本。</li>
<li><code>width</code>：规定图像宽度。</li>
<li><code>height</code>：规定图像高度，一般高度与宽度设置一个即可，都设置很有可能会出现照片的失帧。</li>
<li><code>title</code>：鼠标悬停在图片上给予提示。</li>
</ol>
<h3 id="超文本链接"><a href="#超文本链接" class="headerlink" title="超文本链接"></a>超文本链接</h3><p><code>html</code>使用标签<code>&lt;a&gt;</code>(双标签)来设置超文本链接的。</p>
<p>超文本链接可以是一个字，一个词，一个图片等，可以通过点击这些内容来跳转到新的文档或者当前文档的一部分。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;url&quot;</span>&gt;</span>文本<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>属性<code>href</code>中写的是需要跳转的链接，可以用<code>css</code>来修改样式。</p>
</blockquote>
<h3 id="文本标签"><a href="#文本标签" class="headerlink" title="文本标签"></a>文本标签</h3><p>当几个字或者一个词单独出现的时候我们不能用标题标签也不适用段落标签(<code>&lt;p&gt;</code>)，所以我们使用的是文本标签。</p>
<p>常用文本标签(都是双标签)：</p>
<table>
<thead>
<tr>
<th>标签</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td><code>&lt;em&gt;</code></td>
<td>定义着重文字</td>
</tr>
<tr>
<td><code>&lt;b&gt;</code></td>
<td>定义粗体文字</td>
</tr>
<tr>
<td><code>&lt;i&gt;</code></td>
<td>定义斜体字</td>
</tr>
<tr>
<td><code>&lt;strong&gt;</code></td>
<td>定义加重语气</td>
</tr>
<tr>
<td><code>&lt;del&gt;</code></td>
<td>定义删除字</td>
</tr>
<tr>
<td><code>&lt;span&gt;</code></td>
<td>元素没有特定的含义</td>
</tr>
</tbody></table>
<h3 id="列表标签"><a href="#列表标签" class="headerlink" title="列表标签"></a>列表标签</h3><h4 id="有序列表"><a href="#有序列表" class="headerlink" title="有序列表"></a>有序列表</h4><p>有序列表是一列数据用数字标记。有序列表始于<code>&lt;ol&gt;</code>(双标签)标签，每个列表项用<code>&lt;li&gt;</code>(双标签)标签包裹。</p>
<p>例：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ol</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ol</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><code>&lt;ol&gt;</code>标签还有type属性：</p>
<ul>
<li>1表示列表项用数字标号(1,2,3…)</li>
<li>a表示列表项用小写字母标号(a,b,c…)</li>
<li>A表示列表项用大写字母标号(A,B,C….)</li>
<li>i表示列表项用小写罗马数字标号(i,ii,iii….)</li>
<li>I表示列表项用大写罗马数字标号(I,II,III…)</li>
</ul>
<blockquote>
<p>有序列表是可以嵌套的。</p>
</blockquote>
<h4 id="无序列表"><a href="#无序列表" class="headerlink" title="无序列表"></a>无序列表</h4><p>无序列表是一个项目的列表，用粗体圆点进行标记，用<code>&lt;ul&gt;</code>(双标签)标签，每个列表用<code>&lt;li&gt;</code>标签。</p>
<p>例：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><code>&lt;ul&gt;</code>标签还有type属性：</p>
<ul>
<li>disc默认实心圆</li>
<li>circle空心圆</li>
<li>square小方块</li>
<li>none不显示</li>
</ul>
<blockquote>
<p>创建无序列表快捷键：<code>ul&gt;li*n</code>(n为<code>li</code>标签的数量)<br>写的时候注意是不能在引号里有多余的空格的。<br>无序列表也是可以嵌套的。</p>
</blockquote>
<h3 id="表格"><a href="#表格" class="headerlink" title="表格"></a>表格</h3><p>表格的组成与特点：</p>
<ul>
<li>组成：行、列、单元格</li>
<li>特点：同行等高、同列等宽。</li>
</ul>
<p>表格标签：</p>
<ul>
<li>表格：<code>&lt;table&gt;</code>(双标签)</li>
<li>行格：<code>&lt;tr&gt;</code>(双标签)</li>
<li>单元格：<code>&lt;td&gt;</code>(双标签)</li>
</ul>
<p>例：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">table</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>长<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>宽<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>高<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>1<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>2<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>3<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>快捷键：table&gt;tr<em>n(行数)&gt;td</em>x(单元格数){内容}</p>
</blockquote>
<p>属性(常用，后期<code>css</code>替代)：</p>
<ul>
<li>border：设置表格的边框</li>
<li>width：设置表格宽度</li>
<li>height：设置表格的高度</li>
</ul>
<h4 id="表格单元格合并"><a href="#表格单元格合并" class="headerlink" title="表格单元格合并"></a>表格单元格合并</h4><p>使用<code>&lt;td&gt;</code>的属性进行单元格的合并。</p>
<ul>
<li>水平合并：<code>colspan</code>；规则是保留左边，删除右边。</li>
<li>垂直合并：<code>rowspan</code>；规则是保留上边，删除下边。</li>
</ul>
<h3 id="form表单"><a href="#form表单" class="headerlink" title="form表单"></a>form表单</h3><p>表单在网页中用来给用户填写信息的，从而能采集用户信息，使网页具有交互功能。</p>
<p><code>&lt;form&gt;</code>(双标签)表单是由容器和控件组成的，输入框和按钮等叫做控件，表单是容器，容纳各种各样的控件。</p>
<p>例：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">&quot;url&quot;</span> <span class="attr">method</span>=<span class="string">&quot;get|post&quot;</span> <span class="attr">name</span>=<span class="string">&quot;myform&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>属性说明：</p>
<ul>
<li><code>action</code>服务器地址</li>
<li><code>name</code>表单名字</li>
<li><code>metod</code>中get和post区别<ul>
<li>数据提交方式，get把提交的数据url可以看见，post看不见。</li>
<li>get一般用于提交少量数据，post用来提交大量数据。</li>
</ul>
</li>
</ul>
<h4 id="表单元素"><a href="#表单元素" class="headerlink" title="表单元素"></a>表单元素</h4><p>一个完整的表单包含三个基本组成部分：表单标签、表单域、表单按钮</p>
<p>例：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ul>
<li><code>&lt;input&gt;</code>标签(单标签)是提供一个输入框。</li>
<li><code>&lt;input&gt;</code>里加一个属性type&#x3D;”text”是当用户在表单中填入文本内容时，就会用到文本域。</li>
<li><code>&lt;input&gt;</code>里加一个属性type&#x3D;”password”是密码字段标签，表单里会出现密码样式文字(黑点代替)。</li>
<li><code>&lt;input&gt;</code>里加一个属性type&#x3D;”submit”就是一个提交按钮，按钮的名字叫做提交，如果要换名字需要在后面加上 value&#x3D;””。</li>
<li>按钮也可以使用<code>&lt;button&gt;</code>(双标签)。</li>
</ul>
<h3 id="块元素与行内元素-内联元素"><a href="#块元素与行内元素-内联元素" class="headerlink" title="块元素与行内元素(内联元素)"></a>块元素与行内元素(内联元素)</h3><p>在<code>HTML5</code>出现以前，经常把元素按照块级元素和内联元素来区分。在<code>HTML5</code>中，元素不再按照这种方式来区分，而是按照内容模型来区分，分为元数据型、区块型、标题型、文档流型、语句型、内嵌型、交互型。元素不属于任何一个类别被称为穿透的，元素也可能属于不止一种类别，称为混合的。</p>
<p><em>但是在初学者而言我们仍然学的是内联元素和块级元素，等到十分熟习了<code>HTML5</code>后可以会过来重新了解学习细致的分类。</em></p>
<p>块级元素和内联元素的区别：</p>
<table>
<thead>
<tr>
<th>块级元素</th>
<th>内联元素</th>
</tr>
</thead>
<tbody><tr>
<td>块级元素会在页面中独占一行(自上向下垂直排列)</td>
<td>内行元素不会独占页面中的一行，只占自身的大小</td>
</tr>
<tr>
<td>可以设置width，height属性</td>
<td>内行元素设置width，height属性无效</td>
</tr>
<tr>
<td>一般块级元素可以包含内行元素和其他块级元素</td>
<td>一般内联元素包含内联元素不包含块级元素</td>
</tr>
</tbody></table>
<p>常见块级元素：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">div(容器元素)、form(表单)、h1-h6(标题)、p(段)、table(表)、ul(无序排列)等</span><br></pre></td></tr></table></figure>

<p>常见内联元素(行内元素)：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">a(超链接)、b(字体变粗)、em(着重文字)、i(斜体字)、span(标记)、strong(加重语气)等</span><br></pre></td></tr></table></figure>

<p>行内块级元素(&#x3D;&#x3D;特点：不换行、能够识别宽高&#x3D;&#x3D;)：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">button(按键)、img(图片)、input(输入框)等</span><br></pre></td></tr></table></figure>

<h3 id="HTML5新增标签"><a href="#HTML5新增标签" class="headerlink" title="HTML5新增标签"></a><code>HTML5</code>新增标签</h3><p><code>HTML5</code>是HTML最新的修订版本，0214年10月由万维网联盟(<code>w3c</code>)完成标准制定。</p>
<p>在<code>HTML5</code>出现之前，我们一般采用<code>DIV+css</code>布局页面，但是这种布局使我们的文档结构不清晰，也不利于爬虫的爬取。为了改变以上缺点，<code>HTML5</code>新增了很多新的语义化表签。</p>
<p>扩展知识：</p>
<p><code>&lt;div&gt;</code>(双标签)是容器元素，也是页面中最多的元素,为后期便于添加<code>css</code>。</p>
<p>例：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 导航--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span>导航1<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span>导航2<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span>导航3<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 内容--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 广告--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">P</span>&gt;</span>这是个广告<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>div实现：</p>
<p><img src="C:\Users\ASUS\AppData\Roaming\Typora\typora-user-images\image-20230129153154917.png" alt="image-20230129153154917"></p>
<p>代码样例：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 标题 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;header&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 导航 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;nav&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 内容模块 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;article&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;section&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 侧边栏 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;silder&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 底部 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;footer&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>id属性是为了标识名字的</p>
</blockquote>
<p><code>H5</code>新标签实现：</p>
<p><img src="C:\Users\ASUS\AppData\Roaming\Typora\typora-user-images\image-20230129153233145.png" alt="image-20230129153233145"></p>
<p>代码样例：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 标题 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">header</span>&gt;</span><span class="tag">&lt;/<span class="name">header</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 导航 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">nav</span>&gt;</span><span class="tag">&lt;/<span class="name">nav</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 内容模块 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">article</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">section</span>&gt;</span><span class="tag">&lt;/<span class="name">section</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">article</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 侧边栏 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">aside</span>&gt;</span><span class="tag">&lt;/<span class="name">aside</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 底部 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">footer</span>&gt;</span><span class="tag">&lt;/<span class="name">footer</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><code>H5</code>新标签：</p>
<ul>
<li><code>&lt;header&gt;</code>(双标签)头部</li>
<li><code>&lt;nav&gt;</code>(双标签)导航</li>
<li><code>&lt;article&gt;</code>(双标签)代表一个独立的、完整的相关内容块、例如一篇完整的论坛帖子，一篇博客文章，一个用户评论等</li>
<li><code>&lt;section&gt;</code>(双标签)定义文档中的节，比如章节、页眉、页脚</li>
<li><code>&lt;aside&gt;</code>(双标签)侧边栏</li>
<li><code>&lt;footer&gt;</code>(双标签)脚部</li>
</ul>
<blockquote>
<p>对于新标签只有新浏览器可以识别，老浏览器识别不了。</p>
</blockquote>
<h2 id="css"><a href="#css" class="headerlink" title="css"></a><code>css</code></h2><p><code>css</code>概念：</p>
<p><code>css</code>层叠样式表，又叫级联样式表，简称样式表。</p>
<p><code>css</code>文件后缀名为<code>.css</code></p>
<p><code>css</code>用于HTML文档中元素样式的定义。</p>
<p>使用<code>css</code>的唯一目的就是让网页具有美观一致的页面。</p>
<h3 id="语法"><a href="#语法" class="headerlink" title="语法"></a>语法</h3><p>CSS规则由两个主要的部分组成：选择器，以及一条或多条声明(样式)。</p>
<p>选择器通常是需要改变样式的HTML元素。</p>
<p>每条声明由一个属性和一个值组成。</p>
<p>属性是希望设置的样式属性。每个属性都有一个值。属性和值被冒号分开。</p>
<p>例：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;style&gt;</span><br><span class="line">    <span class="selector-tag">h1</span>&#123;</span><br><span class="line">     <span class="attribute">color</span>:blue;</span><br><span class="line">     <span class="attribute">font-size</span>:<span class="number">12px</span>;</span><br><span class="line">      &#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>在刚了解css时我们可以先把样式写在head里面，等到熟练了以后再单独写入.css文件内。<br>在<code>&lt;style&gt;</code>(双标签)内写。</p>
</blockquote>
<p>文字样式：</p>
<ul>
<li>color 字体颜色样式。</li>
<li>font-size 字体大小样式。</li>
</ul>
<h3 id="css的引入方式"><a href="#css的引入方式" class="headerlink" title="css的引入方式"></a>css的引入方式</h3><p>&#x3D;&#x3D;内联样式(行内样式)&#x3D;&#x3D;</p>
<p>要使用内联样式，你需要在相关的标签内使用样式(style)属性。style属性可以包括任何css属性。</p>
<blockquote>
<p>这种方式缺乏整体性和规划性，不利于维护，维护成本高。</p>
</blockquote>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="selector-tag">p</span> style=&quot;backgroud: orange;<span class="attribute">font-size</span>: <span class="number">24px</span>;&quot;&gt;css&lt;/<span class="selector-tag">p</span>&gt;</span><br></pre></td></tr></table></figure>

<p>&#x3D;&#x3D;内部样式&#x3D;&#x3D;</p>
<p>当单个文档需要特殊的样式时，就应该使用内部样式表、你可以使用<code>&lt;style&gt;</code>标签在文档头部定义内部样式表。</p>
<blockquote>
<p>单个页面内的css代码具有统一性，便于维护，但是多个页面之间容易混乱。</p>
</blockquote>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;style&gt;</span><br><span class="line">        <span class="selector-tag">h1</span>&#123;</span><br><span class="line">        <span class="attribute">color</span>:blue;</span><br><span class="line">        <span class="attribute">font-size</span>:<span class="number">12px</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &lt;/style&gt;</span><br><span class="line">&lt;/head&gt;</span><br></pre></td></tr></table></figure>

<p>&#x3D;&#x3D;外部样式&#x3D;&#x3D;(<strong>推荐</strong>)</p>
<p>当样式需要应用于很多页面时，外部样式表将是理想的选择。在使用外部样式表的情况下，你可以通过改变一个文件来改变整个站点的外观。每个页面使用<code>&lt;link&gt;</code>(单标签)标签链接到样式表。<code>&lt;link&gt;</code>标签在(文档的)头部。</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;link rel=&quot;stylesheep&quot; type=&quot;<span class="selector-tag">text</span>/css&quot; href=&quot;xxx<span class="selector-class">.css</span>&quot;&gt;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>建立一个css文件(<strong>不能写HTML</strong>)写完样式属性，再用link插入到需要的网页里。<br>rel&#x3D;”stylesheep”是默认的不用改。</p>
</blockquote>
<h3 id="选择器"><a href="#选择器" class="headerlink" title="选择器"></a>选择器</h3><p>css语法规则由两个主要的部分构成：<strong>选择器</strong>，以及一条或多条的声明(样式)。</p>
<p>全局选择器</p>
<p>可以与任何元素匹配，优先级最低，一般做样式初始化。</p>
<p>例：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">*&#123;</span><br><span class="line">    <span class="attribute">margin</span>:<span class="number">0</span>;</span><br><span class="line">    <span class="attribute">padding</span>:<span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>*表示通配符。</p>
</blockquote>
<p>元素选择器(p,b,div等都是元素)</p>
<p>标签选择器，选择的是页面上所有这种类型的标签，所以经常描述”共性”，无法描述某一个元素的”个性”。</p>
<p>例：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 例一*/</span></span><br><span class="line"><span class="selector-tag">p</span>&#123;</span><br><span class="line">    font_size:<span class="number">14px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 例二 */</span></span><br><span class="line">&lt;<span class="selector-tag">p</span>&gt;学完&lt;<span class="selector-tag">span</span>&gt;前端&lt;/<span class="selector-tag">span</span>&gt;，学后端&lt;/<span class="selector-tag">p</span>&gt;</span><br><span class="line">.......</span><br><span class="line">......</span><br><span class="line">&lt;style&gt;</span><br><span class="line">    <span class="selector-tag">span</span>&#123;</span><br><span class="line">        <span class="attribute">color</span>:red;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/stple&gt;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>所有的标签，都可以是选择器。<br>无论嵌套多少层，一定都生效。<br>选择的是所有，不是一个。</p>
</blockquote>
<p>类选择器</p>
<p>规定用圆点<code>.</code>来定义，针对你想要的所有标签使用。</p>
<p>&#x3D;&#x3D;<strong>优点</strong>：灵活&#x3D;&#x3D;</p>
<p>例：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="selector-tag">h1</span> class=&quot;oneclass&quot;&gt;你好&lt;/<span class="selector-tag">h1</span>&gt;</span><br><span class="line">...</span><br><span class="line">...</span><br><span class="line">&lt;style&gt;</span><br><span class="line">   <span class="selector-class">.oneclass</span>&#123;</span><br><span class="line">        <span class="attribute">color</span>:red;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/stple&gt;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>class起的名字由数字、字母、”-“组成。</p>
</blockquote>
<p>class属性的特点</p>
<ul>
<li>类选择器可以被多种标签使用。</li>
<li>类名不能以数字开头。</li>
<li>同一标签可以使用多个类选择器，在引号内用空格分开。</li>
</ul>
<p>例：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="selector-tag">h1</span> class=&quot;oneclass size&quot;&gt;你好&lt;/<span class="selector-tag">h1</span>&gt;<span class="comment">/* 正确 */</span></span><br><span class="line">&lt;<span class="selector-tag">h1</span> class=&quot;oneclass&quot; class=&quot;size&quot;&gt;你好&lt;/<span class="selector-tag">h1</span>&gt;<span class="comment">/* 错误 */</span></span><br></pre></td></tr></table></figure>

<p><code>ID</code>选择器</p>
<p>针对某一特定的标签来使用，只能使用一次。<code>css</code>种的<code>ID</code>选择器以<code>#</code>来定义。</p>
<p>例：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="selector-tag">h2</span> id=&quot;mytitle&quot;&gt;你好&lt;/<span class="selector-tag">h2</span>&gt;</span><br><span class="line"><span class="selector-id">#mytitle</span>&#123;</span><br><span class="line">    <span class="attribute">border</span>:<span class="number">3px</span> dashed green;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>ID是唯一的，且不能以数字开头。</p>
</blockquote>
<p>合并选择器</p>
<p>语法：选择器1,选择器2,…{}</p>
<p>作用：提取相同的样式，减少重复代码。</p>
<p>例：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.mytitle</span>,<span class="selector-class">.test</span>&#123;</span><br><span class="line">    <span class="attribute">border</span>:<span class="number">3px</span> dashed green;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="选择器的优先级"><a href="#选择器的优先级" class="headerlink" title="选择器的优先级"></a>选择器的优先级</h4><p>css中权重用数字衡量</p>
<p>元素选择器的权重为；1</p>
<p>类选择器的权重为；10</p>
<p>id选择器的权重为：100</p>
<p>内联样式的权重为：1000</p>
<p>优先级从高到低：行内样式&gt;id选择器&gt;类选择器&gt;元素选择器</p>
<p>当权值相同时，按照代码的执行顺序生效。</p>
<h3 id="字体属性"><a href="#字体属性" class="headerlink" title="字体属性"></a>字体属性</h3><p>css字体属性定义字体、颜色、大小、加粗、文字样式。</p>
<h4 id="color-规定文本颜色"><a href="#color-规定文本颜色" class="headerlink" title="color - 规定文本颜色"></a>color - 规定文本颜色</h4><p>都以红色为例：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">div</span>&#123;<span class="attribute">color</span>: red;&#125;</span><br><span class="line"><span class="selector-tag">div</span>&#123;<span class="attribute">color</span>: <span class="number">#ff0000</span>;&#125;</span><br><span class="line"><span class="selector-tag">div</span>&#123;<span class="attribute">color</span>: <span class="built_in">rgb</span>(<span class="number">255</span>,<span class="number">0</span>,<span class="number">0</span>);&#125;</span><br><span class="line"><span class="selector-tag">div</span>&#123;<span class="attribute">color</span>: <span class="built_in">rgba</span>(<span class="number">255</span>,<span class="number">0</span>,<span class="number">0</span>,.<span class="number">5</span>);&#125;<span class="comment">/* a代表透明度，取值为0-1 */</span></span><br></pre></td></tr></table></figure>

<h4 id="font-size-设置字体大小"><a href="#font-size-设置字体大小" class="headerlink" title="font-size - 设置字体大小"></a>font-size - 设置字体大小</h4><P style="color:red">字体的大侠在页面设计中十分的重要!</p>

<p>例：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">p</span>&#123;<span class="attribute">font-size</span>: <span class="number">40px</span>;&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>谷歌浏览器能接受的最小字体是12px。</p>
</blockquote>
<h4 id="font-weight-设置文本的粗细"><a href="#font-weight-设置文本的粗细" class="headerlink" title="font-weight - 设置文本的粗细"></a>font-weight - 设置文本的粗细</h4><table>
<thead>
<tr>
<th>值</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>bold</td>
<td>定义粗体字符</td>
</tr>
<tr>
<td>bolder</td>
<td>定义更粗字符</td>
</tr>
<tr>
<td>lighter</td>
<td>定义更细字符</td>
</tr>
<tr>
<td>100-900</td>
<td>定义由细到粗 400等同默认，700等同bold</td>
</tr>
</tbody></table>
<p>例：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">p</span>&#123;<span class="attribute">font-weight</span>: normal;&#125;</span><br><span class="line"><span class="selector-tag">p</span>&#123;<span class="attribute">font-weight</span>: bold;&#125;</span><br><span class="line"><span class="selector-tag">p</span>&#123;<span class="attribute">font-weight</span>: <span class="number">900</span>;&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>在谷歌浏览器中 bold与bolder是没有区别的。</p>
</blockquote>
<h4 id="font-style-设置文本的字体样式"><a href="#font-style-设置文本的字体样式" class="headerlink" title="font-style - 设置文本的字体样式"></a>font-style - 设置文本的字体样式</h4><table>
<thead>
<tr>
<th>值</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>normal</td>
<td>默认值</td>
</tr>
<tr>
<td>italic</td>
<td>定义斜体字</td>
</tr>
</tbody></table>
<h4 id="font-family-设置元素字体"><a href="#font-family-设置元素字体" class="headerlink" title="font-family - 设置元素字体"></a>font-family - 设置元素字体</h4><blockquote>
<p>每一个值用逗号分开。<br>如果字体名称含空格，必须加上引号。</p>
</blockquote>
<p>例：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">p</span>&#123;<span class="attribute">font-family</span>:<span class="string">&quot;Microsoft YaHei&quot;</span>,<span class="string">&quot;Simsun&quot;</span>,<span class="string">&quot;SimHei&quot;</span>;&#125;</span><br></pre></td></tr></table></figure>

<h3 id="背景属性"><a href="#背景属性" class="headerlink" title="背景属性"></a>背景属性</h3><p>css背景属性主要有以下几个：</p>
<table>
<thead>
<tr>
<th>属性</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>background-color</td>
<td>设置背景颜色</td>
</tr>
<tr>
<td>background-image</td>
<td>设置背景图片</td>
</tr>
<tr>
<td>background-position</td>
<td>设置背景图片显示位置</td>
</tr>
<tr>
<td>background-repeat</td>
<td>设置背景图片如何填充</td>
</tr>
<tr>
<td>background-size</td>
<td>设置背景图片大小属性</td>
</tr>
</tbody></table>
<h4 id="background-color-设置背景颜色"><a href="#background-color-设置背景颜色" class="headerlink" title="background-color - 设置背景颜色"></a>background-color - 设置背景颜色</h4><p>例：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="selector-tag">div</span> class=&quot;box&quot;&gt;&lt;/<span class="selector-tag">div</span>&gt;</span><br><span class="line"><span class="selector-class">.box</span>&#123;</span><br><span class="line">    <span class="attribute">width</span>:<span class="number">300px</span>;</span><br><span class="line">    <span class="attribute">height</span>:<span class="number">300px</span>;</span><br><span class="line">    <span class="attribute">background-color</span>:palevioletred;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p><em>div是容器会单独占一行的，span是表示不会占一行的</em><br>当div容器设置宽高的时候，表示他占了一块面积为宽x高的地方。<br>opacity是透明度属性。</p>
</blockquote>
<h4 id="background-image-设置元素的背景图片"><a href="#background-image-设置元素的背景图片" class="headerlink" title="background-image - 设置元素的背景图片"></a>background-image - 设置元素的背景图片</h4><p>元素的背景是元素的总大小，包括填充和边界(不包括外边距)。默认情况下background-image属性放在元素的左上角，如果图片不够大的化会在水平和垂直方向铺平图像，如果图片大小超过元素大小，从图像的左上角显示元素大小的那部分。</p>
<p>例：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="selector-tag">div</span> class=&quot;box&quot;&gt;&lt;/<span class="selector-tag">div</span>&gt;</span><br><span class="line"><span class="selector-class">.box</span>&#123;</span><br><span class="line">    <span class="attribute">width</span>:<span class="number">300px</span>;</span><br><span class="line">    <span class="attribute">height</span>:<span class="number">300px</span>;</span><br><span class="line">    <span class="attribute">background-image</span>:<span class="built_in">ulr</span>(<span class="string">&quot;img.jpg&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="background-repeat-设置如何平铺背景图像"><a href="#background-repeat-设置如何平铺背景图像" class="headerlink" title="background-repeat - 设置如何平铺背景图像"></a>background-repeat - 设置如何平铺背景图像</h4><table>
<thead>
<tr>
<th>值</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>repeat</td>
<td>默认值</td>
</tr>
<tr>
<td>repeat-x</td>
<td>只向水平方向平铺</td>
</tr>
<tr>
<td>repeat-y</td>
<td>只向水平方向平铺</td>
</tr>
<tr>
<td>no-repeat</td>
<td>不平铺</td>
</tr>
</tbody></table>
<p>例：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="selector-tag">div</span> class=&quot;box&quot;&gt;&lt;/<span class="selector-tag">div</span>&gt;</span><br><span class="line"><span class="selector-class">.box</span>&#123;</span><br><span class="line">    <span class="attribute">width</span>:<span class="number">300px</span>;</span><br><span class="line">    <span class="attribute">height</span>:<span class="number">300px</span>;</span><br><span class="line">    <span class="attribute">background-image</span>:<span class="built_in">ulr</span>(<span class="string">&quot;img.jpg&quot;</span>);</span><br><span class="line">    <span class="attribute">background-repeat</span>: no-repeat;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>默认是都平铺</p>
<p>ulr内的路径需要用<code>/</code>或者<code>\\</code></p>
</blockquote>
<h4 id="background-size-设置背景图片的大小"><a href="#background-size-设置背景图片的大小" class="headerlink" title="background-size - 设置背景图片的大小"></a>background-size - 设置背景图片的大小</h4><table>
<thead>
<tr>
<th>值</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>length</td>
<td>设置背景图片的宽度和高度，第一个值是宽度，第二个值是高度，如果只设置一个，第二个值是auto</td>
</tr>
<tr>
<td>percentage</td>
<td>计算相对位置区域的百分比，第一个值是宽度，第二个值是高度，如果只设置一个，第二个值是auto</td>
</tr>
<tr>
<td>cover</td>
<td>保持图片纵横比并将图片缩放成<strong>完全覆盖</strong>背景区域的最<em>小</em>大小</td>
</tr>
<tr>
<td>contain</td>
<td>保持图片纵横比并将图片缩放成<strong>适合</strong>背景区域的最<em>大</em>大小</td>
</tr>
</tbody></table>
<blockquote>
<p>cover使用率最高</p>
</blockquote>
<p>例：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="selector-tag">div</span> class=&quot;box&quot;&gt;&lt;/<span class="selector-tag">div</span>&gt;</span><br><span class="line"><span class="selector-class">.box</span>&#123;</span><br><span class="line">    <span class="attribute">width</span>:<span class="number">300px</span>;</span><br><span class="line">    <span class="attribute">height</span>:<span class="number">300px</span>;</span><br><span class="line">    <span class="attribute">background-image</span>:<span class="built_in">ulr</span>(<span class="string">&quot;img.jpg&quot;</span>);</span><br><span class="line">    <span class="attribute">background-repeat</span>: no-repeat;</span><br><span class="line">    <span class="attribute">background-size</span>；<span class="number">100%</span> <span class="number">100%</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="background-position-设置背景图片的起始位置，默认是0-0"><a href="#background-position-设置背景图片的起始位置，默认是0-0" class="headerlink" title="background-position - 设置背景图片的起始位置，默认是0% 0%"></a>background-position - 设置背景图片的起始位置，默认是0% 0%</h4><table>
<thead>
<tr>
<th>值</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>lift top</td>
<td>左上</td>
</tr>
<tr>
<td>left ccenter</td>
<td>左中</td>
</tr>
<tr>
<td>left bottom</td>
<td>左下</td>
</tr>
<tr>
<td>right top</td>
<td>右上</td>
</tr>
<tr>
<td>right center</td>
<td>右中</td>
</tr>
<tr>
<td>right bottom</td>
<td>右下</td>
</tr>
<tr>
<td>center top</td>
<td>中上</td>
</tr>
<tr>
<td>center center</td>
<td>中中</td>
</tr>
<tr>
<td>center bottom</td>
<td>中下</td>
</tr>
<tr>
<td>x% y%</td>
<td>第一值是水平位置，第二值是垂直位置，左上角是0% 0%，右下角是100% 100%。如果只指定了一个值，其他默认是50%。默认是0% 0%</td>
</tr>
<tr>
<td>xpos ypos</td>
<td>单位是像素</td>
</tr>
</tbody></table>
<p>例：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="selector-tag">div</span> class=&quot;box&quot;&gt;&lt;/<span class="selector-tag">div</span>&gt;</span><br><span class="line"><span class="selector-class">.box</span>&#123;</span><br><span class="line">    <span class="attribute">width</span>:<span class="number">300px</span>;</span><br><span class="line">    <span class="attribute">height</span>:<span class="number">300px</span>;</span><br><span class="line">    <span class="attribute">background-image</span>:<span class="built_in">ulr</span>(<span class="string">&quot;img.jpg&quot;</span>);</span><br><span class="line">    <span class="attribute">background-position</span>；center;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>background-repeat等是当容器大于图片时的处理，background-position是当图片大于容器时的处理。</p>
</blockquote>
<h3 id="文本属性"><a href="#文本属性" class="headerlink" title="文本属性"></a>文本属性</h3><h4 id="text-align-指定元素文本的对平对齐方式"><a href="#text-align-指定元素文本的对平对齐方式" class="headerlink" title="text-align - 指定元素文本的对平对齐方式"></a>text-align - 指定元素文本的对平对齐方式</h4><table>
<thead>
<tr>
<th>值</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>left</td>
<td>文本居左排列，默认值</td>
</tr>
<tr>
<td>right</td>
<td>把文本排列到右边</td>
</tr>
<tr>
<td>center</td>
<td>把文本排列到中间</td>
</tr>
</tbody></table>
<p>例：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">h1</span>&#123;<span class="attribute">text-align</span>:center;&#125;</span><br><span class="line"><span class="selector-tag">h2</span>&#123;<span class="attribute">text-align</span><span class="selector-pseudo">:left</span>;&#125;</span><br><span class="line"><span class="selector-tag">h3</span>&#123;<span class="attribute">text-align</span><span class="selector-pseudo">:right</span>;&#125;</span><br></pre></td></tr></table></figure>

<h4 id="text-docoration-规定添加到文本的修饰，下划线，上划线，删除线等"><a href="#text-docoration-规定添加到文本的修饰，下划线，上划线，删除线等" class="headerlink" title="text-docoration - 规定添加到文本的修饰，下划线，上划线，删除线等"></a>text-docoration - 规定添加到文本的修饰，下划线，上划线，删除线等</h4><table>
<thead>
<tr>
<th>值</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>underline</td>
<td>定义下划线</td>
</tr>
<tr>
<td>overline</td>
<td>定义上划线</td>
</tr>
<tr>
<td>line-through</td>
<td>定义删除线</td>
</tr>
</tbody></table>
<p>例：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">h1</span>&#123;<span class="selector-tag">text</span>-docoration:overline;&#125;</span><br><span class="line"><span class="selector-tag">h2</span>&#123;<span class="selector-tag">text</span>-docoration:underline;&#125;</span><br><span class="line"><span class="selector-tag">h3</span>&#123;<span class="selector-tag">text</span>-docoration:line-through;&#125;</span><br></pre></td></tr></table></figure>

<h4 id="text-transform-控制文本的大小写"><a href="#text-transform-控制文本的大小写" class="headerlink" title="text-transform - 控制文本的大小写"></a>text-transform - 控制文本的大小写</h4><table>
<thead>
<tr>
<th>值</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>captialize</td>
<td>定义每个单词开头大写</td>
</tr>
<tr>
<td>uppercase</td>
<td>定义全部大写字母</td>
</tr>
<tr>
<td>lowercase</td>
<td>定义全部小写字母</td>
</tr>
</tbody></table>
<p>例：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">h1</span>&#123;<span class="attribute">text-transform</span>:captialize;&#125;</span><br><span class="line"><span class="selector-tag">h2</span>&#123;<span class="attribute">text-transform</span>:uppercase;&#125;</span><br><span class="line"><span class="selector-tag">p</span>&#123;<span class="attribute">text-transform</span>:lowercase;&#125;</span><br></pre></td></tr></table></figure>

<h4 id="text-indent-规定文本块中首行文本缩进"><a href="#text-indent-规定文本块中首行文本缩进" class="headerlink" title="text-indent - 规定文本块中首行文本缩进"></a>text-indent - 规定文本块中首行文本缩进</h4><p>例：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">p</span>&#123;</span><br><span class="line">    <span class="attribute">text-indent</span>:<span class="number">50px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>负值是允许的。如果是负数，将第一行左缩进。</p>
</blockquote>
<h3 id="表格属性"><a href="#表格属性" class="headerlink" title="表格属性"></a>表格属性</h3><p>使用css使HTML表格更漂亮。</p>
<h4 id="表格边框"><a href="#表格边框" class="headerlink" title="表格边框"></a>表格边框</h4><p>指定css表格边框，使用border属性</p>
<p>例：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">table</span>,<span class="selector-tag">td</span>&#123;</span><br><span class="line">    <span class="attribute">border</span>:<span class="number">1px</span> solid black;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>border表示边框，<code>1px</code>表示线的宽度，solid表示实线，black表示颜色。</p>
</blockquote>
<h4 id="折叠边框"><a href="#折叠边框" class="headerlink" title="折叠边框"></a>折叠边框</h4><p>设置表格的边框是否被折叠成一个单一的边框或隔开</p>
<p>例：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">table</span>&#123;</span><br><span class="line">    <span class="attribute">border-collapse</span>:collapse;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">table</span>,<span class="selector-tag">td</span>&#123;</span><br><span class="line">    <span class="attribute">border</span>:<span class="number">1px</span> solid black;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>首先要设计好边框，之后 border-collapse:collapse;才会生效，这个属性与td写在一起也没有发生什么冲突(亲测)。</p>
</blockquote>
<h4 id="表格宽度与高度"><a href="#表格宽度与高度" class="headerlink" title="表格宽度与高度"></a>表格宽度与高度</h4><p>width和height属性定义表格的宽度和高度</p>
<p>例：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">table</span>&#123;</span><br><span class="line">    <span class="attribute">width</span>:<span class="number">50px</span>;</span><br><span class="line">    <span class="attribute">height</span>:<span class="number">50px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<blockquote>
<p>当宽度和高度给table设置的时候，表格整体是设计的大小，要是给td设置时，就是一个单元格是设置的大小。</p>
</blockquote>
<h4 id="表格文字对齐"><a href="#表格文字对齐" class="headerlink" title="表格文字对齐"></a>表格文字对齐</h4><p>表格中的文本对齐和垂直对齐属性</p>
<p>text-align属性设置水平对齐方式，向左、右、或者中心。</p>
<p>垂直对齐属性设置垂直对齐</p>
<p>例：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">td</span>&#123;</span><br><span class="line">    <span class="attribute">text-align</span><span class="selector-pseudo">:right</span>;</span><br><span class="line">    <span class="attribute">vertical-align</span>:botton;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<blockquote>
<p>top居上，center居中，<code>botton</code>居下。</p>
</blockquote>
<h4 id="表格填充"><a href="#表格填充" class="headerlink" title="表格填充"></a>表格填充</h4><p>如果在表的内容中控制空格之间的边框，应使用td的填充属性</p>
<p>例：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">td</span>&#123;</span><br><span class="line">    <span class="attribute">padding</span>:<span class="number">15px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<blockquote>
<p>当设置padding后就不用再可以的设置宽高了，他默认是居中，上下左右都填充。</p>
</blockquote>
<h4 id="表格颜色"><a href="#表格颜色" class="headerlink" title="表格颜色"></a>表格颜色</h4><p>下例指定边框的颜色，和th元素的文本和背景颜色：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">table</span>,<span class="selector-tag">td</span>&#123;</span><br><span class="line">    <span class="attribute">border</span>:<span class="number">1px</span> solid green;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">td</span>&#123;</span><br><span class="line">    <span class="attribute">background-color</span>:green;</span><br><span class="line">    <span class="attribute">color</span>:white;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="关系选择器"><a href="#关系选择器" class="headerlink" title="关系选择器"></a>关系选择器</h3><p>关系选择器分为：</p>
<ul>
<li>后代选择器</li>
<li>子代选择器</li>
<li>相邻兄弟选择器</li>
<li>通用兄弟选择器</li>
</ul>
<h4 id="后代选择器"><a href="#后代选择器" class="headerlink" title="后代选择器"></a>后代选择器</h4><p>定义：选择所有被E元素包含的F元素，中间用空格隔开</p>
<p>语法：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">E F&#123;&#125;</span><br></pre></td></tr></table></figure>

<p>例：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="selector-tag">ul</span>&gt;</span><br><span class="line">    &lt;<span class="selector-tag">li</span>&gt;你好&lt;/<span class="selector-tag">li</span>&gt;</span><br><span class="line">    &lt;<span class="selector-tag">li</span>&gt;我好&lt;/<span class="selector-tag">li</span>&gt;</span><br><span class="line">    &lt;<span class="selector-tag">li</span>&gt;大家好&lt;/<span class="selector-tag">li</span>&gt;</span><br><span class="line">    &lt;<span class="selector-tag">li</span>&gt;你好吗&lt;/<span class="selector-tag">li</span>&gt;</span><br><span class="line">&lt;/<span class="selector-tag">ul</span>&gt;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">ul</span> <span class="selector-tag">li</span>&#123;</span><br><span class="line">    <span class="attribute">color</span>:blue;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="子代选择器"><a href="#子代选择器" class="headerlink" title="子代选择器"></a>子代选择器</h4><p>定义：选择所有作为E元素的直接子元素F，中间&gt;表示</p>
<p>语法：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">E&gt;F&#123;&#125;</span><br></pre></td></tr></table></figure>

<p>例：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="selector-tag">div</span>&gt;</span><br><span class="line">    &lt;<span class="selector-tag">p</span>&gt;这是一个段落&lt;<span class="selector-tag">a</span> href=&quot;#&quot;&gt;空连接&lt;/<span class="selector-tag">a</span>&gt;&lt;/<span class="selector-tag">p</span>&gt;</span><br><span class="line">    &lt;<span class="selector-tag">a</span> href=&quot;#&quot;&gt;也是一个空连接&lt;/<span class="selector-tag">a</span>&gt;</span><br><span class="line">&lt;/<span class="selector-tag">div</span>&gt;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">div</span>&gt;<span class="selector-tag">a</span>&#123;</span><br><span class="line">    <span class="attribute">color</span>:blue;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="相邻兄弟选择器"><a href="#相邻兄弟选择器" class="headerlink" title="相邻兄弟选择器"></a>相邻兄弟选择器</h4><p>定义：选择紧跟E元素后的F元素，用加号表示，选择相邻的第一个兄弟元素。</p>
<p>语法：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">E+F&#123;&#125;</span><br></pre></td></tr></table></figure>

<p>例：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="selector-tag">h1</span>&gt;你好&lt;/<span class="selector-tag">h1</span>&gt;</span><br><span class="line">&lt;<span class="selector-tag">p</span>&gt;我好&lt;/<span class="selector-tag">p</span>&gt;</span><br><span class="line">&lt;<span class="selector-tag">p</span>&gt;我们好&lt;/<span class="selector-tag">p</span>&gt;</span><br><span class="line"><span class="selector-tag">h1</span>+<span class="selector-tag">p</span>&#123;</span><br><span class="line">    <span class="attribute">color</span>:blue;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>只能向下相邻。</p>
</blockquote>
<h4 id="通用兄弟选择器"><a href="#通用兄弟选择器" class="headerlink" title="通用兄弟选择器"></a>通用兄弟选择器</h4><p>定义：选择E元素之后所有兄弟元素f，作用于多个元素，用~隔开。</p>
<p>语法：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">E~F&#123;&#125;</span><br></pre></td></tr></table></figure>

<p>例：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="selector-tag">h1</span>&gt;你好&lt;/<span class="selector-tag">h1</span>&gt;</span><br><span class="line">&lt;<span class="selector-tag">p</span>&gt;我好&lt;/<span class="selector-tag">p</span>&gt;</span><br><span class="line">&lt;<span class="selector-tag">p</span>&gt;我们好&lt;/<span class="selector-tag">p</span>&gt;</span><br><span class="line"><span class="selector-tag">h1</span>~<span class="selector-tag">p</span>&#123;</span><br><span class="line">    <span class="attribute">color</span>:blue;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="css盒子模型-Box-Model"><a href="#css盒子模型-Box-Model" class="headerlink" title="css盒子模型(Box Model)"></a>css盒子模型(Box Model)</h3><p>概念：</p>
<p>所有HTML元素可以看作盒子，再css中，”box model”这一术语是用来设计和布局时使用</p>
<p>css盒模型本质上是一个盒子，封装周围的HTML元素，他包括：外边距，边框，内边框，和实际内容。</p>
<p><img src="C:\Users\ASUS\AppData\Roaming\Typora\typora-user-images\image-20230130160513283.png" alt="image-20230130160513283"></p>
<ul>
<li>Margin(外边距) - 清除边框外的区域，外边距是透明的。</li>
<li>Border(边框) - 围绕再内边距和内容外边的边框。</li>
<li>Padding(内边距) - 清除内容周围的区域。</li>
<li>Content(内容) - 盒子的内容，显示文本和图像。</li>
</ul>
<blockquote>
<p>以上都是属性，都可以设置的。<br>当padding或者margin属性内的值变成了两个，第一个是表示上下的内间距，第二个表示左右的内间距。<br>padding和margin属性都有-left,-right,-top,-bottom四个分开的属性。</p>
</blockquote>
<h3 id="弹性盒子模型-flex-box"><a href="#弹性盒子模型-flex-box" class="headerlink" title="弹性盒子模型(flex box)"></a>弹性盒子模型(flex box)</h3><p>定义：</p>
<p>弹性盒子是css3的一种新的布局模式。</p>
<p>css3弹性盒子模型是一种当页面需要适应不同的屏幕大小以及设备类型时确保元素拥有恰当的行为的布局方式。</p>
<p>引入弹性盒子布局模型的目的时提供一种更加有效的方式来对一个容器中的子元素进行排列、对齐和分配空白空间。</p>
<h4 id="css3弹性盒子模型内容"><a href="#css3弹性盒子模型内容" class="headerlink" title="css3弹性盒子模型内容"></a>css3弹性盒子模型内容</h4><p>弹性盒子由弹性容器和弹性子元素组成。</p>
<p>弹性容器通过设置<code>display</code>属性的值为<code>flex</code>将其定义为弹性容器。</p>
<p>弹性容器内包含了一个或多个弹性元素。</p>
<blockquote>
<p>弹性容器外及弹性子元素时正常渲染。弹性盒子只是定义了弹性子元素如何再弹性容器内布局。</p>
</blockquote>
<p>例：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="selector-tag">div</span> class=&quot;<span class="attribute">container</span>&quot;&gt;</span><br><span class="line">    &lt;<span class="selector-tag">div</span> class=&quot;box1&quot;&gt;&lt;/<span class="selector-tag">div</span>&gt;</span><br><span class="line">    &lt;<span class="selector-tag">div</span> class=&quot;box2&quot;&gt;&lt;/<span class="selector-tag">div</span>&gt;</span><br><span class="line">    &lt;<span class="selector-tag">div</span> class=&quot;box3&quot;&gt;&lt;/<span class="selector-tag">div</span>&gt;</span><br><span class="line">&lt;/<span class="selector-tag">div</span>&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line">    <span class="selector-class">.container</span>&#123;</span><br><span class="line">        <span class="attribute">background-color</span>:cadetblue;</span><br><span class="line">        <span class="attribute">width</span>:<span class="number">300px</span>;</span><br><span class="line">         <span class="attribute">height</span>:<span class="number">300px</span>;</span><br><span class="line">        <span class="attribute">display</span>:flex;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="selector-class">.box1</span>&#123;</span><br><span class="line">       <span class="attribute">background-color</span>:red;</span><br><span class="line">        <span class="attribute">width</span>:<span class="number">50px</span>;</span><br><span class="line">         <span class="attribute">height</span>:<span class="number">50px</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="selector-class">.box2</span>&#123;</span><br><span class="line">       <span class="attribute">background-color</span>:blue;</span><br><span class="line">        <span class="attribute">width</span>:<span class="number">50px</span>;</span><br><span class="line">         <span class="attribute">height</span>:<span class="number">50px</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="selector-class">.box3</span>&#123;</span><br><span class="line">        <span class="attribute">background-color</span>:green;</span><br><span class="line">        <span class="attribute">width</span>:<span class="number">50px</span>;</span><br><span class="line">        <span class="attribute">height</span>:<span class="number">50px</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>正常div是块元素，在排列时，三个div是列摆放的，但是使用弹性盒子模型后就会横着摆放。因为默认弹性盒子里的内容是横向摆放的</p>
</blockquote>
<h4 id="父元素上的属性"><a href="#父元素上的属性" class="headerlink" title="父元素上的属性"></a>父元素上的属性</h4><h5 id="display属性"><a href="#display属性" class="headerlink" title="display属性"></a>display属性</h5><p>display:flex;开启弹性盒，默认弹性盒子里的内容是横向摆放的</p>
<blockquote>
<p>&#x3D;&#x3D;<strong>以下属性都是在开启弹性模型后才会生效的(亲测)。</strong>&#x3D;&#x3D;</p>
</blockquote>
<h5 id="flex-direction属性"><a href="#flex-direction属性" class="headerlink" title="flex-direction属性"></a>flex-direction属性</h5><p>定义：</p>
<p>指定了弹性子元素在父容器中的位置。</p>
<p>语法：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">flex-direction</span>: row|row-reverse|column|column-reverse;</span><br></pre></td></tr></table></figure>

<ul>
<li>row：横向从左到右排列(左对齐)，默认的排列方式。</li>
<li>row-reverse：反转横向排列(右对齐，从后往前排，最后一项排在最前面)。</li>
<li>column：纵向排列。</li>
<li>column-reverse：反转纵向排列，从后往前排，最后一项排在最上面。</li>
</ul>
<blockquote>
<p>一旦翻转就是反向对齐了。</p>
</blockquote>
<h5 id="justify-content属性"><a href="#justify-content属性" class="headerlink" title="justify-content属性"></a>justify-content属性</h5><p>定义：</p>
<p>内容对齐属性应用在弹性容器上，把弹性项沿着弹性容器的主轴线对齐。</p>
<p>语法：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">justify-content</span>:flex-start|flex-end|center;</span><br></pre></td></tr></table></figure>

<ul>
<li>flex-start:弹性项目向行头紧挨着填充。这个是默认值。第一个弹性项的main-start外边距边线被放置在该行的main-start边线，而后续弹性项一次平齐摆放。</li>
<li>flex-end:弹性项目向行尾紧挨着填充。第一个弹性项的main-end外边距边线被防止在该行的main-end边线，而后续弹性项一次平齐摆放。</li>
<li>center:弹性项目居中紧挨着填充。(如果剩余的自由空间是负的，则弹性项目将在两个放下上同时溢出)。</li>
</ul>
<h5 id="align-items属性"><a href="#align-items属性" class="headerlink" title="align-items属性"></a>align-items属性</h5><p>定义：</p>
<p>设置或查索弹性盒子与严肃在侧轴(纵轴)方向上的对齐方式。</p>
<p>语法：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">align-items</span>:flex-start|flex-end|center;</span><br></pre></td></tr></table></figure>

<ul>
<li>flex-start:弹性盒子元素的侧轴(纵轴）起始位置的边界紧靠住该行的侧轴起始边界。</li>
<li>flex-end:弹性盒子元素的侧轴(纵轴）起始位置的边界紧靠住该行的侧轴结束边界</li>
<li>center:弹性盒子元素在该行的侧轴(纵轴)上居中放置。(如果该行的尺寸小于弹性盒子元素的尺寸，则会向两个方向溢出相同的长度)。</li>
</ul>
<h4 id="子元素上的属性"><a href="#子元素上的属性" class="headerlink" title="子元素上的属性"></a>子元素上的属性</h4><h5 id="flex"><a href="#flex" class="headerlink" title="flex"></a>flex</h5><p>根据弹性盒子元素所设置的扩展因子作为比率来分配剩余空间。</p>
<p>默认为0，即如果存在剩余空间，也不放大。</p>
<p>如果只有一个子元素设置，那么按扩展因子转化的百分比对其分配剩余空间。0.1即10%，1即100%，超出按100%。</p>
<p>例：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">flex</span>: <span class="number">10%</span>;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>当使用了flex widch就不再生效了，flex优先级高。</p>
</blockquote>
<h3 id="文档流"><a href="#文档流" class="headerlink" title="文档流"></a>文档流</h3><p>文档流是文档中可以显示对象在排列时所占用的位置&#x2F;空间。</p>
<p>例如：块元素自上而下摆放，内联元素，从左到右摆放。</p>
<p>标准流里面的限制非常多，导致很多页面效果无法实现。</p>
<p>比如：</p>
<ol>
<li>高矮不一，底边对齐。</li>
<li>空白折叠现象<ol>
<li>无论多少个空格、换行、tab、都会折为一个空格</li>
<li>如果我们想让img标签之间没有空隙，必须紧密连接</li>
</ol>
</li>
</ol>
<h3 id="脱离文档流"><a href="#脱离文档流" class="headerlink" title="脱离文档流"></a>脱离文档流</h3><p>使一个元素脱离标准文档流有三种方式：</p>
<ol>
<li>浮动</li>
<li>绝对位置</li>
<li>固定位置</li>
</ol>
<h4 id="浮动"><a href="#浮动" class="headerlink" title="浮动"></a>浮动</h4><p>增加一个浮层来放置内容</p>
<p>浮动的定义：</p>
<p>float属性定义元素在哪个方向浮动，任何元素都可以浮动。</p>
<table>
<thead>
<tr>
<th>值</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>left</td>
<td>元素向左浮动</td>
</tr>
<tr>
<td>right</td>
<td>元素向右浮动</td>
</tr>
</tbody></table>
<p>原理：</p>
<ul>
<li>浮动以后使元素脱离了文档流。</li>
<li>浮动只有左右浮动，没有上下浮动。</li>
</ul>
<p>脱离文档流之后，元素相当于在页面上面增加一个浮层来放置内容，此时可以理解为有两层页面，一层使原页面，一层是脱离文档流的上层页面，所以会出现折叠现象。</p>
<p>例：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="selector-tag">div</span> class=&quot;con&quot;&gt;&lt;/<span class="selector-tag">div</span>&gt;</span><br><span class="line">&lt;<span class="selector-tag">div</span> class=&quot;box&quot;&gt;&lt;/<span class="selector-tag">div</span>&gt;</span><br><span class="line">...</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.con</span>&#123;</span><br><span class="line">    <span class="attribute">background</span>:blue;</span><br><span class="line">    <span class="attribute">width</span>:<span class="number">100px</span>;</span><br><span class="line">    heigth:<span class="number">100px</span>;</span><br><span class="line">    <span class="attribute">float</span><span class="selector-pseudo">:left</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.box</span>&#123;</span><br><span class="line">    <span class="attribute">background</span>:green;</span><br><span class="line">    <span class="attribute">width</span>:<span class="number">200px</span>;</span><br><span class="line">    heigth:<span class="number">200px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>使用浮动可以使块元素(列摆放)横着摆放。<br>当容器不足以横向摆放内容的时候，会在下一行摆放。</p>
</blockquote>
<h4 id="清除浮动"><a href="#清除浮动" class="headerlink" title="清除浮动"></a>清除浮动</h4><p>副作用：</p>
<p>当元素设置float浮动以后，该元素就会脱离文档流并向左&#x2F;右浮动。</p>
<ul>
<li>浮动元素会造成父元素高度塌陷</li>
<li>后续元素会受到影响</li>
</ul>
<p>当大盒子div不写高度时，其高度可以正好包裹里面元素，当内在元素使用浮动后，大盒子面积是<code>宽度x0=0</code>导致父元素塌陷。</p>
<blockquote>
<p>当不写宽度时默认是整行都包裹，因为div是块元素。</p>
</blockquote>
<p>当重新添加没有浮动的元素后，会相互影响。</p>
<p>解决方案：</p>
<ol>
<li>父元素设置高度</li>
<li>受影响的元素增加clear属性</li>
<li>overflow清除浮动</li>
<li>伪对象方式</li>
</ol>
<ul>
<li>父元素高度塌陷后，设置高度使其撑开</li>
</ul>
<blockquote>
<p>在大盒子外的元素不受影响了，但是在大盒子内的不浮动元素仍会和浮动元素产生影响。</p>
</blockquote>
<ul>
<li><p>在大盒子内的不浮动的元素添加clear属性就可以避免与浮动元素产生影响，一般选用both。</p>
</li>
<li><p>当不能确定大盒子高度的时候，我们需要在大盒子的属性里同时添加overflow:hidden;和clear:both;这时盒子就会撑起来，当里面浮动与不浮动的元素还是发生影响时，在不浮动的元素里添加clear:both;即可。</p>
</li>
<li><p>伪对象方式是为父标签添加伪类after并为元素content设置为空，并使用display:block;和clear:both;</p>
</li>
</ul>
<p>例：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.ccs</span>&#123;</span><br><span class="line">       <span class="attribute">width</span>: <span class="number">500px</span>;</span><br><span class="line">       <span class="attribute">background-color</span>: cyan;</span><br><span class="line"></span><br><span class="line">       &#125;</span><br><span class="line">       <span class="selector-class">.ccs</span><span class="selector-pseudo">::after</span>&#123;</span><br><span class="line">       <span class="attribute">content</span>:<span class="string">&quot;&quot;</span>;</span><br><span class="line">       <span class="attribute">display</span>: block;</span><br><span class="line">       <span class="attribute">clear</span>: both;</span><br><span class="line">       &#125;</span><br><span class="line">        &lt;<span class="selector-tag">div</span> class=&quot;ccs&quot;&gt;</span><br><span class="line">       &lt;<span class="selector-tag">div</span> class=&quot;box&quot;&gt;&lt;/<span class="selector-tag">div</span>&gt;</span><br><span class="line">       &lt;<span class="selector-tag">div</span> class=&quot;box&quot;&gt;&lt;/<span class="selector-tag">div</span>&gt;</span><br><span class="line">       &lt;<span class="selector-tag">div</span> class=&quot;box&quot;&gt;&lt;/<span class="selector-tag">div</span>&gt;</span><br><span class="line">       &lt;<span class="selector-tag">div</span> class=&quot;boxw&quot;&gt;&lt;/<span class="selector-tag">div</span>&gt;</span><br><span class="line">   &lt;/<span class="selector-tag">div</span>&gt;</span><br></pre></td></tr></table></figure>

<blockquote>
<p><em>当我运行时发现，当父元素塌陷后，里面如果存在一个非浮动元素，且使用了clear属性，父元素会被撑起来。</em></p>
</blockquote>
<h4 id="定位"><a href="#定位" class="headerlink" title="定位"></a>定位</h4><p>定义：</p>
<p>使用position属性指定了元素的定位类型。</p>
<table>
<thead>
<tr>
<th>值</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>relative</td>
<td>相对位置</td>
</tr>
<tr>
<td>absolute</td>
<td>绝对位置</td>
</tr>
<tr>
<td>fixed</td>
<td>固定位置</td>
</tr>
</tbody></table>
<p>其中，绝对定位和固定位会脱离文档流。</p>
<h5 id="相对定位"><a href="#相对定位" class="headerlink" title="相对定位"></a>相对定位</h5><p>&#x3D;&#x3D;<em><strong>设置定位之后</strong></em>&#x3D;&#x3D;：可以使用四个方向值进行调整位置：left、top、right、bottom。</p>
<p>例：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.nin</span>&#123;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">200px</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">200px</span>;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">10px</span>;</span><br><span class="line">    <span class="attribute">background-color</span>:lime;</span><br><span class="line">    <span class="attribute">position</span>: relative;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">500px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>相对定位还是在标准文件流中还是会出现问题。</p>
</blockquote>
<h5 id="绝对定位"><a href="#绝对定位" class="headerlink" title="绝对定位"></a>绝对定位</h5><blockquote>
<p>脱离文件流的同时还能调整位置。</p>
</blockquote>
<p>例：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.nin</span>&#123;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">200px</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">200px</span>;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">10px</span>;</span><br><span class="line">    <span class="attribute">background-color</span>:lime;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">500px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>会出现压盖的现象而且可以无限制的压盖。</p>
</blockquote>
<h5 id="固定定位"><a href="#固定定位" class="headerlink" title="固定定位"></a>固定定位</h5><blockquote>
<p>当没有滚动的时候，绝对定位与固定定位是相同的效果，但是当出现滚动的时候，固定定位的元素不会因为滚轮的上下滚动而改变位置，但是绝对定位会改变位置。</p>
</blockquote>
<p>例：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.nin</span>&#123;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">200px</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">200px</span>;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">10px</span>;</span><br><span class="line">    <span class="attribute">background-color</span>:lime;</span><br><span class="line">    <span class="attribute">position</span>:fixed;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">500px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>设置定位之后，相对定位和绝对定位是相对于具有定位的父级元素进行位置调整的，如果父级元素不存在定位，则继续向上逐级寻找，直到顶层文件。</strong></p>
<blockquote>
<p>一般父级容器使用的是  position: relative;<br>当父级元素有定位，但是大小，小于子元素距离的位置，子元素会超出父元素面积的。</p>
</blockquote>
<h5 id="Z-index"><a href="#Z-index" class="headerlink" title="Z-index"></a>Z-index</h5><p>设置元素的堆叠顺序。用有更高堆叠顺序的元素总是会处于堆叠顺序较低元素的前面。</p>
<p>例：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.yyr</span> &#123;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">50px</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">50px</span>;</span><br><span class="line">    <span class="attribute">background-color</span>:lightskyblue;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">80px</span>;</span><br><span class="line">    <span class="attribute">top</span>:<span class="number">50px</span>;</span><br><span class="line">    <span class="attribute">z-index</span>: <span class="number">30</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.uin</span> &#123;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">50px</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">50px</span>;</span><br><span class="line">    <span class="attribute">background-color</span>:<span class="built_in">rgb</span>(<span class="number">124</span>, <span class="number">85</span>, <span class="number">197</span>);</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">60px</span>;</span><br><span class="line">    <span class="attribute">top</span>:<span class="number">70px</span>;</span><br><span class="line">    <span class="attribute">z-index</span>: <span class="number">20</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>同级元素 z-index大的在上面，不同级的父级在下面，子级在上面。</p>
</blockquote>
<h3 id="css3新特性"><a href="#css3新特性" class="headerlink" title="css3新特性"></a>css3新特性</h3><h4 id="圆角"><a href="#圆角" class="headerlink" title="圆角"></a>圆角</h4><p>使用css3的border-radius属性，你可以给任何元素制作圆角 border-radius属性，可以使用一下规则：</p>
<ul>
<li>四个值：第一个值为左上角，第二个右上角，第三个右下角，第四个左下角。</li>
<li>三个值：第一个左上角，第二个右上角和左下角，第三个值为右下角。</li>
<li>两个值：第一个值为左上角与右下角，第二个为右上角与左下角。</li>
<li>一个值：四个角一个值。</li>
</ul>
<blockquote>
<p>值为100%就称为一个圆了。</p>
</blockquote>
<h4 id="阴影"><a href="#阴影" class="headerlink" title="阴影"></a>阴影</h4><p>box-shadow向框添加一个或多个阴影。</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">box-shadow</span>:h-shadow v-shadow blur color;</span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th>值</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>h-shadow</td>
<td>必选，水平阴影的位置</td>
</tr>
<tr>
<td>v-shadow</td>
<td>必选，垂直阴影的位置</td>
</tr>
<tr>
<td>blur</td>
<td>可选，模糊近距离</td>
</tr>
<tr>
<td>color</td>
<td>可选，阴影的颜色</td>
</tr>
</tbody></table>
<blockquote>
<p>水平和垂直为0四个边都有阴影，都为正数影子在右下方，都为负数影子在左上方。</p>
</blockquote>
<h3 id="动画"><a href="#动画" class="headerlink" title="动画"></a>动画</h3><blockquote>
<p>js实现动画是比较消耗性能的，但是css的话就会好很多。</p>
</blockquote>
<p>动画是使元素从一种样式逐渐变化为令一种样式的效果。</p>
<p>可以改变任意多的样式任意多的次数。</p>
<p>使用百分比来规定变化发生的时间，或用关键词from(等同于0%)和to(等同于100%)</p>
<p>0%是动画开始，100%是动画完成。</p>
<h4 id="keyframes创建动画"><a href="#keyframes创建动画" class="headerlink" title="@keyframes创建动画"></a>@keyframes创建动画</h4><p>使用规则，你可以创建动画</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@keyframes</span> name&#123;</span><br><span class="line">    <span class="selector-tag">from</span>|<span class="number">0%</span>&#123;</span><br><span class="line">        css样式</span><br><span class="line">    &#125;</span><br><span class="line">    percent&#123;</span><br><span class="line">        css样式</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="selector-tag">to</span>|<span class="number">100%</span>&#123;</span><br><span class="line">        css样式</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>name:动画名称，开发人员自己命名。</p>
<p>percent:为百分比值，可以添加多个百分比值。</p>
<h4 id="animation执行动画"><a href="#animation执行动画" class="headerlink" title="animation执行动画"></a>animation执行动画</h4><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">animation</span>:name duration timing-function delay iteration-count direction;</span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th>值</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>name</td>
<td>设置动画名称</td>
</tr>
<tr>
<td>duration</td>
<td>设置动画的持续时间</td>
</tr>
<tr>
<td>timing-function</td>
<td>设置动画效果的速率</td>
</tr>
<tr>
<td>delay</td>
<td>设置动画的开始时间</td>
</tr>
<tr>
<td>iteration-count</td>
<td>设置动画循环的次数，infinite为无线次数循环</td>
</tr>
<tr>
<td>direction</td>
<td>设置动画播放的方向</td>
</tr>
<tr>
<td>animation-play-state</td>
<td>控制动画的播放状态: running代表播放，paused代表停止播放</td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th>timing-function值</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>ease</td>
<td>逐渐变慢(默认)</td>
</tr>
<tr>
<td>linear</td>
<td>匀速</td>
</tr>
<tr>
<td>ease-in</td>
<td>加速</td>
</tr>
<tr>
<td>ease-out</td>
<td>减速</td>
</tr>
<tr>
<td>ease-in-out</td>
<td>先加速再减速</td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th>direction值</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>normal</td>
<td>默认值为normal表示向前播放</td>
</tr>
<tr>
<td>alternate</td>
<td>动画播放再第偶数次向前播放，第基数次向反方向播放</td>
</tr>
</tbody></table>
<p>&#x3D;&#x3D;<strong>div:hover{}表示鼠标放到容器上触发事件</strong>&#x3D;&#x3D;<br>&#x3D;&#x3D;<strong>opacity是透明的意思 范围：0-1</strong>&#x3D;&#x3D;</p>
<blockquote>
<p>切记duration和delay是有单位的s。</p>
</blockquote>
<p>例：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.te</span> &#123;</span><br><span class="line">           <span class="attribute">width</span>: auto;</span><br><span class="line">           <span class="attribute">height</span>: <span class="number">200px</span>;</span><br><span class="line">           <span class="attribute">background-color</span>: <span class="built_in">rgba</span>(<span class="number">101</span>, <span class="number">192</span>, <span class="number">225</span>, <span class="number">0.582</span>);</span><br><span class="line">           <span class="attribute">display</span>: flex;</span><br><span class="line">           <span class="attribute">justify-content</span>: center;</span><br><span class="line">           <span class="attribute">align-items</span>: center;</span><br><span class="line">           <span class="attribute">border-radius</span>: <span class="number">10px</span>;</span><br><span class="line">           <span class="attribute">animation</span>: myanim <span class="number">3s</span> ease-in-out <span class="number">0s</span> infinite;</span><br><span class="line">       &#125;</span><br><span class="line"></span><br><span class="line">       <span class="keyword">@keyframes</span> myanim &#123;</span><br><span class="line">           <span class="number">0%</span> &#123;</span><br><span class="line">               <span class="attribute">background-color</span>: red;</span><br><span class="line">           &#125;</span><br><span class="line"></span><br><span class="line">           <span class="number">25%</span> &#123;</span><br><span class="line">               <span class="attribute">background-color</span>: yellow;</span><br><span class="line">           &#125;</span><br><span class="line"></span><br><span class="line">           <span class="number">50%</span> &#123;</span><br><span class="line">               <span class="attribute">background-color</span>: blue;</span><br><span class="line">           &#125;</span><br><span class="line"></span><br><span class="line">           <span class="number">75%</span> &#123;</span><br><span class="line">               <span class="attribute">background-color</span>: yellow;</span><br><span class="line">           &#125;</span><br><span class="line"></span><br><span class="line">           <span class="number">100%</span> &#123;</span><br><span class="line">               <span class="attribute">background-color</span>: red;</span><br><span class="line">           &#125;</span><br><span class="line">       &#125;</span><br><span class="line"></span><br><span class="line">       <span class="selector-class">.te</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">           <span class="attribute">animation-play-state</span>: paused;</span><br><span class="line">       &#125;</span><br><span class="line">   &lt;<span class="selector-tag">div</span> class=&quot;te&quot;&gt;</span><br><span class="line">       &lt;<span class="selector-tag">ul</span>&gt;</span><br><span class="line">           &lt;<span class="selector-tag">li</span>&gt;&lt;<span class="selector-tag">a</span> href=&quot;#&quot;&gt;导航<span class="number">1</span>&lt;/<span class="selector-tag">a</span>&gt;&lt;/<span class="selector-tag">li</span>&gt;</span><br><span class="line">           &lt;<span class="selector-tag">li</span>&gt;&lt;<span class="selector-tag">a</span> href=&quot;#&quot;&gt;导航<span class="number">2</span>&lt;/<span class="selector-tag">a</span>&gt;&lt;/<span class="selector-tag">li</span>&gt;</span><br><span class="line">           &lt;<span class="selector-tag">li</span>&gt;&lt;<span class="selector-tag">a</span> href=&quot;#&quot;&gt;导航<span class="number">3</span>&lt;/<span class="selector-tag">a</span>&gt;&lt;/<span class="selector-tag">li</span>&gt;</span><br><span class="line">           &lt;<span class="selector-tag">li</span>&gt;&lt;<span class="selector-tag">a</span> href=&quot;#&quot;&gt;导航<span class="number">4</span>&lt;/<span class="selector-tag">a</span>&gt;&lt;/<span class="selector-tag">li</span>&gt;</span><br><span class="line">           &lt;/<span class="selector-tag">ol</span>&gt;</span><br><span class="line">   &lt;/<span class="selector-tag">div</span>&gt;</span><br></pre></td></tr></table></figure>

<h3 id="媒体查询"><a href="#媒体查询" class="headerlink" title="媒体查询"></a>媒体查询</h3><p>媒体查询能使页面在不同的终端设备下达到不同的效果。</p>
<p>媒体查询会根据设备的大小自动识别加载不同的样式。</p>
<h4 id="设置meta标签"><a href="#设置meta标签" class="headerlink" title="设置meta标签"></a>设置meta标签</h4><p>使用设备的宽度作为视图宽度并禁止初始的缩放。在head标签里加入这个标签meta标签。</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;meta name=&quot;viewport&quot; <span class="attribute">content</span>=&quot;<span class="attribute">width</span>=device-<span class="attribute">width</span>, initial-<span class="attribute">scale</span>=<span class="number">1</span>,maximum-<span class="attribute">scale</span>=<span class="number">1</span>, user-scalable=no&quot;&gt;</span><br></pre></td></tr></table></figure>

<p>参数解释：</p>
<ul>
<li>width&#x3D;device-width 宽度等于当前设备的宽度</li>
<li>initial-scale 初始的缩放比例(默认设置为1.0)</li>
<li>maximum-scale 允许用户缩放到的最大比例(默认设置为1.0)</li>
<li>user-scalable 用户是否可以动手缩放(默认设置为no)</li>
</ul>
<p>作用解释：当页面用手机打开后会自适应，当设置meta后就会保持元素原本大小，不会自适应。</p>
<h4 id="媒体查询语法"><a href="#媒体查询语法" class="headerlink" title="媒体查询语法"></a>媒体查询语法</h4><p>使用统一的代码在不同设备上实现显示不同的内容</p>
<blockquote>
<p>display:none;代表元素不显示 display: block;代表元素显示，把行级元素变为块级元素，display: inline;就是行级元素。</p>
</blockquote>
<p>例：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@media</span> screen <span class="keyword">and</span> (<span class="attribute">max-width</span>: <span class="number">768px</span>) &#123;</span><br><span class="line">    <span class="comment">/*设备小于768px加载样式,手机*/</span></span><br><span class="line">    <span class="selector-tag">body</span>&#123;</span><br><span class="line">     <span class="attribute">background-color</span>: red;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@media</span> screen <span class="keyword">and</span> (<span class="attribute">max-width</span>: <span class="number">992px</span>) <span class="keyword">and</span> (<span class="attribute">min-width</span>: <span class="number">768px</span>) &#123;</span><br><span class="line">    <span class="comment">/*设备小于768px但小于992px加载样式，平板*/</span></span><br><span class="line">    <span class="selector-tag">body</span>&#123;</span><br><span class="line">        <span class="attribute">background-color</span>: pink;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@media</span> screen <span class="keyword">and</span> (<span class="attribute">min-width</span>: <span class="number">992px</span>) &#123;</span><br><span class="line">    <span class="comment">/*设备大于992px加载样式，电脑*/</span></span><br><span class="line">    <span class="selector-tag">body</span>&#123;</span><br><span class="line">        <span class="attribute">background</span>-coor: green;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="雪碧图"><a href="#雪碧图" class="headerlink" title="雪碧图"></a>雪碧图</h3><p>css sprite也叫精灵图、css雪碧图，是一种网页图片应用处理方式。他允许你将一个页面涉及到的所有零星图片都包含到一张大图中去。</p>
<blockquote>
<p>最常见的就是表情包，一次性加载，然后放在哪里再做调整。</p>
</blockquote>
<p>优点：</p>
<ul>
<li>减少图片的字节</li>
<li>减少网页的hppt请求，从而大大提高页面的性能</li>
</ul>
<p>原理：</p>
<ul>
<li>通过backgrount-image引入背景图片</li>
<li>通过backgrount-postition把背景图片移动到自己需要的位置</li>
</ul>
<p>通过在浏览器里使用开发者模式不断的调位置，最后确定参数，写到文件内。</p>
<h3 id="字体图标"><a href="#字体图标" class="headerlink" title="字体图标"></a>字体图标</h3><p>我们经常会使用到一些图标。但是我们在使用时，往往会遇到失帧的情况，而且图片数量很多的话，页面加载就会越慢。所以，我们可以使用字体图标的方式来显示图标，既解决了失帧问题，也解决了图片占用资源的问题。</p>
<p>常用字体图标库:<a target="_blank" rel="noopener" href="https://iconfont.cn/">阿里字体图标库</a></p>
<p>优点：</p>
<ul>
<li>轻量级：加载速度快，减少http请求</li>
<li>灵活性：可以利用css设置大小颜色等</li>
<li>兼容性：网页字体支持所有现代浏览器，包括ie低版本</li>
</ul>
<h4 id="使用字体图标"><a href="#使用字体图标" class="headerlink" title="使用字体图标"></a>使用字体图标</h4><ul>
<li>注册账号并登录</li>
<li>选取图标或搜素图标</li>
<li>添加购物车</li>
<li>下载代码</li>
<li>选用font-class引用</li>
</ul>
<blockquote>
<p>下载后有文档教程。<br>当用css设置大小时会被原有的css所覆盖掉，所有我们需要再给他加一个类名，重新声明他的大小。</p>
</blockquote>
<h2 id="JavaScript简介"><a href="#JavaScript简介" class="headerlink" title="JavaScript简介"></a>JavaScript简介</h2><p>js是一种轻量级的脚本语言。所谓脚本语言，指的是它不具备开发操作系统的能力，而是用来编写控制其他大型应用程序的脚本。</p>
<p>js是一种嵌入式语言，它本身提供的核心语法不算很多。</p>
<p>优点：</p>
<ul>
<li>操控浏览器</li>
<li>广泛的使用领域</li>
<li>易学习</li>
</ul>
<p>JavaScript与ECMAScript关系：</p>
<p>ECMAScript和js关系是，前者是后者的规格，后者是前者的实现。日常场合，这两个词是可以互换的</p>
<h3 id="js语句与标识符"><a href="#js语句与标识符" class="headerlink" title="js语句与标识符"></a>js语句与标识符</h3><h4 id="语句"><a href="#语句" class="headerlink" title="语句"></a>语句</h4><p>js程序的单位是行，也就是一行一行地执行。一般情况下，每一行就是一个语句。</p>
<p>写js可以在HTML文件内的body标签里写一个<code>&lt;script&gt;</code>(双标签)，在此标签内就可以写js代码了</p>
<p>例：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> num = <span class="number">10</span>;</span><br></pre></td></tr></table></figure>

<p>语句以分号结尾，一个分号就表示一个语句的结束。js中分号可加可不加(建议加)</p>
<h3 id="标识符"><a href="#标识符" class="headerlink" title="标识符"></a>标识符</h3><p>标识符指的是用来识别各种值的合法名称。最常见的标识符就是变量名。</p>
<p>标识符是由：字母、美元符号($)、下划线(_)、和数字组成，其中数字不能开头。</p>
<blockquote>
<p>中文是合法的标识符，可以用做变量名(不推荐)</p>
</blockquote>
<p>js保留关键字：</p>
<p><em>不用强行记忆。</em></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">JavaScript</span>有一些保留字，不能用作标识符: <span class="variable language_">arguments</span>、<span class="keyword">break</span>、<span class="keyword">case</span>、<span class="keyword">catch</span>、<span class="keyword">class</span>、<span class="keyword">const</span>、<span class="keyword">continue</span>、 <span class="keyword">debugger</span>、<span class="keyword">default</span>、 <span class="keyword">delete</span>、 <span class="keyword">do</span>、 <span class="keyword">else</span>、 enum、 <span class="built_in">eval</span>、 <span class="keyword">export</span>、<span class="keyword">extends</span>、 <span class="literal">false</span>、 <span class="keyword">finally</span>、<span class="keyword">for</span>,、<span class="keyword">function</span>、 <span class="keyword">if</span>、implements、 <span class="keyword">import</span>、<span class="keyword">in</span>、 <span class="keyword">instanceof</span>、 interface、 <span class="keyword">let</span>、<span class="keyword">new</span>、 <span class="literal">null</span>、 package、private、 protected、 public、 <span class="keyword">return</span>、 <span class="keyword">static</span>、 <span class="variable language_">super</span>、 <span class="keyword">switch</span>、 <span class="variable language_">this</span>、 <span class="keyword">throw</span> 、<span class="literal">true</span>、 <span class="keyword">try</span>、 <span class="keyword">typeof</span>、<span class="keyword">var</span>、<span class="keyword">void</span>、<span class="keyword">while</span>、<span class="keyword">with</span>、<span class="keyword">yield</span>。</span><br></pre></td></tr></table></figure>

<h3 id="变量-var"><a href="#变量-var" class="headerlink" title="变量(var)"></a>变量(var)</h3><p>var关键字是声明变量。</p>
<p>输出变量：</p>
<p>例子：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> num=<span class="number">10</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(num);</span><br></pre></td></tr></table></figure>

<h4 id="变量提升"><a href="#变量提升" class="headerlink" title="变量提升"></a>变量提升</h4><p>js引擎工具的工作方式是，先解析代码，获取所有被声明的变量，然后再一行一行的运行。造成的结果，就是所有的变量的声明语句，都会被提升到代码的头部，这就叫做变量提升。</p>
<p>例子：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(num);</span><br><span class="line"><span class="keyword">var</span> num=<span class="number">10</span>;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>不会报错，而是提示空值。</p>
</blockquote>
<h3 id="js引入到文件"><a href="#js引入到文件" class="headerlink" title="js引入到文件"></a>js引入到文件</h3><p>js常用引入方式：</p>
<ul>
<li>嵌入到HTML文件中</li>
<li>引入本地独立js文件</li>
<li>引入网络来源文件</li>
</ul>
<p>例：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 嵌入HTML</span></span><br><span class="line">&lt;body&gt;</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="keyword">var</span> num=<span class="number">100</span>;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line">&lt;/body&gt;</span><br><span class="line"><span class="comment">// 引入本地js文件</span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">scr</span>=<span class="string">&quot;./itb.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span></span><br><span class="line"><span class="comment">//引入网络来源文件</span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;http://cdn.bootcdn.net/ajax/libs/jquery/3.6.0/jquery.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span></span><br></pre></td></tr></table></figure>

<h3 id="js注释与常见输出方式"><a href="#js注释与常见输出方式" class="headerlink" title="js注释与常见输出方式"></a>js注释与常见输出方式</h3><h4 id="注释"><a href="#注释" class="headerlink" title="注释"></a>注释</h4><p>源码中注释是不被引擎解释的，js有两种注释写法：单行注释用&#x2F;&#x2F;，多行注释用&#x2F;**&#x2F;</p>
<p>HTML中用<!-- -->注释。</p>
<h4 id="js输出方式"><a href="#js输出方式" class="headerlink" title="js输出方式"></a>js输出方式</h4><p>js有很多的输出方式，都可以让我们更直观的看到程序运行的结果。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 弹出对话框，人后把内容输出，先把内容转化为字符串然后输出</span></span><br><span class="line"><span class="title function_">alert</span>(<span class="string">&quot;要输入的内容&quot;</span>);</span><br><span class="line"><span class="comment">//输出到页面</span></span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">write</span>(<span class="string">&quot;要输入的内容&quot;</span>);</span><br><span class="line"><span class="comment">//再控制台输出</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(要输入的内容);</span><br></pre></td></tr></table></figure>

<h3 id="数据类型"><a href="#数据类型" class="headerlink" title="数据类型"></a>数据类型</h3><p>js有六种数据类型：</p>
<ul>
<li>数值</li>
<li>字符串</li>
<li>布尔值</li>
<li>null</li>
<li>undefined</li>
<li>对象</li>
<li>symbol(ES6新增)</li>
<li>bigint(ES6新增)</li>
</ul>
<h4 id="数据类型分类"><a href="#数据类型分类" class="headerlink" title="数据类型分类"></a>数据类型分类</h4><h5 id="原始类型-基础类型"><a href="#原始类型-基础类型" class="headerlink" title="原始类型(基础类型)"></a>原始类型(基础类型)</h5><ul>
<li>数值</li>
<li>字符串</li>
<li>布尔值</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//数值</span></span><br><span class="line"><span class="keyword">var</span> num=<span class="number">10</span>;</span><br><span class="line"><span class="comment">//字符串类型，被双引号或者单引号包裹的</span></span><br><span class="line"><span class="keyword">var</span> age=<span class="string">&#x27;nihao&#x27;</span>;</span><br><span class="line"><span class="comment">//判断正误的</span></span><br><span class="line"><span class="keyword">var</span> fi=ture;</span><br></pre></td></tr></table></figure>

<h5 id="合成数据类型-复合类型"><a href="#合成数据类型-复合类型" class="headerlink" title="合成数据类型(复合类型)"></a>合成数据类型(复合类型)</h5><p>对象:因为一个对象往往是多一个原始类型的值的合成，可以看作是存放各种值的容器。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> user=&#123;</span><br><span class="line">    <span class="attr">name</span>:<span class="string">&quot;nihoa&quot;</span>,</span><br><span class="line">    <span class="attr">age</span>:<span class="number">20</span>,</span><br><span class="line">    <span class="attr">learn</span>:<span class="literal">true</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>undefined和null，一般将他俩看成特殊值。</p>
</blockquote>
<h3 id="typeof运算符"><a href="#typeof运算符" class="headerlink" title="typeof运算符"></a>typeof运算符</h3><p>typeof是用来检查数据类型的。</p>
<p>例：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typeof</span> <span class="number">123</span> <span class="comment">//number</span></span><br><span class="line"><span class="keyword">typeof</span> <span class="string">&#x27;123&#x27;</span> <span class="comment">//string</span></span><br><span class="line"><span class="keyword">typeof</span> <span class="literal">true</span> <span class="comment">//boolean</span></span><br><span class="line"><span class="keyword">typeof</span> &#123;&#125; <span class="comment">//object--&gt;判断不准确</span></span><br></pre></td></tr></table></figure>

<p>null与undefined的区别</p>
<p>null与undefined都表示没有，含义十分相似。将一个变量赋值为null与undefined，语法上没有任何区别。</p>
<p>null一般代表对象为没有，undefined代表数值没有。</p>
<h3 id="运算符"><a href="#运算符" class="headerlink" title="运算符"></a>运算符</h3><h4 id="算数运算符"><a href="#算数运算符" class="headerlink" title="算数运算符"></a>算数运算符</h4><ul>
<li>加法 +</li>
<li>减法 -</li>
<li>乘法 *</li>
<li>除法 &#x2F;</li>
<li>余数 %</li>
<li>自增 ++</li>
<li>自减 –</li>
</ul>
<h4 id="赋值运算符"><a href="#赋值运算符" class="headerlink" title="赋值运算符"></a>赋值运算符</h4><ul>
<li>&#x3D; 赋值</li>
<li>+&#x3D; 加且赋值</li>
<li>-&#x3D; 减且赋值</li>
<li>*&#x3D; 乘且赋值</li>
<li>&#x2F;&#x3D; 除且赋值</li>
<li>%&#x3D; 取余且赋值</li>
</ul>
<h4 id="比较运算符"><a href="#比较运算符" class="headerlink" title="比较运算符"></a>比较运算符</h4><ul>
<li>&lt; 小于</li>
<li><blockquote>
<p>大于</p>
</blockquote>
</li>
<li>&lt;&#x3D; 小于等于</li>
<li><blockquote>
<p>&#x3D; 大于等于</p>
</blockquote>
</li>
<li>&#x3D;&#x3D; 等于</li>
<li>&#x3D;&#x3D;&#x3D; 严格相等</li>
<li>!&#x3D; 不等于</li>
<li>!&#x3D;&#x3D; 严格不相等</li>
</ul>
<blockquote>
<p>返回为布尔值<br>严格比较不仅要比较数值，也要比较数据类型<br>与c++不同，js可以不同的数据类型之间比较</p>
</blockquote>
<h4 id="布尔运算符"><a href="#布尔运算符" class="headerlink" title="布尔运算符"></a>布尔运算符</h4><ul>
<li>! 取反运算符</li>
<li>&amp;&amp; 且运算符</li>
<li>|| 或运算符</li>
</ul>
<blockquote>
<p>null、undefin、0、””(空字符串)、NaN、false这些取反是true，其他取反为false</p>
</blockquote>
<h3 id="条件语句之if语句"><a href="#条件语句之if语句" class="headerlink" title="条件语句之if语句"></a>条件语句之if语句</h3><p>if结构先判断一个表达式的布尔值，然后根据布尔值为真伪，执行不同的语句。</p>
<p>语法：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(布尔值)</span><br><span class="line">&#123;</span><br><span class="line">    语句;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="条件语句之if…else"><a href="#条件语句之if…else" class="headerlink" title="条件语句之if…else"></a>条件语句之if…else</h3><p>例：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>()</span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="多个if…else连用"><a href="#多个if…else连用" class="headerlink" title="多个if…else连用"></a>多个if…else连用</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>()</span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span>()</span><br><span class="line">&#123;</span><br><span class="line">    </span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="if嵌套"><a href="#if嵌套" class="headerlink" title="if嵌套"></a>if嵌套</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>()</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span>()</span><br><span class="line">    &#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span>&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="条件语句之-switch"><a href="#条件语句之-switch" class="headerlink" title="条件语句之 switch"></a>条件语句之 switch</h3><p>多个if…else连在一起使用的时候，可以转为使用更方便的switch结构。</p>
<p>例：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">switch</span>()</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">&quot;&quot;</span>:</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">&quot;&quot;</span>:</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="attr">default</span>:</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>break不能省</p>
</blockquote>
<h3 id="三元运算符"><a href="#三元运算符" class="headerlink" title="三元运算符"></a>三元运算符</h3><p>JavaScript还有一个三元运算符（即该运算符需要三个运算子）<code>?:</code>，也可以用于逻辑判断。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(条件) ? 表达式<span class="number">1</span> : 表达式<span class="number">2</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>简化if else</p>
</blockquote>
<h3 id="循环语句之for"><a href="#循环语句之for" class="headerlink" title="循环语句之for"></a>循环语句之for</h3><p>循环语句用于重复执行某个操作</p>
<p>for语句就是循环命令，可以指定循环的起点、终点和终止条件。它的格式如下</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(初始条件;条件;迭代因子)&#123;</span><br><span class="line">    语句</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>三个表达式省略会出现死循环，网页卡死。</p>
</blockquote>
<p>for语句后面的括号里面，有三个表达式。</p>
<ol>
<li>初始化表达式（initialize）：确定循环变量的初始值，只在循环开始时执行一次。</li>
<li>布尔表达式（test）：每轮循环开始时，都要执行这个条件表达式，只有值为真，才继续进行循环。</li>
<li>迭代因子（increment）：每轮循环的最后一个操作，通常用来递增循环变量。</li>
</ol>
<blockquote>
<p>console.log()内的加号代表输出这两个的值连在一起的字符串</p>
</blockquote>
<h3 id="循环语句之while"><a href="#循环语句之while" class="headerlink" title="循环语句之while"></a>循环语句之while</h3><p>While语句包括一个循环条件和一段代码块，只要条件为真，就不断循环执行代码块。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span>()</span><br><span class="line">&#123;</span><br><span class="line">    语句</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>所有for循环，都可以改写成while循环</p>
</blockquote>
<h3 id="break语句与continue语句"><a href="#break语句与continue语句" class="headerlink" title="break语句与continue语句"></a>break语句与continue语句</h3><p>break语句和continue语句都具有跳转作用，可以让代码不按既有的顺序执行</p>
<h4 id="break"><a href="#break" class="headerlink" title="break"></a>break</h4><p>用来跳出循环或者代码块</p>
<h4 id="continue"><a href="#continue" class="headerlink" title="continue"></a>continue</h4><p>用来立即终止本轮循环，开始准备下次循环。</p>
<h3 id="字符串"><a href="#字符串" class="headerlink" title="字符串"></a>字符串</h3><p>字符串就是零个或多个排在一起的字符，放在单引号或双引号之中。</p>
<p>例：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#x27;itbaizhan&#x27;</span></span><br><span class="line"><span class="string">&quot;itbaizhan&quot;</span></span><br></pre></td></tr></table></figure>

<p>单引号字符串的内部，可以使用双引号。双引号字符串的内部，可以使用单引号。</p>
<p>例：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#x27;key = &quot;value&quot;&#x27;</span></span><br><span class="line"><span class="string">&quot;It&#x27;s a long itbaizhan&quot;</span></span><br></pre></td></tr></table></figure>

<p>如果要在单引号字符串的内部，使用单引号，就必须在内部的单引号前面加上反斜杠，用来转义。双引号字符串内部使用双引号，也是如此。</p>
<p>例：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#x27;Did she say \&#x27;Hello\&#x27;?&#x27;</span></span><br><span class="line"><span class="comment">// &quot;Did she say &#x27;Hello&#x27;?&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="string">&quot;Did she say \&quot;Hello\&quot;?&quot;</span></span><br><span class="line"><span class="comment">// &quot;Did she say &quot;Hello&quot;?&quot;</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>字符串默认是写一行，分多行写也会报错，要是非要换行需要用<code>\</code>。</p>
</blockquote>
<h4 id="length属性"><a href="#length属性" class="headerlink" title="length属性"></a>length属性</h4><p>length属性返回字符串的长度，该属性也无法改变。</p>
<p>例：</p>
<blockquote>
<p>length后面没有括号。</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> s=<span class="string">&quot;nihaoya&quot;</span>;</span><br><span class="line">s.<span class="property">length</span>;</span><br></pre></td></tr></table></figure>

<h3 id="字符串操作"><a href="#字符串操作" class="headerlink" title="字符串操作"></a>字符串操作</h3><h4 id="charAt-返回指定字符"><a href="#charAt-返回指定字符" class="headerlink" title="charAt() - 返回指定字符"></a>charAt() - 返回指定字符</h4><p>charAt方法返回指定位置的字符，参数是从0开始编号的。</p>
<p>例：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> s=<span class="keyword">new</span> <span class="title class_">String</span>(<span class="string">&quot;nihao&quot;</span>);</span><br><span class="line">s.<span class="title function_">charAt</span>(<span class="number">4</span>);</span><br></pre></td></tr></table></figure>

<blockquote>
<p>如果参数为负数，或者大于等于字符串长度，charAt返回空字符串。</p>
</blockquote>
<h4 id="concat-连接字符串"><a href="#concat-连接字符串" class="headerlink" title="concat() - 连接字符串"></a>concat() - 连接字符串</h4><p>concat方法用于连接两个字符串，返回一个新字符串，不改变原字符串。</p>
<p>例：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> n1=<span class="string">&quot;nihao&quot;</span>;</span><br><span class="line"><span class="keyword">var</span> n2=<span class="string">&quot;wangxiangyu&quot;</span>;</span><br><span class="line"><span class="keyword">var</span> n3=n1.<span class="title function_">concat</span>(n2);</span><br></pre></td></tr></table></figure>

<blockquote>
<p>后面括号里可以无限添加元素，之间用<code>,</code>分割。</p>
</blockquote>
<p>如果参数不是字符串，将会先转为字符串，然后再连接。</p>
<p>例：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> n1=<span class="number">123</span>;</span><br><span class="line"><span class="keyword">var</span> n2=<span class="number">456</span>;</span><br><span class="line"><span class="keyword">var</span> n3=n1.<span class="title function_">concat</span>(n2);</span><br></pre></td></tr></table></figure>

<blockquote>
<p>一般用<code>+</code>来连接字符串。但是要是有多个数字连在一起相加，然后再加字符串，是数字先相加，然后再加字符串。</p>
</blockquote>
<h4 id="substring-截取字符串"><a href="#substring-截取字符串" class="headerlink" title="substring() - 截取字符串"></a>substring() - 截取字符串</h4><p>substring方法用于从原字符串取出子字符串并返回，不能改变原字符串。他第一个参数表示子字符串的开始位置，第二个位置表示结束位置(返回结果不含位置)。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;nihoa&quot;</span>.<span class="title function_">substring</span>(<span class="number">0</span>,<span class="number">2</span>);<span class="comment">//ni</span></span><br><span class="line"><span class="string">&quot;nihoa&quot;</span>.<span class="title function_">substring</span>(<span class="number">1</span>);<span class="comment">//hoa</span></span><br><span class="line"><span class="string">&quot;nihoa&quot;</span>.<span class="title function_">substring</span>(<span class="number">2</span>,<span class="number">0</span>);<span class="comment">//等同于&quot;nihoa&quot;.substring(0,2);</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>当数字为负数，自动转换为0.</p>
</blockquote>
<h4 id="substr-截取字符串"><a href="#substr-截取字符串" class="headerlink" title="substr() - 截取字符串"></a>substr() - 截取字符串</h4><p>substr方法用于从原字符串取出子字符串并返回，不改变原字符串，跟substring作用相同。</p>
<p>第一个参数是子字符串的开始位置，第二个参数是子字符串的长度。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#x27;itbaizhan&#x27;</span>.<span class="title function_">substr</span>(<span class="number">2</span>, <span class="number">7</span>); <span class="comment">// baizhan</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>如果省略第二个参数，则表示子字符串一直到原字符串的结束。</p>
</blockquote>
<p>如果省略第二个参数，则表示子字符串一直到原字符串的结束</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#x27;itbaizhan&#x27;</span>.<span class="title function_">substr</span>(<span class="number">2</span>) <span class="comment">// &quot;baizhan&quot;</span></span><br></pre></td></tr></table></figure>

<p>如果第一个参数是负数，表示倒数计算的字符位置。如果第二个参数是负数，将被自动转为0，因此会返回空字符串</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#x27;itbaizhan&#x27;</span>.<span class="title function_">substr</span>(-<span class="number">7</span>) <span class="comment">// &quot;baizhan&quot;</span></span><br><span class="line"><span class="string">&#x27;itbaizhan&#x27;</span>.<span class="title function_">substr</span>(<span class="number">4</span>, -<span class="number">1</span>) <span class="comment">// &quot;&quot;</span></span><br></pre></td></tr></table></figure>

<h4 id="indexOf-查找子字符串-常用方法"><a href="#indexOf-查找子字符串-常用方法" class="headerlink" title="indexOf() - 查找子字符串 -&gt;常用方法"></a>indexOf() - 查找子字符串 -&gt;常用方法</h4><p>indexOf方法用于确定一个字符串在另一个字符串中第一次出现的位置，返回结果是匹配开始的位置，如果返回-1，就表示不匹配。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;hello world&quot;</span>.<span class="title function_">indexOf</span>(<span class="string">&#x27;o&#x27;</span>);<span class="comment">//4</span></span><br><span class="line"><span class="string">&quot;hello world&quot;</span>.<span class="title function_">indexOf</span>(<span class="string">&#x27;t&#x27;</span>);<span class="comment">//-1</span></span><br><span class="line"><span class="string">&quot;hello world&quot;</span>.<span class="title function_">indexOf</span>(<span class="string">&#x27;o&#x27;</span>,<span class="number">6</span>);<span class="comment">//7</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>第二个参数表示从n位置向后查。</p>
</blockquote>
<h4 id="trim-去除字符串两端空格"><a href="#trim-去除字符串两端空格" class="headerlink" title="trim() - 去除字符串两端空格"></a>trim() - 去除字符串两端空格</h4><p>trim方法用来除去字符串两端的空格，返回一个新字符串，不改变原字符串。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#x27;  nihoa  &#x27;</span>.<span class="title function_">trim</span>();</span><br></pre></td></tr></table></figure>

<p>该方法去除的不仅是空格，还包括制表符(<code>\t</code>、<code>\v</code>)、换行符（<code>\n</code>）和回车符(<code>\r</code>)。</p>
<blockquote>
<p>中间空格去不掉。</p>
</blockquote>
<h4 id="ES6扩展方法：trimEnd-和trimStart-方法-单独去前或后空格"><a href="#ES6扩展方法：trimEnd-和trimStart-方法-单独去前或后空格" class="headerlink" title="ES6扩展方法：trimEnd()和trimStart()方法 - 单独去前或后空格"></a>ES6扩展方法：trimEnd()和trimStart()方法 - 单独去前或后空格</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#x27;  nihoa  &#x27;</span>.<span class="title function_">trimEnd</span>();</span><br><span class="line"><span class="string">&#x27;  nihoa  &#x27;</span>.<span class="title function_">trimStart</span>();</span><br></pre></td></tr></table></figure>

<h4 id="split-分割字符串"><a href="#split-分割字符串" class="headerlink" title="split() - 分割字符串"></a>split() - 分割字符串</h4><p>split方法按照给定规则分割字符串，返回一个由分割出来的子字符串组成的数组。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#x27;it|sxt|baizhan&#x27;</span>.<span class="title function_">split</span>(<span class="string">&#x27;|&#x27;</span>) <span class="comment">// [&quot;it&quot;, &quot;sxt&quot;, &quot;baizhan&quot;]</span></span><br></pre></td></tr></table></figure>

<p>如果分割规则为空字符串，则返回数组的成员是原字符串的每个字符串。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#x27;a|b|c&#x27;</span>.<span class="title function_">split</span>(<span class="string">&#x27;&#x27;</span>) <span class="comment">// [&quot;a&quot;, &quot;|&quot;,  &quot;b&quot;,&quot;|&quot;, &quot;c&quot;]</span></span><br></pre></td></tr></table></figure>

<p>如果省略参数，则返回数组的为一成员就是原字符串。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#x27;it|sxt|bz&#x27;</span>.<span class="title function_">split</span>() <span class="comment">// [it|sxt|bz]</span></span><br></pre></td></tr></table></figure>

<p><code>split</code>方法还可以接受第二个参数，限定返回数组的最大成员数。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#x27;it|sxt|bz&#x27;</span>.<span class="title function_">split</span>(<span class="string">&#x27;|&#x27;</span>, <span class="number">0</span>) <span class="comment">// []</span></span><br><span class="line"><span class="string">&#x27;it|sxt|bz&#x27;</span>.<span class="title function_">split</span>(<span class="string">&#x27;|&#x27;</span>, <span class="number">1</span>) <span class="comment">// [&quot;it&quot;]</span></span><br><span class="line"><span class="string">&#x27;it|sxt|bz&#x27;</span>.<span class="title function_">split</span>(<span class="string">&#x27;|&#x27;</span>, <span class="number">2</span>) <span class="comment">// [&quot;it&quot;, &quot;sxt&quot;]</span></span><br><span class="line"><span class="string">&#x27;it|sxt|bz&#x27;</span>.<span class="title function_">split</span>(<span class="string">&#x27;|&#x27;</span>, <span class="number">3</span>) <span class="comment">// [&quot;it&quot;, &quot;sxt&quot;, &quot;bz&quot;]</span></span><br><span class="line"><span class="string">&#x27;it|sxt|bz&#x27;</span>.<span class="title function_">split</span>(<span class="string">&#x27;|&#x27;</span>, <span class="number">4</span>) <span class="comment">// [&quot;it&quot;, &quot;sxt&quot;, &quot;bz&quot;]</span></span><br></pre></td></tr></table></figure>

<h3 id="数组"><a href="#数组" class="headerlink" title="数组"></a>数组</h3><p>数组是按次序排列的一组值。每个值的位置都有编号(从0开始)，整个数组用方括号表示。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr=[<span class="string">&#x27;ni&#x27;</span>,<span class="string">&#x27;hao&#x27;</span>];</span><br></pre></td></tr></table></figure>

<p>两端的方括号是数组的标志。</p>
<p>在定义数组的时候可以先初始化，也可以后赋值。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [];</span><br><span class="line">arr[<span class="number">0</span>]=<span class="string">&#x27;ni&#x27;</span>;</span><br><span class="line">arr[<span class="number">1</span>]=<span class="string">&#x27;hao&#x27;</span>;</span><br></pre></td></tr></table></figure>

<p>任何类型的数据，都可以放入数组。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [ <span class="number">100</span>, [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>],<span class="literal">false</span> ];</span><br></pre></td></tr></table></figure>

<blockquote>
<p>称为多维数组。</p>
</blockquote>
<p>如果数组的元素还是数组，就形成了多维数组</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = [[<span class="number">1</span>, <span class="number">2</span>], [<span class="number">3</span>, <span class="number">4</span>]];</span><br><span class="line">a[<span class="number">0</span>][<span class="number">1</span>] <span class="comment">// 2</span></span><br><span class="line">a[<span class="number">1</span>][<span class="number">1</span>] <span class="comment">// 4</span></span><br></pre></td></tr></table></figure>

<h4 id="数组length属性"><a href="#数组length属性" class="headerlink" title="数组length属性"></a>数组length属性</h4><p>数组的length属性，返回数组的成员数量。</p>
<p>例：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[<span class="string">&#x27;sxt&#x27;</span>,<span class="string">&#x27;ss&#x27;</span>,<span class="string">&#x27;tt&#x27;</span>].<span class="property">length</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>当数组越界后会出现undefined。</p>
</blockquote>
<h3 id="数组的遍历"><a href="#数组的遍历" class="headerlink" title="数组的遍历"></a>数组的遍历</h3><p>数组的遍历可以考虑使用for循环或while循环</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = [<span class="string">&#x27;sxt&#x27;</span>, <span class="string">&#x27;baizhan&#x27;</span>, <span class="string">&#x27;it&#x27;</span>];</span><br><span class="line"></span><br><span class="line"><span class="comment">// for循环</span></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; a.<span class="property">length</span>; i++) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(a[i]);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// while循环</span></span><br><span class="line"><span class="keyword">var</span> i = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">while</span> (i &lt; a.<span class="property">length</span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(a[i]);</span><br><span class="line">  i++;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>for..in遍历数组</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i <span class="keyword">in</span> arr)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(a[i]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="数组的方法"><a href="#数组的方法" class="headerlink" title="数组的方法"></a>数组的方法</h3><h4 id="静态方法Array-isArray-判断是否是数组"><a href="#静态方法Array-isArray-判断是否是数组" class="headerlink" title="静态方法Array.isArray() - 判断是否是数组"></a>静态方法Array.isArray() - 判断是否是数组</h4><p>Array.isArray方法返回一个布尔值，表示参数是否为数组。可以弥补typeof运算符的不足。</p>
<h4 id="push-pop-添加-删除数组元素"><a href="#push-pop-添加-删除数组元素" class="headerlink" title="push()&#x2F;pop() - 添加&#x2F;删除数组元素"></a>push()&#x2F;pop() - 添加&#x2F;删除数组元素</h4><p>push方法用于在数组的末端添加一个或多个元素，并返回添加新元素后的数组长度。注意：<strong>该方法会改变原数组</strong>。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [];</span><br><span class="line">arr.<span class="title function_">push</span>(<span class="string">&quot;你好&quot;</span>);</span><br><span class="line">arr.<span class="title function_">push</span>(<span class="string">&#x27;hello&#x27;</span>);</span><br><span class="line">arr.<span class="title function_">push</span>(<span class="literal">true</span>, &#123;&#125;);</span><br></pre></td></tr></table></figure>

<blockquote>
<p>可以一次性添加一条也可以添加多条。</p>
</blockquote>
<p><code>pop</code>方法用于删除数组的最后一个元素，并返回该元素。注意：<strong>该方法会改变原数组</strong>。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="string">&#x27;ni&#x27;</span>,<span class="string">&#x27;hao&#x27;</span>,<span class="string">&#x27;ma&#x27;</span>];</span><br><span class="line">arr.<span class="title function_">pop</span>();</span><br></pre></td></tr></table></figure>

<h4 id="shift-unshift-删除-添加第一个元素并返回"><a href="#shift-unshift-删除-添加第一个元素并返回" class="headerlink" title="shift()&#x2F;unshift() - 删除&#x2F;添加第一个元素并返回"></a>shift()&#x2F;unshift() - 删除&#x2F;添加第一个元素并返回</h4><p>shift方法用于删除数组的第一个元素，并返回该元素。注意：<strong>该方法会改变原数组</strong>。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="string">&#x27;ni&#x27;</span>,<span class="string">&#x27;hao&#x27;</span>,<span class="string">&#x27;ma&#x27;</span>];</span><br><span class="line">arr.<span class="title function_">shift</span>();</span><br></pre></td></tr></table></figure>

<p>unshift方法用于数组的第一个元素的位置添加一个元素，并返回该元素。注意：<strong>该方法会改变原数组</strong>。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="string">&#x27;ni&#x27;</span>,<span class="string">&#x27;hao&#x27;</span>,<span class="string">&#x27;ma&#x27;</span>];</span><br><span class="line">arr.<span class="title function_">unshift</span>(<span class="string">&#x27;wxy&#x27;</span>);</span><br></pre></td></tr></table></figure>

<blockquote>
<p>可以添加多个，会按顺序插入数组内。<br>当删除空数组后会返回undefined。</p>
</blockquote>
<h4 id="join-所有数组连接为一个字符串"><a href="#join-所有数组连接为一个字符串" class="headerlink" title="join - 所有数组连接为一个字符串"></a>join - 所有数组连接为一个字符串</h4><p>join方法以指定参数作为分隔符，将所有数组成员连接为一个字符串返回。如果不提供参数，默认用逗号分隔。</p>
<p>例：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>];</span><br><span class="line"></span><br><span class="line">a.<span class="title function_">join</span>(<span class="string">&#x27; &#x27;</span>)<span class="comment">//&#x27;1 2 3&#x27;</span></span><br><span class="line">a.<span class="title function_">join</span>(<span class="string">&#x27; | &#x27;</span>) <span class="comment">// &quot;1 | 2 | 3 | 4&quot;</span></span><br><span class="line">a.<span class="title function_">join</span>() <span class="comment">// &quot;1,2,3,4&quot;</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>当数组里有null或空位，使用join会转化为空字符串。</p>
</blockquote>
<p>数组的join配合字符串split可以实现数组于字符串的转换。</p>
<p>例：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr=[<span class="string">&#x27;a&#x27;</span>,<span class="string">&#x27;b&#x27;</span>,<span class="string">&#x27;c&#x27;</span>];</span><br><span class="line"><span class="keyword">var</span> myArr=arr.<span class="title function_">join</span>(<span class="string">&quot;&quot;</span>);</span><br></pre></td></tr></table></figure>

<h4 id="concat-用于多个数组的合并"><a href="#concat-用于多个数组的合并" class="headerlink" title="concat() - 用于多个数组的合并"></a>concat() - 用于多个数组的合并</h4><p>concat方法用于多个数组的合并。他将新数组的成员，添加到原数组成员的后面，然后返回一个新数组，原数组不变。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[<span class="string">&#x27;hello&#x27;</span>].<span class="title function_">concat</span>([<span class="string">&#x27;world&#x27;</span>])</span><br></pre></td></tr></table></figure>

<blockquote>
<p>可以是多个元素的合并(参数为多个)。<br>用于上拉加载，合并数据。</p>
</blockquote>
<p>例：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>].<span class="title function_">concat</span>(<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,[<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>]);<span class="comment">//[1,2,3,4,5,6,7,8,9]</span></span><br></pre></td></tr></table></figure>

<h4 id="reverse-用于排列数组元素"><a href="#reverse-用于排列数组元素" class="headerlink" title="reverse() - 用于排列数组元素"></a>reverse() - 用于排列数组元素</h4><p>reverse方法用于颠倒排列数组元素，返回改变后的数组(改变原来数组)。</p>
<p>例</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a=[<span class="string">&#x27;a&#x27;</span>,<span class="string">&#x27;b&#x27;</span>,<span class="string">&#x27;c&#x27;</span>];</span><br><span class="line">a.<span class="title function_">reverse</span>();<span class="comment">//c,b,a</span></span><br></pre></td></tr></table></figure>

<h4 id="indexOf-查找元素"><a href="#indexOf-查找元素" class="headerlink" title="indexOf() - 查找元素"></a>indexOf() - 查找元素</h4><p>indexOf方法返回给定元素在数组中第一次出现的位置，没有出现则返回-1。</p>
<p>例：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr=[<span class="string">&#x27;a&#x27;</span>,<span class="string">&#x27;b&#x27;</span>,<span class="string">&#x27;c&#x27;</span>];</span><br><span class="line">arr.<span class="title function_">indexOf</span>(<span class="string">&#x27;b&#x27;</span>);</span><br></pre></td></tr></table></figure>

<p><code>indexOf</code>方法还可以接受第二个参数，表示搜索的开始位置</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[<span class="string">&#x27;尚学堂&#x27;</span>, <span class="string">&#x27;百战程序员&#x27;</span>, <span class="string">&#x27;itbaizhan&#x27;</span>].<span class="title function_">indexOf</span>(<span class="string">&#x27;尚学堂&#x27;</span>, <span class="number">1</span>) <span class="comment">// -1</span></span><br></pre></td></tr></table></figure>

<h3 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h3><p>函数是一段可以重复调用的代码块。</p>
<h4 id="函数的声明-function"><a href="#函数的声明-function" class="headerlink" title="函数的声明(function)"></a>函数的声明(function)</h4><p>function命令：function声明的代码区块，就是一个函数。function命令后面是函数名，函数名的后面是一对圆括号，里面是传入函数的参数。函数体放在大括号里面。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">print</span>(<span class="params">s</span>)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(s);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="函数名的提升"><a href="#函数名的提升" class="headerlink" title="函数名的提升"></a>函数名的提升</h4><p>js引擎将函数名视同变量名，所以采用function命令声明函数时，整个函数都会像变量声明一样，被提到代码开头。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">add</span>();</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">add</span>(<span class="params"></span>)&#123;&#125;</span><br></pre></td></tr></table></figure>

<h4 id="函数参数"><a href="#函数参数" class="headerlink" title="函数参数"></a>函数参数</h4><p>函数运行的时候，有时需要提供外部数据，不同的外部数据会得到不同的结果，这种外部数据就叫参数</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">square</span>(<span class="params">x</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(x * x);</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">square</span>(<span class="number">2</span>) <span class="comment">// 4</span></span><br><span class="line"><span class="title function_">square</span>(<span class="number">3</span>) <span class="comment">// 9</span></span><br></pre></td></tr></table></figure>

<h4 id="函数返回值"><a href="#函数返回值" class="headerlink" title="函数返回值"></a>函数返回值</h4><p>JavaScript函数提供两个接口实现与外界的交互，其中参数作为入口，接收外界信息；返回值作为出口，把运算结果反馈给外界</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">getName</span>(<span class="params">name</span>)&#123;</span><br><span class="line">    <span class="keyword">return</span> name;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> myName = <span class="title function_">getName</span>(<span class="string">&quot;itbaizhan&quot;</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(myName); <span class="comment">// itbaizhan</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p><code>return</code> 后面不能在添加任何代码，因为不会执行</p>
</blockquote>
<h3 id="对象"><a href="#对象" class="headerlink" title="对象"></a>对象</h3><p>对象是js语言的核心概念，也是最重要的数据类型。对象就是一组键值对的集合，是一种无序的复合数据集合。</p>
<p>对象的每一个键名又称为“属性”（property），它的“键值”可以是任何数据类型。如果一个属性的值为函数，通常把这个属性称为“方法”，它可以像函数那样调用</p>
<p>例：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> user=&#123;</span><br><span class="line">    <span class="attr">name</span>:<span class="string">&quot;sjj&quot;</span>,</span><br><span class="line">    <span class="attr">age</span>:<span class="number">14</span>,</span><br><span class="line">    <span class="attr">job</span>:[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>],</span><br><span class="line">    <span class="attr">flag</span>:ture,</span><br><span class="line">    <span class="attr">getname</span>:<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;ni&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="attr">container</span>:&#123;</span><br><span class="line">        <span class="attr">frontEnd</span>:[<span class="string">&quot;Web前端&quot;</span>,<span class="string">&quot;Android&quot;</span>,<span class="string">&quot;iOS&quot;</span>],</span><br><span class="line">        <span class="attr">backEnd</span>:[<span class="string">&quot;Java&quot;</span>,<span class="string">&quot;Python&quot;</span>]</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>使用是 名字.属性<br>容器里面嵌容器就是链式调用</p>
</blockquote>
<h3 id="Math对象"><a href="#Math对象" class="headerlink" title="Math对象"></a>Math对象</h3><p>Math是js的原生对象，提供各种数学功能。</p>
<h4 id="Math-abs-绝对值"><a href="#Math-abs-绝对值" class="headerlink" title="Math.abs - 绝对值"></a>Math.abs - 绝对值</h4><p>Math.abs()方法返回参数的绝对值</p>
<p>例：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Math</span>.<span class="title function_">abs</span>(-<span class="number">1</span>);</span><br></pre></td></tr></table></figure>

<h4 id="Math-max-Math-min-最大值，最小值"><a href="#Math-max-Math-min-最大值，最小值" class="headerlink" title="Math.max(),Math.min() - 最大值，最小值"></a>Math.max(),Math.min() - 最大值，最小值</h4><p>Math.max()方法返回参数中最大的那个值，Math.min()返回最小的那个值。如果参数为空，Math.min返回infinity,Math.max返回-infinity。</p>
<p>例：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Math</span>.<span class="title function_">max</span>(<span class="number">4</span>,<span class="number">5</span>);</span><br><span class="line"><span class="title class_">Math</span>.<span class="title function_">min</span>(-<span class="number">1</span>,<span class="number">4</span>);</span><br><span class="line"><span class="title class_">Math</span>.<span class="title function_">max</span>();</span><br><span class="line"><span class="title class_">Math</span>.<span class="title function_">min</span>();</span><br></pre></td></tr></table></figure>

<h4 id="Math-floor-，Math-ceil-向上-向下取整"><a href="#Math-floor-，Math-ceil-向上-向下取整" class="headerlink" title="Math.floor()，Math.ceil() - 向上&#x2F;向下取整"></a>Math.floor()，Math.ceil() - 向上&#x2F;向下取整</h4><p>Math.floor()方法返回小于参数的最大整数</p>
<p>Math.ceil()方法返回大于参数的最小整数</p>
<p>例：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Math</span>.<span class="title function_">floor</span>(<span class="number">3.2</span>);<span class="comment">//3</span></span><br><span class="line"><span class="title class_">Math</span>.<span class="title function_">ceil</span>(<span class="number">3.2</span>);<span class="comment">//4</span></span><br></pre></td></tr></table></figure>

<h4 id="Math-random-随机数"><a href="#Math-random-随机数" class="headerlink" title="Math.random() - 随机数"></a>Math.random() - 随机数</h4><p>Math.random()返回0-1之间的伪随机数，可以等于0，但一定小于1</p>
<p>例：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Math</span>.<span class="title function_">random</span>();</span><br></pre></td></tr></table></figure>

<p>任意范围的随机数生成：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">rand</span>(<span class="params">min,max</span>)&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="title class_">Math</span>.<span class="title function_">random</span>()*(max-min)+min;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Date对象"><a href="#Date对象" class="headerlink" title="Date对象"></a>Date对象</h3><p>date对象是js原生的时间库。他以1970年1月1日00：00：00作为时间的零点，可以表示的时间范围是前后各一亿天(单位ms)。</p>
<h4 id="Date-now-返回当前时间"><a href="#Date-now-返回当前时间" class="headerlink" title="Date.now() - 返回当前时间"></a>Date.now() - 返回当前时间</h4><p>Date.now()方法返回当前时间距离时间零点(1970年1月1日00：00：00 UTC)的毫秒数，相当于Unix时间戳乘以1000</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Date</span>.<span class="title function_">now</span>();</span><br></pre></td></tr></table></figure>

<h4 id="时间戳"><a href="#时间戳" class="headerlink" title="时间戳"></a>时间戳</h4><p>时间戳是指1970年1月1日00：00：00起至现在的总秒数。</p>
<p><code>Date</code>对象提供了一系列<code>get*</code>方法，用来获取实例对象某个方面的值</p>
<blockquote>
<p><strong>实例方法get类</strong><br>getTime()：返回实例距离1970年1月1日00:00:00的毫秒数<br>getDate()：返回实例对象对应每个月的几号（从1开始）<br>getDay()：返回星期几，星期日为0，星期一为1，以此类推<br>getYear()：返回距离1900的年数<br>getFullYear()：返回四位的年份<br>getMonth()：返回月份（0表示1月，11表示12月）<br>getHours()：返回小时（0-23）<br>getMilliseconds()：返回毫秒（0-999）<br>getMinutes()：返回分钟（0-59）<br>getSeconds()：返回秒（0-59）</p>
</blockquote>
<p>例：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="title class_">Date</span>();<span class="comment">//Mon Feb 06 2023 15:56:05 GMT+0800 (中国标准时间)</span></span><br><span class="line"><span class="title class_">Date</span>(<span class="number">1675670226648</span>)<span class="comment">//放进去时间戳也可以</span></span><br><span class="line">  <span class="keyword">var</span> endYear = <span class="keyword">new</span> <span class="title class_">Date</span>(today.<span class="title function_">getFullYear</span>(), <span class="number">11</span>, <span class="number">31</span>, <span class="number">23</span>, <span class="number">59</span>, <span class="number">59</span>, <span class="number">999</span>);<span class="comment">//年，月，日，时，分，秒，毫秒 -&gt;误差1毫秒</span></span><br></pre></td></tr></table></figure>

<h3 id="DOM概述"><a href="#DOM概述" class="headerlink" title="DOM概述"></a>DOM概述</h3><p>DOM 是 JavaScript 操作网页的接口，全称为“文档对象模型”（Document Object Model）。它的作用是将网页转为一个 JavaScript 对象，从而可以用脚本进行各种操作（比如对元素增删内容）。</p>
<p>浏览器会根据 DOM 模型，将结构化文档HTML解析成一系列的节点，再由这些节点组成一个树状结构（DOM Tree）。所有的节点和最终的树状结构，都有规范的对外接口。</p>
<p>DOM 只是一个接口规范，可以用各种语言实现。所以严格地说，DOM 不是 JavaScript 语法的一部分，但是 DOM 操作是 JavaScript 最常见的任务，离开了 DOM，JavaScript 就无法控制网页。另一方面，JavaScript 也是最常用于 DOM 操作的语言。</p>
<h4 id="节点"><a href="#节点" class="headerlink" title="节点"></a>节点</h4><p>DOM 的最小组成单位叫做节点（node）。文档的树形结构（DOM 树），就是由各种不同类型的节点组成。每个节点可以看作是文档树的一片叶子。</p>
<p>节点的类型有七种：</p>
<ul>
<li>Document：整个文档树的顶层节点</li>
<li>DocumentType：doctype标签</li>
<li>Element：网页的各种HTML标签</li>
<li>Attribute：网页元素的属性（比如class&#x3D;”right”）</li>
<li>Text：标签之间或标签包含的文本</li>
<li>Comment：注释</li>
<li>DocumentFragment：文档的片段</li>
</ul>
<h4 id="节点树"><a href="#节点树" class="headerlink" title="节点树"></a>节点树</h4><p>一个文档的所有节点，按照所在的层级，可以抽象成一种树状结构。这种树状结构就是 DOM 树。它有一个顶层节点，下一层都是顶层节点的子节点，然后子节点又有自己的子节点，就这样层层衍生出一个金字塔结构，倒过来就像一棵树。</p>
<p>浏览器原生提供document节点，代表整个文档</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">document</span>);</span><br><span class="line"><span class="comment">// 在控制台中打印整个文档内容。</span></span><br></pre></td></tr></table></figure>

<p>除了根节点，其他节点都有三种层级关系</p>
<ul>
<li>父节点关系（parentNode）：直接的那个上级节点</li>
<li>子节点关系（childNodes）：直接的下级节点</li>
<li>同级节点关系（sibling）：拥有同一个父节点的节点</li>
</ul>
<h4 id="Node-nodeType属性"><a href="#Node-nodeType属性" class="headerlink" title="Node.nodeType属性"></a>Node.nodeType属性</h4><p>不同节点的nodeType属性值和对应的常量如下</p>
<ul>
<li>文档节点（document）：9，对应常量Node.DOCUMENT_NODE</li>
<li>元素节点（element）：1，对应常量Node.ELEMENT_NODE</li>
<li>属性节点（attr）：2，对应常量Node.ATTRIBUTE_NODE</li>
<li>文本节点（text）：3，对应常量Node.TEXT_NODE</li>
<li>文档片断节点（DocumentFragment）：11，对应常量Node.DOCUMENT_FRAGMENT_NODE</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">document</span>.<span class="property">nodeType</span> <span class="comment">// 9</span></span><br><span class="line"><span class="variable language_">document</span>.<span class="property">nodeType</span> === <span class="title class_">Node</span>.<span class="property">DOCUMENT_NODE</span> <span class="comment">// true</span></span><br></pre></td></tr></table></figure>

<h3 id="document对象-方法-获取元素"><a href="#document对象-方法-获取元素" class="headerlink" title="document对象 - 方法&#x2F;获取元素"></a>document对象 - 方法&#x2F;获取元素</h3><p>document获取元素：</p>
<ul>
<li>getElementsByTagName</li>
<li>getElementsByClassName</li>
<li>getElementsByName</li>
<li>getElementsByld</li>
<li>querySelector</li>
<li>querySelectorAll</li>
</ul>
<h4 id="document-getElementsByTagName-搜索HTML标签名"><a href="#document-getElementsByTagName-搜索HTML标签名" class="headerlink" title="document.getElementsByTagName() - 搜索HTML标签名"></a>document.getElementsByTagName() - 搜索HTML标签名</h4><p><code>document.getElementsByTagName</code>方法搜索 HTML 标签名，返回符合条件的元素。它的返回值是一个类似数组对象（<code>HTMLCollection</code>实例），可以实时反映 HTML 文档的变化。如果没有任何匹配的元素，就返回一个空集</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> paras = <span class="variable language_">document</span>.<span class="title function_">getElementsByTagName</span>(<span class="string">&#x27;p&#x27;</span>)[<span class="number">0</span>];</span><br><span class="line">paras.<span class="property">innerHTML</span>=<span class="string">&quot;ni&quot;</span>;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>document.getElementsByTagName()是获取标签，后面加上数组是显示标签里的内容。<br>paras.innerHTML改变标签里的内容(只能是字符串)。</p>
</blockquote>
<p>如果传入<code>*</code>，就可以返回文档中所有 HTML 元素</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> allElements = <span class="variable language_">document</span>.<span class="title function_">getElementsByTagName</span>(<span class="string">&#x27;*&#x27;</span>);</span><br></pre></td></tr></table></figure>

<h4 id="document-getElementsByClassName-搜索HTML标签类名"><a href="#document-getElementsByClassName-搜索HTML标签类名" class="headerlink" title="document.getElementsByClassName() - 搜索HTML标签类名"></a>document.getElementsByClassName() - 搜索HTML标签类名</h4><p><code>document.getElementsByClassName</code>方法返回一个类似数组的对象（<code>HTMLCollection</code>实例），包括了所有<code>class</code>名字符合指定条件的元素，元素的变化实时反映在返回结果中</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> elements = <span class="variable language_">document</span>.<span class="title function_">getElementsByClassName</span>(<span class="string">&#x27;names&#x27;</span>);</span><br></pre></td></tr></table></figure>

<p>由于<code>class</code>是保留字，所以 JavaScript 一律使用<code>className</code>表示 CSS 的<code>class</code></p>
<p>参数可以是多个<code>class</code>，它们之间使用空格分隔</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> elements = <span class="variable language_">document</span>.<span class="title function_">getElementsByClassName</span>(<span class="string">&#x27;foo bar&#x27;</span>);</span><br></pre></td></tr></table></figure>

<h4 id="document-getElementsByName-通过name属性查找"><a href="#document-getElementsByName-通过name属性查找" class="headerlink" title="document.getElementsByName() - 通过name属性查找"></a>document.getElementsByName() - 通过name属性查找</h4><p><code>document.getElementsByName</code>方法用于选择拥有<code>name</code>属性的 HTML 元素（比如<code>&lt;form&gt;</code>、<code>&lt;radio&gt;</code>、<code>&lt;img&gt;</code>等），返回一个类似数组的的对象（<code>NodeList</code>实例），因为<code>name</code>属性相同的元素可能不止一个</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 表单为 &lt;form name=&quot;itbaizhan&quot;&gt;&lt;/form&gt;</span></span><br><span class="line"><span class="keyword">var</span> forms = <span class="variable language_">document</span>.<span class="title function_">getElementsByName</span>(<span class="string">&#x27;itbaizhan&#x27;</span>);</span><br></pre></td></tr></table></figure>

<blockquote>
<p>使用率低</p>
</blockquote>
<h4 id="document-getElementById-通过id属性查找"><a href="#document-getElementById-通过id属性查找" class="headerlink" title="document.getElementById() - 通过id属性查找"></a>document.getElementById() - 通过id属性查找</h4><p><code>document.getElementById</code>方法返回匹配指定<code>id</code>属性的元素节点。如果没有发现匹配的节点，则返回<code>null</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> elem = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;para1&#x27;</span>);</span><br></pre></td></tr></table></figure>

<blockquote>
<p>最常用的方法。</p>
</blockquote>
<p>注意，该方法的参数是大小写敏感的。比如，如果某个节点的<code>id</code>属性是<code>main</code>，那么<code>document.getElementById(&#39;Main&#39;)</code>将返回<code>null</code></p>
<h4 id="document-querySelector-选择器查找，只返回第一个"><a href="#document-querySelector-选择器查找，只返回第一个" class="headerlink" title="document.querySelector() - 选择器查找，只返回第一个"></a>document.querySelector() - 选择器查找，只返回第一个</h4><p><code>document.querySelector</code>方法接受一个 CSS 选择器作为参数，返回匹配该选择器的元素节点。如果有多个节点满足匹配条件，则返回第一个匹配的节点。如果没有发现匹配的节点，则返回<code>null</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> el1 = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;.myclass&#x27;</span>);</span><br></pre></td></tr></table></figure>

<h4 id="document-querySelectorAll-选择器查找，都返回"><a href="#document-querySelectorAll-选择器查找，都返回" class="headerlink" title="document.querySelectorAll() - 选择器查找，都返回"></a>document.querySelectorAll() - 选择器查找，都返回</h4><p><code>document.querySelectorAll</code>方法与<code>querySelector</code>用法类似，区别是返回一个<code>NodeList</code>对象，包含所有匹配给定选择器的节点</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> elementList = <span class="variable language_">document</span>.<span class="title function_">querySelectorAll</span>(<span class="string">&#x27;.myclass&#x27;</span>);</span><br></pre></td></tr></table></figure>

<h3 id="document对象方法-创建元素"><a href="#document对象方法-创建元素" class="headerlink" title="document对象方法&#x2F;创建元素"></a>document对象方法&#x2F;创建元素</h3><p>document创建元素：</p>
<ul>
<li>createElement</li>
<li>createTextNode</li>
<li>createAttribute</li>
</ul>
<h4 id="document-createElement-生成元素节点"><a href="#document-createElement-生成元素节点" class="headerlink" title="document.createElement() - 生成元素节点"></a>document.createElement() - 生成元素节点</h4><p>document.createElement方法用来生成元素节点，并返回该节点。</p>
<p>例：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> newDiv=<span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&#x27;div&#x27;</span>);</span><br></pre></td></tr></table></figure>

<h4 id="document-createTextNode-生成节点文本"><a href="#document-createTextNode-生成节点文本" class="headerlink" title="document.createTextNode() - 生成节点文本"></a>document.createTextNode() - 生成节点文本</h4><p>document.createTextNode方法用来生成文本节点，并返回该节点。他的参数是文本节点的内容。</p>
<p>例：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> newDiv=<span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&#x27;div&#x27;</span>);</span><br><span class="line"><span class="keyword">var</span> newContent=<span class="variable language_">document</span>.<span class="title function_">createTextNode</span>(<span class="string">&#x27;hello&#x27;</span>);</span><br><span class="line">newDiv.<span class="title function_">appendChild</span>(newContent);<span class="comment">//将内容或者子元素放到容器中。</span></span><br></pre></td></tr></table></figure>

<h4 id="document-createAttribute-生成节点属性"><a href="#document-createAttribute-生成节点属性" class="headerlink" title="document.createAttribute() - 生成节点属性"></a>document.createAttribute() - 生成节点属性</h4><p>document.createAttribute方法生成新的属性节点，并返回它。</p>
<p>例：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> root=<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;root&#x27;</span>);</span><br><span class="line"><span class="keyword">var</span> it=<span class="variable language_">document</span>.<span class="title function_">createAttributr</span>(<span class="string">&#x27;it&#x27;</span>);</span><br><span class="line">it.<span class="property">value</span>=<span class="string">&#x27;its&#x27;</span>;</span><br><span class="line">root.<span class="title function_">setAttributeNode</span>(it);<span class="comment">//放置属性内容</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>只有属性的放置用setAttributeNode，其他的放置用appendChild(dom对象)。</p>
</blockquote>
<h3 id="Element对象属性"><a href="#Element对象属性" class="headerlink" title="Element对象属性"></a>Element对象属性</h3><p>Element对象属性有：</p>
<ul>
<li>id</li>
<li>className</li>
<li>classList</li>
<li>innerHTML</li>
<li>innerText</li>
</ul>
<p>Element对象对应网页HTML元素。每个HTML元素，在DOM树上都会转化成一个Element节点对象.</p>
<h4 id="Element-id"><a href="#Element-id" class="headerlink" title="Element.id"></a>Element.id</h4><p>Element.id属性返回指定元素id属性，该属性可读写。</p>
<p>例：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> p=<span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;p&#x27;</span>);</span><br><span class="line">p.<span class="property">id</span></span><br></pre></td></tr></table></figure>

<h4 id="Element-className"><a href="#Element-className" class="headerlink" title="Element.className"></a>Element.className</h4><p>Element.className属性用来读写当前元素节点的class属性。他的值是一个字符串，每一个class之间用空格分割。</p>
<p>例：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> div = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;myDiv&#x27;</span>);</span><br><span class="line">div.<span class="property">className</span></span><br></pre></td></tr></table></figure>

<h4 id="Element-classList-对class的集合方法"><a href="#Element-classList-对class的集合方法" class="headerlink" title="Element.classList - 对class的集合方法"></a>Element.classList - 对class的集合方法</h4><p>classList对象有以下方法。</p>
<ul>
<li>add():增加一个class</li>
<li>remove():移除一个class</li>
<li>contains()：检查当前元素是否包含某个class</li>
<li>toggle()：将某个class移入或移出当前元素</li>
</ul>
<p>例：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> div = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;myDiv&#x27;</span>);</span><br><span class="line">......</span><br><span class="line">div.<span class="property">classList</span>.<span class="title function_">add</span>(<span class="string">&#x27;myCssClass&#x27;</span>);</span><br><span class="line">div.<span class="property">classList</span>.<span class="title function_">add</span>(<span class="string">&#x27;foo&#x27;</span>, <span class="string">&#x27;bar&#x27;</span>);</span><br><span class="line">div.<span class="property">classList</span>.<span class="title function_">remove</span>(<span class="string">&#x27;myCssClass&#x27;</span>);</span><br><span class="line">div.<span class="property">classList</span>.<span class="title function_">toggle</span>(<span class="string">&#x27;myCssClass&#x27;</span>); <span class="comment">// 如果 myCssClass 不存在就加入，否则移除</span></span><br><span class="line">div.<span class="property">classList</span>.<span class="title function_">contains</span>(<span class="string">&#x27;myCssClass&#x27;</span>); <span class="comment">// 返回 true 或者 false</span></span><br></pre></td></tr></table></figure>

<h4 id="Element-innerHTML-设置页面内容"><a href="#Element-innerHTML-设置页面内容" class="headerlink" title="Element.innerHTML - 设置页面内容"></a>Element.innerHTML - 设置页面内容</h4><p><code>Element.innerHTML</code>属性返回一个字符串，等同于该元素包含的所有 HTML 代码。</p>
<p>该属性可读写，常用来设置某个节点的内容。它能改写所有元素节点的内容，包括<code>&lt;HTML&gt;</code>和<code>&lt;body&gt;</code>元素。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">el.<span class="property">innerHTML</span> = <span class="string">&#x27;&#x27;</span>;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>Element.innerHTML后面加东西了就是改变，不加东西就是读取。</p>
</blockquote>
<h4 id="Element-innerText-设置页面内容"><a href="#Element-innerText-设置页面内容" class="headerlink" title="Element.innerText - 设置页面内容"></a>Element.innerText - 设置页面内容</h4><p><code>innerText</code>和<code>innerHTML</code>类似，不同的是<code>innerText</code>无法识别元素，会直接渲染成字符串</p>
<h3 id="Element获取元素位置"><a href="#Element获取元素位置" class="headerlink" title="Element获取元素位置"></a>Element获取元素位置</h3><table>
<thead>
<tr>
<th align="left">属性</th>
<th align="center">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="left">clientHeight</td>
<td align="center">获取元素高度包括<code>padding</code>部分，但是不包括<code>border</code>、<code>margin</code></td>
</tr>
<tr>
<td align="left">clientWidth</td>
<td align="center">获取元素宽度包括<code>padding</code>部分，但是不包括<code>border</code>、<code>margin</code></td>
</tr>
<tr>
<td align="left">scrollHeight</td>
<td align="center">元素总高度，它包括<code>padding</code>，但是不包括<code>border</code>、<code>margin</code>包括溢出的不可见内容</td>
</tr>
<tr>
<td align="left">scrollWidth</td>
<td align="center">元素总宽度，它包括<code>padding</code>，但是不包括<code>border</code>、<code>margin</code>包括溢出的不可见内容</td>
</tr>
<tr>
<td align="left">scrollLeft</td>
<td align="center">元素的水平滚动条向右滚动的像素数量</td>
</tr>
<tr>
<td align="left">scrollTop</td>
<td align="center">元素的垂直滚动条向下滚动的像素数量</td>
</tr>
<tr>
<td align="left">offsetHeight</td>
<td align="center">元素的 CSS 垂直高度（单位像素），包括元素本身的高度、padding 和 border</td>
</tr>
<tr>
<td align="left">offsetWidth</td>
<td align="center">元素的 CSS 水平宽度（单位像素），包括元素本身的高度、padding 和 border</td>
</tr>
<tr>
<td align="left">offsetLeft</td>
<td align="center">到定位父级左边界的间距</td>
</tr>
<tr>
<td align="left">offsetTop</td>
<td align="center">到定位父级上边界的间距</td>
</tr>
</tbody></table>
<h4 id="Element-clientHeight，Element-clientWidth-获取元素高度-宽度"><a href="#Element-clientHeight，Element-clientWidth-获取元素高度-宽度" class="headerlink" title="Element.clientHeight，Element.clientWidth - 获取元素高度&#x2F;宽度"></a>Element.clientHeight，Element.clientWidth - 获取元素高度&#x2F;宽度</h4><p><code>Element.clientHeight</code>属性返回一个整数值，表示元素节点的 CSS 高度（单位像素），只对块级元素生效，对于行内元素返回<code>0</code>。如果块级元素没有设置 CSS 高度，则返回实际高度</p>
<p>除了元素本身的高度，它还包括<code>padding</code>部分，但是不包括<code>border</code>、<code>margin</code>。如果有水平滚动条，还要减去水平滚动条的高度。注意，这个值始终是整数，如果是小数会被四舍五入。</p>
<p><code>Element.clientWidth</code>属性返回元素节点的 CSS 宽度，同样只对块级元素有效，也是只包括元素本身的宽度和<code>padding</code>，如果有垂直滚动条，还要减去垂直滚动条的宽度。</p>
<p><code>document.documentElement</code>的<code>clientHeight</code>属性，返回当前视口的高度（即浏览器窗口的高度）。<code>document.body</code>的高度则是网页的实际高度。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 视口高度 -&gt;页面撑起来的总高度</span></span><br><span class="line"><span class="variable language_">document</span>.<span class="property">documentElement</span>.<span class="property">clientHeight</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 网页总高度</span></span><br><span class="line"><span class="variable language_">document</span>.<span class="property">body</span>.<span class="property">clientHeight</span></span><br></pre></td></tr></table></figure>

<h4 id="Element-scrollHeight，Element-scrollWidth-元素总高-宽度"><a href="#Element-scrollHeight，Element-scrollWidth-元素总高-宽度" class="headerlink" title="Element.scrollHeight，Element.scrollWidth - 元素总高&#x2F;宽度"></a>Element.scrollHeight，Element.scrollWidth - 元素总高&#x2F;宽度</h4><p><code>Element.scrollHeight</code>属性返回一个整数值（小数会四舍五入），表示当前元素的总高度（单位像素），它包括<code>padding</code>，但是不包括<code>border</code>、<code>margin</code>以及水平滚动条的高度（如果有水平滚动条的话）</p>
<p><code>Element.scrollWidth</code>属性表示当前元素的总宽度（单位像素），其他地方都与<code>scrollHeight</code>属性类似。这两个属性只读</p>
<p>整张网页的总高度可以从<code>document.documentElement</code>或<code>document.body</code>上读取</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 返回网页的总高度</span></span><br><span class="line"><span class="variable language_">document</span>.<span class="property">documentElement</span>.<span class="property">scrollHeight</span></span><br><span class="line"><span class="variable language_">document</span>.<span class="property">body</span>.<span class="property">scrollHeight</span></span><br></pre></td></tr></table></figure>

<h4 id="Element-scrollLeft，Element-scrollTop-元素水平-垂直滚动的距离"><a href="#Element-scrollLeft，Element-scrollTop-元素水平-垂直滚动的距离" class="headerlink" title="Element.scrollLeft，Element.scrollTop - 元素水平&#x2F;垂直滚动的距离"></a>Element.scrollLeft，Element.scrollTop - 元素水平&#x2F;垂直滚动的距离</h4><p><code>Element.scrollLeft</code>属性表示当前元素的水平滚动条向右侧滚动的像素数量，<code>Element.scrollTop</code>属性表示当前元素的垂直滚动条向下滚动的像素数量。对于那些没有滚动条的网页元素，这两个属性总是等于0</p>
<p>如果要查看整张网页的水平的和垂直的滚动距离，要从<code>document.documentElement</code>元素上读取</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">document</span>.<span class="property">documentElement</span>.<span class="property">scrollLeft</span></span><br><span class="line"><span class="variable language_">document</span>.<span class="property">documentElement</span>.<span class="property">scrollTop</span></span><br></pre></td></tr></table></figure>

<h4 id="Element-offsetHeight，Element-offsetWidth-元素css垂直-水平高度"><a href="#Element-offsetHeight，Element-offsetWidth-元素css垂直-水平高度" class="headerlink" title="Element.offsetHeight，Element.offsetWidth - 元素css垂直&#x2F;水平高度"></a>Element.offsetHeight，Element.offsetWidth - 元素css垂直&#x2F;水平高度</h4><p><code>Element.offsetHeight</code>属性返回一个整数，表示元素的 CSS 垂直高度（单位像素），包括元素本身的高度、padding 和 border，以及水平滚动条的高度（如果存在滚动条）。</p>
<p><code>Element.offsetWidth</code>属性表示元素的 CSS 水平宽度（单位像素），其他都与<code>Element.offsetHeight</code>一致。</p>
<p>这两个属性都是只读属性，只比<code>Element.clientHeight</code>和<code>Element.clientWidth</code>多了边框的高度或宽度。如果元素的 CSS 设为不可见（比如<code>display: none;</code>），则返回<code>0</code></p>
<h4 id="Element-offsetLeft，Element-offsetTop-定位父级左-上边界的间距"><a href="#Element-offsetLeft，Element-offsetTop-定位父级左-上边界的间距" class="headerlink" title="Element.offsetLeft，Element.offsetTop - 定位父级左&#x2F;上边界的间距"></a>Element.offsetLeft，Element.offsetTop - 定位父级左&#x2F;上边界的间距</h4><p><code>Element.offsetLeft</code>返回当前元素左上角相对于<code>Element.offsetParent</code>节点的水平位移，<code>Element.offsetTop</code>返回垂直位移，单位为像素。通常，这两个值是指相对于父节点的位移</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;parent&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;box&quot;</span> <span class="attr">id</span>=<span class="string">&quot;box&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.parent</span>&#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">200px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">200px</span>;</span><br><span class="line">    <span class="attribute">background</span>: red;</span><br><span class="line">    <span class="attribute">position</span>: relative;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">50px</span>;</span><br><span class="line">    <span class="attribute">top</span>: <span class="number">50px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.box</span>&#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">100px</span>;</span><br><span class="line">    <span class="attribute">background</span>: yellow;</span><br><span class="line">    <span class="attribute">position</span>: relative;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">50px</span>;</span><br><span class="line">    <span class="attribute">top</span>: <span class="number">50px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> box = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;box&quot;</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(box.<span class="property">offsetLeft</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(box.<span class="property">offsetTop</span>);</span><br></pre></td></tr></table></figure>

<h3 id="css操作"><a href="#css操作" class="headerlink" title="css操作"></a>css操作</h3><h4 id="HTML元素的style属性"><a href="#HTML元素的style属性" class="headerlink" title="HTML元素的style属性"></a>HTML元素的style属性</h4><p>操作css样式最简单的方法，就是使用网页元素节点的setAttribute方法直接操作网页元素的style属性</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">div.<span class="title function_">setAttribute</span>(<span class="string">&#x27;style&#x27;</span>,<span class="string">&#x27;background-color:red;&#x27;</span>+<span class="string">&#x27;border:1px solid black;&#x27;</span>);</span><br></pre></td></tr></table></figure>

<blockquote>
<p>两个参数，样式和属性。</p>
</blockquote>
<h4 id="元素节点的style属性"><a href="#元素节点的style属性" class="headerlink" title="元素节点的style属性"></a>元素节点的style属性</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> divStyle = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;div&#x27;</span>).<span class="property">style</span>;</span><br><span class="line">divStyle.<span class="property">backgroundColor</span> = <span class="string">&#x27;red&#x27;</span>;</span><br><span class="line">divStyle.<span class="property">border</span> = <span class="string">&#x27;1px solid black&#x27;</span>;</span><br><span class="line">divStyle.<span class="property">width</span> = <span class="string">&#x27;100px&#x27;</span>;</span><br><span class="line">divStyle.<span class="property">height</span> = <span class="string">&#x27;100px&#x27;</span>;</span><br><span class="line">divStyle.<span class="property">fontSize</span> = <span class="string">&#x27;10em&#x27;</span>;</span><br><span class="line"></span><br><span class="line">........</span><br><span class="line"><span class="keyword">var</span> divStyle = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;div&#x27;</span>);</span><br><span class="line">divStyle.<span class="property">style</span>.<span class="property">backgroundColor</span>= <span class="string">&#x27;red&#x27;</span>;</span><br></pre></td></tr></table></figure>

<h4 id="cssText属性"><a href="#cssText属性" class="headerlink" title="cssText属性"></a>cssText属性</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> divStyle = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;div&#x27;</span>).<span class="property">style</span>;</span><br><span class="line"></span><br><span class="line">divStyle.<span class="property">cssText</span> = <span class="string">&#x27;background-color: red;&#x27;</span></span><br><span class="line">  + <span class="string">&#x27;border: 1px solid black;&#x27;</span></span><br><span class="line">  + <span class="string">&#x27;height: 100px;&#x27;</span></span><br><span class="line">  + <span class="string">&#x27;width: 100px;&#x27;</span>;</span><br><span class="line"></span><br><span class="line">......</span><br><span class="line"><span class="keyword">var</span> divStyle = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;div&#x27;</span>);</span><br><span class="line">divStyle.<span class="property">style</span>.<span class="property">cssText</span>= <span class="string">&#x27;background-color: red;&#x27;</span></span><br><span class="line">  + <span class="string">&#x27;border: 1px solid black;&#x27;</span></span><br><span class="line">  + <span class="string">&#x27;height: 100px;&#x27;</span></span><br><span class="line">  + <span class="string">&#x27;width: 100px;&#x27;</span>;</span><br></pre></td></tr></table></figure>

<h3 id="事件处理程序"><a href="#事件处理程序" class="headerlink" title="事件处理程序"></a>事件处理程序</h3><p>事件处理程序分为：</p>
<ul>
<li>HTML事件处理</li>
<li>DOM0级事件处理</li>
<li>DOM2级事件处理</li>
</ul>
<h4 id="HTML事件"><a href="#HTML事件" class="headerlink" title="HTML事件"></a>HTML事件</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">title</span>&gt;</span>Js事件详解--事件处理<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;div&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">&quot;btn1&quot;</span> <span class="attr">onclick</span>=<span class="string">&quot;demo()&quot;</span>&gt;</span>按钮<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">function</span> <span class="title function_">demo</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="title function_">alert</span>(<span class="string">&quot;hello html事件处理&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span> </span><br></pre></td></tr></table></figure>

<blockquote>
<p>onclick代表点击事件。<br>缺点HTML和js没有分开。</p>
</blockquote>
<h4 id="DOM0级事件处理"><a href="#DOM0级事件处理" class="headerlink" title="DOM0级事件处理"></a>DOM0级事件处理</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;div&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">&quot;btn1&quot;</span>&gt;</span>按钮<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">var</span> btn1=<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;btn1&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">        btn1.<span class="property">onclick</span>=<span class="keyword">function</span>(<span class="params"></span>)&#123;<span class="title function_">alert</span>(<span class="string">&quot;Hello DOM0级事件处理程序1&quot;</span>);&#125;<span class="comment">//被覆盖掉</span></span></span><br><span class="line"><span class="language-javascript">        btn1.<span class="property">onclick</span>=<span class="keyword">function</span>(<span class="params"></span>)&#123;<span class="title function_">alert</span>(<span class="string">&quot;Hello DOM0级事件处理程序2&quot;</span>);&#125;</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>优点：HTML与js分开了。<br>缺点：无法同时添加事件。</p>
</blockquote>
<h4 id="DOM2级事件处理"><a href="#DOM2级事件处理" class="headerlink" title="DOM2级事件处理"></a>DOM2级事件处理</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;div&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">&quot;btn1&quot;</span>&gt;</span>按钮<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">var</span> btn1=<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;btn1&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">        btn1.<span class="title function_">addEventListener</span>(<span class="string">&quot;click&quot;</span>,demo1);</span></span><br><span class="line"><span class="language-javascript">        btn1.<span class="title function_">addEventListener</span>(<span class="string">&quot;click&quot;</span>,demo2);</span></span><br><span class="line"><span class="language-javascript">        btn1.<span class="title function_">addEventListener</span>(<span class="string">&quot;click&quot;</span>,demo3);</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">function</span> <span class="title function_">demo1</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="title function_">alert</span>(<span class="string">&quot;DOM2级事件处理程序1&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">function</span> <span class="title function_">demo2</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="title function_">alert</span>(<span class="string">&quot;DOM2级事件处理程序2&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">function</span> <span class="title function_">demo3</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="title function_">alert</span>(<span class="string">&quot;DOM2级事件处理程序3&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">        btn1.<span class="title function_">removeEventListener</span>(<span class="string">&quot;click&quot;</span>,demo2);</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>优点：不会被覆盖。<br>缺点：写起来麻烦。</p>
</blockquote>
<h3 id="事件类型"><a href="#事件类型" class="headerlink" title="事件类型"></a>事件类型</h3><h4 id="鼠标事件"><a href="#鼠标事件" class="headerlink" title="鼠标事件"></a>鼠标事件</h4><p>鼠标事件指与鼠标相关的事件，具体的事件主要有以下一些</p>
<ol>
<li>click：按下鼠标时触发</li>
<li>dblclick：在同一个元素上双击鼠标时触发</li>
<li>mousedown：按下鼠标键时触发</li>
<li>mouseup：释放按下的鼠标键时触发</li>
<li>mousemove：当鼠标在节点内部移动时触发。当鼠标持续移动时，该事件会连触发。</li>
<li>mouseenter：鼠标进入一个节点时触发，进入子节点不会触发这个事件</li>
<li>mouseleave：鼠标离开一个节点时触发，离开父节点不会触发这个事件</li>
<li>mouseover：鼠标进入一个节点时触发，进入子节点会再一次触发这个事件</li>
<li>mouseout：鼠标离开一个节点时触发，离开父节点也会触发这个事件</li>
<li>wheel：滚动鼠标的滚轮时触发</li>
</ol>
<p>例：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> btn1 = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;btn1&quot;</span>);</span><br><span class="line">btn1.<span class="property">onclick</span> = <span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;click事件&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>一般事件前都会加一个前缀on除了DOM2级事件。比如onclick(按下鼠标时触发)。</p>
</blockquote>
<h4 id="Event事件对象"><a href="#Event事件对象" class="headerlink" title="Event事件对象"></a>Event事件对象</h4><p>事件发生以后，会产生一个事件对象，作为参数传给监听函数。</p>
<p>Event对象属性：</p>
<ul>
<li>Event.Target</li>
<li>Event.type</li>
</ul>
<p>Event对象方法：</p>
<ul>
<li>Event.preventDefault()</li>
<li>Event.stopPropagation()</li>
</ul>
<h5 id="Event-Target-获取点击内容"><a href="#Event-Target-获取点击内容" class="headerlink" title="Event.Target - 获取点击内容"></a>Event.Target - 获取点击内容</h5><p>Event.Target属性返回事件当前所在的节点。</p>
<p>例:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// HTML代码为</span></span><br><span class="line"><span class="comment">// &lt;p id=&quot;para&quot;&gt;Hello&lt;/p&gt;</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">setColor</span>(<span class="params">event</span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span> === event.<span class="property">target</span>);</span><br><span class="line">  event.<span class="property">target</span>.<span class="property">style</span>.<span class="property">color</span> = <span class="string">&#x27;red&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">para.<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>, setColor);</span><br></pre></td></tr></table></figure>

<blockquote>
<p>默认有一个参数。</p>
</blockquote>
<h5 id="Event-type-获得事件类型"><a href="#Event-type-获得事件类型" class="headerlink" title="Event.type - 获得事件类型"></a>Event.type - 获得事件类型</h5><p>Event.type属性返回一个字符串，表示事件类型。事件的类型是在生成事件的时候。该属性只读</p>
<h5 id="Event-preventDefault-阻止默认行为"><a href="#Event-preventDefault-阻止默认行为" class="headerlink" title="Event.preventDefault - 阻止默认行为"></a>Event.preventDefault - 阻止默认行为</h5><p>Event.preventDefault方法取消浏览器对当前事件的默认行为。比如点击链接后，浏览器默认会跳转到另一个页面，使用这个方法以后，就不会跳转了</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">btn.<span class="property">onclick</span> = <span class="keyword">function</span>(<span class="params">e</span>)&#123;</span><br><span class="line">    e.<span class="title function_">preventDefault</span>(); <span class="comment">// 阻止默认事件</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;点击A标签&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="Event-stopPropagation-阻止事件冒泡"><a href="#Event-stopPropagation-阻止事件冒泡" class="headerlink" title="Event.stopPropagation() - 阻止事件冒泡"></a>Event.stopPropagation() - 阻止事件冒泡</h5><p>stopPropagation方法阻止事件在 DOM 中继续传播，防止再触发定义在别的节点上的监听函数，但是不包括在当前节点上其他的事件监听函数</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">btn.<span class="property">onclick</span> = <span class="keyword">function</span>(<span class="params">e</span>)&#123;</span><br><span class="line">    e.<span class="title function_">stopPropagation</span>(); <span class="comment">// 阻止事件冒泡</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;btn&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>事件冒泡是指当子元素触发后向上(父元素)传递，导致父元素也触发。</p>
</blockquote>
<h4 id="键盘事件"><a href="#键盘事件" class="headerlink" title="键盘事件"></a>键盘事件</h4><p>键盘事件主要有：</p>
<ul>
<li>keydown：按下键盘时触发。</li>
<li>keypress：按下有值的键时触发，即按下 Ctrl、Alt、Shift、Meta 这样无值的键，这个事件不会触发。对于有值的键，按下时先触发keydown事件，再触发这个事件。</li>
<li>keyup：松开键盘时触发该事件。</li>
</ul>
<p>例：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;input id=<span class="string">&quot;username&quot;</span>&gt;</span><br><span class="line">username.<span class="property">onkeypress</span> = <span class="keyword">function</span>(<span class="params">e</span>)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;keypress事件&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>e.target.value是获取输入框内的内容。<br>当鼠标点击输入框后先读取空，输入后再继续读取数据。<br>获取输入框内文件一般是用keyup属性。</p>
</blockquote>
<h5 id="keyCode-唯一标识"><a href="#keyCode-唯一标识" class="headerlink" title="keyCode - 唯一标识"></a>keyCode - 唯一标识</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> username = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;username&quot;</span>);</span><br><span class="line">username.<span class="property">onkeydown</span> = <span class="keyword">function</span>(<span class="params">e</span>)&#123;</span><br><span class="line">    <span class="keyword">if</span>(e.<span class="property">keyCode</span> === <span class="number">13</span>)&#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;回车&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="表单事件"><a href="#表单事件" class="headerlink" title="表单事件"></a>表单事件</h4><p>表单事件是在使用表单元素及输入框元素可以监听的一系列事件。</p>
<ol>
<li>input事件</li>
<li>select事件</li>
<li>Change事件</li>
<li>reset事件</li>
<li>submit事件</li>
</ol>
<h5 id="input事件"><a href="#input事件" class="headerlink" title="input事件"></a>input事件</h5><p>input事件当<code>&lt;input&gt;、&lt;select&gt;、&lt;textarea&gt;</code>的值发生变化时触发。对于复选框（<code>&lt;input type=checkbox&gt;</code>）或单选框（<code>&lt;input type=radio&gt;</code>），用户改变选项时，也会触发这个事件</p>
<p>input事件的一个特点，就是会连续触发，比如用户每按下一次按键，就会触发一次input事件。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> username = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;username&quot;</span>);</span><br><span class="line">username.<span class="property">oninput</span> = <span class="keyword">function</span>(<span class="params">e</span>)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(e.<span class="property">target</span>.<span class="property">value</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="select事件"><a href="#select事件" class="headerlink" title="select事件"></a>select事件</h5><p>select事件当在<code>&lt;input&gt;、&lt;textarea&gt;</code>里面选中文本时触发</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// HTML 代码如下</span></span><br><span class="line"><span class="comment">// &lt;input id=&quot;test&quot; type=&quot;text&quot; value=&quot;Select me!&quot; /&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> elem = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;test&#x27;</span>);</span><br><span class="line">elem.<span class="title function_">addEventListener</span>(<span class="string">&#x27;select&#x27;</span>, <span class="keyword">function</span> (<span class="params">e</span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(e.<span class="property">type</span>); <span class="comment">// &quot;select&quot;</span></span><br><span class="line">&#125;, <span class="literal">false</span>);</span><br></pre></td></tr></table></figure>

<h5 id="Change事件"><a href="#Change事件" class="headerlink" title="Change事件"></a>Change事件</h5><p>Change事件当<code>&lt;input&gt;、&lt;select&gt;、&lt;textarea&gt;</code>的值发生变化时触发。它与input事件的最大不同，就是不会连续触发，只有当全部修改完成时才会触发</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> email = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;email&quot;</span>);</span><br><span class="line">email.<span class="property">onchange</span> = <span class="keyword">function</span>(<span class="params">e</span>)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(e.<span class="property">target</span>.<span class="property">value</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>失去焦点或者回车后触发。</p>
</blockquote>
<h5 id="reset-事件，submit事件"><a href="#reset-事件，submit事件" class="headerlink" title="reset()事件，submit事件"></a>reset()事件，submit事件</h5><p><strong>这两个事件发生在表单对象<code>&lt;form&gt;</code>上，而不是发生在表单的成员上。</strong></p>
<p>reset事件当表单重置（所有表单成员变回默认值）时触发。</p>
<p>submit事件当表单数据向服务器提交时触发。注意，submit事件的发生对象是<code>&lt;form&gt;</code>元素，而不是<code>&lt;button&gt;</code>元素，因为提交的是表单，而不是按钮</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">id</span>=<span class="string">&quot;myForm&quot;</span> <span class="attr">onsubmit</span>=<span class="string">&quot;submitHandle&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">onclick</span>=<span class="string">&quot;resetHandle&quot;</span>&gt;</span>重置数据<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span>&gt;</span>提交<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> myForm = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;myForm&quot;</span>)</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">resetHandle</span>(<span class="params"></span>)&#123;</span><br><span class="line">    myForm.<span class="title function_">reset</span>();</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">submitHandle</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;提交&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>onsubmit写在form属性里。<br>要把表单文件提交给服务器，不仅需要onsubmit还需要input里设置name属性。</p>
</blockquote>
<h3 id="事件代理-事件委托"><a href="#事件代理-事件委托" class="headerlink" title="事件代理(事件委托)"></a>事件代理(事件委托)</h3><p>由于事件会在冒泡阶段向上传播到父节点，因此可以把子节点的监听函数定义在父节点上，由父节点的监听函数统一处理多个子元素的事件。这种方法叫做事件的代理（delegation）。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> ul = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;ul&#x27;</span>);</span><br><span class="line"></span><br><span class="line">ul.<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>, <span class="keyword">function</span> (<span class="params">event</span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (event.<span class="property">target</span>.<span class="property">tagName</span>.<span class="title function_">toLowerCase</span>() === <span class="string">&#x27;li&#x27;</span>) &#123;</span><br><span class="line">    <span class="comment">// some code</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<blockquote>
<p>e.target.tagName获取标签名。<br>event.target.tagName.toLowerCase()标签名转化为小写的。</p>
</blockquote>
<h3 id="定时器"><a href="#定时器" class="headerlink" title="定时器"></a>定时器</h3><p>JavaScript 提供定时执行代码的功能，叫做定时器（timer），主要由<code>setTimeout()</code>和<code>setInterval()</code>这两个函数来完成。它们向任务队列添加定时任务。</p>
<h4 id="setTimeout-指定时间执行任务"><a href="#setTimeout-指定时间执行任务" class="headerlink" title="setTimeout - 指定时间执行任务"></a>setTimeout - 指定时间执行任务</h4><p><code>setTimeout</code>函数用来指定某个函数或某段代码，在多少毫秒之后执行。它返回一个整数，表示定时器的编号，以后可以用来取消这个定时器。</p>
<p>语法：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> timerId = <span class="built_in">setTimeout</span>(func|code, delay);</span><br></pre></td></tr></table></figure>

<p><code>setTimeout</code>函数接受两个参数，第一个参数<code>func|code</code>是将要推迟执行的函数名或者一段代码，第二个参数<code>delay</code>是推迟执行的毫秒数</p>
<p>例：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">setTimeout</span>(<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;定时器&quot;</span>)</span><br><span class="line">&#125;,<span class="number">1000</span>)</span><br></pre></td></tr></table></figure>

<blockquote>
<p>还有一个需要注意的地方，如果回调函数是对象的方法，那么<code>setTimeout</code>使得方法内部的<code>this</code>关键字指向全局环境，而不是定义时所在的那个对象。</p>
</blockquote>
<p>定时器可以进行取消的。</p>
<p>例：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> id = <span class="built_in">setTimeout</span>(f, <span class="number">1000</span>);</span><br><span class="line"><span class="built_in">clearTimeout</span>(id);</span><br></pre></td></tr></table></figure>

<blockquote>
<p>在setTimeout第一个参数中函数不用写括号，要是写括号就直接执行了，如果要使用有参数的函数，可以直接在setTimeout里创建(亲测)。</p>
</blockquote>
<h4 id="setInterval-无限执行的定时器"><a href="#setInterval-无限执行的定时器" class="headerlink" title="setInterval() - 无限执行的定时器"></a>setInterval() - 无限执行的定时器</h4><p><code>setInterval</code>函数的用法与<code>setTimeout</code>完全一致，区别仅仅在于<code>setInterval</code>指定某个任务每隔一段时间就执行一次，也就是无限次的定时执行。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> timer = <span class="built_in">setInterval</span>(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">2</span>);</span><br><span class="line">&#125;, <span class="number">1000</span>)</span><br></pre></td></tr></table></figure>

<p>定时器进行取消：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> id = <span class="built_in">setInterval</span>(f, <span class="number">1000</span>);</span><br><span class="line"><span class="built_in">clearInterval</span>(id);</span><br></pre></td></tr></table></figure>

<h3 id="防抖"><a href="#防抖" class="headerlink" title="防抖"></a>防抖</h3><p>防抖严格算起来应该属于性能优化的知识，但实际上遇到的频率相当高，处理不当或者放任不管就容易引起浏览器卡死。</p>
<p>防抖定义：</p>
<p>对于短时间内连续触发的事件（上面的滚动事件），防抖的含义就是让某个时间期限（如上面的1000毫秒）内，事件处理函数只执行一次</p>
<p>从滚动条监听的例子：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">showTop</span>  (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> scrollTop = <span class="variable language_">document</span>.<span class="property">documentElement</span>.<span class="property">scrollTop</span>;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;滚动条位置：&#x27;</span> + scrollTop);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//滚动事件- 当页面侧边栏滚动时触发的事件</span></span><br><span class="line"><span class="variable language_">window</span>.<span class="property">onscroll</span>  = showTop</span><br></pre></td></tr></table></figure>

<p>面对触发次数过多的情况，可以在第一次触发事件时，不立即执行函数，而是给出一个期限值比如200ms，然后</p>
<ol>
<li>如果在200ms内没有再次触发滚动事件，那么就执行函数</li>
<li>如果在200ms内再次触发滚动事件，那么当前的计时取消，重新开始计时</li>
</ol>
<p>效果：如果短时间内大量触发同一事件，只会执行一次函数</p>
<p>实现：既然前面都提到了计时，那实现的关键就在于setTimeout这个函数，由于还需要一个变量来保存计时，考虑维护全局纯净，可以借助闭包来实现。</p>
<p>例：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">debounce</span>(<span class="params">fn,delay</span>)&#123;</span><br><span class="line">    <span class="keyword">var</span> timer = <span class="literal">null</span> <span class="comment">//借助闭包</span></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">if</span>(timer)&#123;</span><br><span class="line">            <span class="built_in">clearTimeout</span>(timer) </span><br><span class="line">        &#125;</span><br><span class="line">        timer = <span class="built_in">setTimeout</span>(fn,delay) <span class="comment">// 简化写法</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 然后是旧代码</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">showTop</span>  (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> scrollTop = <span class="variable language_">document</span>.<span class="property">documentElement</span>.<span class="property">scrollTop</span>;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;滚动条位置：&#x27;</span> + scrollTop);</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">window</span>.<span class="property">onscroll</span> = <span class="title function_">debounce</span>(showTop,<span class="number">300</span>)</span><br></pre></td></tr></table></figure>

<h3 id="节流"><a href="#节流" class="headerlink" title="节流"></a>节流</h3><p>节流严格算起来应该属于性能优化的知识，但实际上遇到的频率很高，处理不当或者放任不管就容易引起浏览器卡死。</p>
<p>在一直触发事件时，在规定时间内固定触发事件。</p>
<p>例：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">throttle</span>(<span class="params">fn,delay</span>)&#123;</span><br><span class="line">    <span class="keyword">var</span> valid = <span class="literal">true</span></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">       <span class="keyword">if</span>(!valid)&#123;</span><br><span class="line">           <span class="comment">//休息时间 暂不接客</span></span><br><span class="line">           <span class="keyword">return</span> <span class="literal">false</span> </span><br><span class="line">       &#125;</span><br><span class="line">       <span class="comment">// 工作时间，执行函数并且在间隔期内把状态位设为无效</span></span><br><span class="line">        valid = <span class="literal">false</span></span><br><span class="line">        <span class="built_in">setTimeout</span>(<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">            <span class="title function_">fn</span>()</span><br><span class="line">            valid = <span class="literal">true</span>;</span><br><span class="line">        &#125;, delay)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">showTop</span>  (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> scrollTop = <span class="variable language_">document</span>.<span class="property">documentElement</span>.<span class="property">scrollTop</span>;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;滚动条位置：&#x27;</span> + scrollTop);</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">window</span>.<span class="property">onscroll</span> = <span class="title function_">throttle</span>(showTop,<span class="number">300</span>) </span><br></pre></td></tr></table></figure>

<p>应用场景:</p>
<ol>
<li>搜索框input事件，例如要支持输入实时搜索可以使用节流方案（间隔一段时间就必须查询相关内容），或者实现输入间隔大于某个值（如500ms），就当做用户输入完成，然后开始搜索，具体使用哪种方案要看业务需求</li>
<li>页面resize事件，常见于需要做页面适配的时候。需要根据最终呈现的页面情况进行dom渲染（这种情形一般是使用防抖，因为只需要判断最后一次的变化情况）</li>
</ol>
<h2 id="ES6"><a href="#ES6" class="headerlink" title="ES6"></a>ES6</h2><h3 id="命令行工具"><a href="#命令行工具" class="headerlink" title="命令行工具"></a>命令行工具</h3><h4 id="CMD命令行"><a href="#CMD命令行" class="headerlink" title="CMD命令行"></a>CMD命令行</h4><ol>
<li>打开命令行窗口<ol>
<li>win：左下角开始，找到运行，点击，输入<code>cmd</code>，回车</li>
<li>win：<code>win+r</code> 快速打开命令行窗口</li>
<li>mac：command + 空格，输入<code>terminal</code></li>
</ol>
</li>
<li>选择盘符：盘符名加冒号<code>E:</code></li>
<li>查看盘符及目录下文件与文件夹：<code>win:dir   mac:ls</code></li>
<li>清空命令行信息：<code>win:cls  mac:clear</code></li>
<li>进入文件夹或目录：<code>cd  文件夹名称</code></li>
<li>返回到上一级目录：<code>cd ../</code></li>
<li>快速补全目录或文件夹名称：<code>tab</code></li>
<li>创建文件夹：<code>mkdir 文件夹名称</code></li>
<li>查看历史输入过的命令：上下按键</li>
</ol>
<h4 id="PowerShell"><a href="#PowerShell" class="headerlink" title="PowerShell"></a>PowerShell</h4><ol>
<li>打开方式<ol>
<li>在开始位置搜索<code>PowerShell</code>打开</li>
<li>在对应目录按住<code>shift</code>+右键，打开</li>
</ol>
</li>
<li>其他保持一致</li>
</ol>
<h3 id="ES6简介"><a href="#ES6简介" class="headerlink" title="ES6简介"></a>ES6简介</h3><h4 id="ECMAScript-和-JavaScript-的关系"><a href="#ECMAScript-和-JavaScript-的关系" class="headerlink" title="ECMAScript 和 JavaScript 的关系"></a>ECMAScript 和 JavaScript 的关系</h4><p>ECMAScript 和 JavaScript 的关系是，前者是后者的规格，后者是前者的一种实现，常场合，这两个词是可以互换的。</p>
<h4 id="名称详解"><a href="#名称详解" class="headerlink" title="名称详解"></a>名称详解</h4><p>ECMAScript 6（以下简称 ES6）是 JavaScript 语言的标准，在 2015 年 6 月发布。它的目标，是使得 JavaScript 语言可以用来编写复杂的大型应用程序，成为企业级开发语言。</p>
<table>
<thead>
<tr>
<th>版本</th>
<th>官方名称</th>
<th><strong>发布日期</strong></th>
</tr>
</thead>
<tbody><tr>
<td>ES1</td>
<td>ECMAScript 1</td>
<td>1997</td>
</tr>
<tr>
<td>ES2</td>
<td>ECMAScript 2</td>
<td>1998</td>
</tr>
<tr>
<td>ES3</td>
<td>ECMAScript 3</td>
<td>1999</td>
</tr>
<tr>
<td>ES4</td>
<td>ECMAScript 4</td>
<td>从未发布过</td>
</tr>
<tr>
<td>ES5</td>
<td>ECMAScript 5</td>
<td>2009</td>
</tr>
<tr>
<td>ES5.1</td>
<td>ECMAScript 5.1</td>
<td>2011</td>
</tr>
<tr>
<td><strong>ES6</strong></td>
<td><strong>ECMAScript 2015（ECMAScript 6）</strong></td>
<td><strong>2015</strong></td>
</tr>
<tr>
<td>ES7</td>
<td>ECMAScript 2016</td>
<td>2016</td>
</tr>
<tr>
<td>ES8</td>
<td>ECMAScript 2017</td>
<td>2017</td>
</tr>
<tr>
<td>…</td>
<td>…</td>
<td>…</td>
</tr>
</tbody></table>
<p>因此，ES6 既是一个历史名词，也是一个泛指，含义是 5.1 版以后的 JavaScript 的下一代标准，涵盖了 ES2015、ES2016、ES2017 等等</p>
<h4 id="语法提案的批准流程"><a href="#语法提案的批准流程" class="headerlink" title="语法提案的批准流程"></a>语法提案的批准流程</h4><p>任何人都可以向标准委员会（又称 TC39 委员会）提案，要求修改语言标准。</p>
<p>一种新的语法从提案到变成正式标准，需要经历五个阶段。每个阶段的变动都需要由 TC39 委员会批准。</p>
<ul>
<li>Stage 0 - Strawman（展示阶段）</li>
<li>Stage 1 - Proposal（征求意见阶段）</li>
<li>Stage 2 - Draft（草案阶段）</li>
<li>Stage 3 - Candidate（候选人阶段）</li>
<li>Stage 4 - Finished（定案阶段）</li>
</ul>
<p>一个提案只要能进入 Stage 2，就差不多肯定会包括在以后的正式标准里面。ECMAScript 当前的所有提案，可以在 TC39 的官方网站<a target="_blank" rel="noopener" href="https://github.com/tc39/ecma262">GitHub.com&#x2F;tc39&#x2F;ecma262</a>查看。</p>
<h4 id="ES6带来的新特性"><a href="#ES6带来的新特性" class="headerlink" title="ES6带来的新特性"></a>ES6带来的新特性</h4><ol>
<li><code>let</code> 和 <code>const</code> 命令</li>
<li>变量的解构赋值</li>
<li>字符串扩展</li>
<li>函数扩展</li>
<li>对象扩展</li>
<li>数组扩展</li>
<li>运算符扩展</li>
<li>Promise对象</li>
<li>Class</li>
<li>Class 继承</li>
<li>…</li>
</ol>
<h3 id="Nodejs安装"><a href="#Nodejs安装" class="headerlink" title="Nodejs安装"></a>Nodejs安装</h3><p><strong>Nodejs官网</strong> <a target="_blank" rel="noopener" href="https://nodejs.org/en/">https://nodejs.org/en/</a></p>
<p>Nodejs的安装与一般软件一样</p>
<h4 id="大量的库"><a href="#大量的库" class="headerlink" title="大量的库"></a>大量的库</h4><p>在安装<code>Nodejs</code>的同时，会附带一个<code>npm</code>命令，<code>npm</code> 是Node的包管理工具，这样正是接下来我们要用到的</p>
<p>npm 的简单结构有助于 Node.js 生态系统的激增，现在 npm 仓库托管了超过 1,000,000 个可以自由使用的开源库包</p>
<h4 id="npm镜像"><a href="#npm镜像" class="headerlink" title="npm镜像"></a><code>npm</code>镜像</h4><p>由于服务器在国外，所以下载速度比较慢，我们可以用国内的镜像</p>
<p><strong>阿里镜像地址</strong><a target="_blank" rel="noopener" href="https://npmmirror.com/">https://npmmirror.com/</a></p>
<p>在命令行运行如下命令即可</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -g cnpm --registry=https://registry.npmmirror.com</span><br></pre></td></tr></table></figure>

<h3 id="Babel转码器"><a href="#Babel转码器" class="headerlink" title="Babel转码器"></a>Babel转码器</h3><p>Babel 是一个广泛使用的 ES6 转码器，可以将 ES6 代码转为 ES5 代码，从而在老版本的浏览器执行。这意味着，你可以用 ES6 的方式编写程序，又不用担心现有环境是否支持</p>
<p><strong>浏览器支持性查看</strong><a target="_blank" rel="noopener" href="https://caniuse.com/">https://caniuse.com/</a></p>
<p><strong>Babel官网</strong><a target="_blank" rel="noopener" href="https://babeljs.io/">https://babeljs.io/</a></p>
<h4 id="转码示例"><a href="#转码示例" class="headerlink" title="转码示例"></a>转码示例</h4><p>原始代码用了箭头函数，Babel 将其转为普通函数，就能在不支持箭头函数的 JavaScript 环境执行了</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 转码前</span></span><br><span class="line">input.<span class="title function_">map</span>(<span class="function"><span class="params">item</span> =&gt;</span> item + <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 转码后</span></span><br><span class="line">input.<span class="title function_">map</span>(<span class="keyword">function</span> (<span class="params">item</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> item + <span class="number">1</span>;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h4 id="Babel安装流程"><a href="#Babel安装流程" class="headerlink" title="Babel安装流程"></a>Babel安装流程</h4><h5 id="第一步：安装-Babel"><a href="#第一步：安装-Babel" class="headerlink" title="第一步：安装 Babel"></a>第一步：安装 Babel</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save-dev @babel/core</span><br></pre></td></tr></table></figure>

<h5 id="第二步：配置文件-babelrc"><a href="#第二步：配置文件-babelrc" class="headerlink" title="第二步：配置文件.babelrc"></a>第二步：配置文件<code>.babelrc</code></h5><p>Babel 的配置文件是.babelrc，存放在项目的根目录下。使用 Babel 的第一步，就是配置这个文件。</p>
<p>该文件用来设置转码规则和插件，基本格式如下</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;presets&quot;</span>: [],</span><br><span class="line">  <span class="string">&quot;plugins&quot;</span>: []</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="第三步：转码规则"><a href="#第三步：转码规则" class="headerlink" title="第三步：转码规则"></a>第三步：转码规则</h5><p>presets字段设定转码规则，官方提供以下的规则集，你可以根据需要安装</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save-dev @babel/preset-env</span><br></pre></td></tr></table></figure>

<h5 id="第四步：将规则加入-babelrc"><a href="#第四步：将规则加入-babelrc" class="headerlink" title="第四步：将规则加入.babelrc"></a>第四步：将规则加入<code>.babelrc</code></h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="string">&quot;presets&quot;</span>: [</span><br><span class="line">      <span class="string">&quot;@babel/env&quot;</span></span><br><span class="line">    ],</span><br><span class="line">    <span class="string">&quot;plugins&quot;</span>: []</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="Babel命令行转码"><a href="#Babel命令行转码" class="headerlink" title="Babel命令行转码"></a>Babel命令行转码</h4><p>Babel 提供命令行工具<code>@babel/cli</code>，用于命令行转码</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save-dev @babel/cli</span><br></pre></td></tr></table></figure>

<p>基本用法如下</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"># 转码结果输出到标准输出</span><br><span class="line">$ npx babel example.<span class="property">js</span></span><br><span class="line"></span><br><span class="line"># 转码结果写入一个文件</span><br><span class="line"># --out-file 或 -o 参数指定输出文件</span><br><span class="line">$ npx babel example.<span class="property">js</span> --out-file compiled.<span class="property">js</span></span><br><span class="line"># 或者</span><br><span class="line">$ npx babel example.<span class="property">js</span> -o compiled.<span class="property">js</span></span><br><span class="line"></span><br><span class="line"># 整个目录转码</span><br><span class="line"># --out-dir 或 -d 参数指定输出目录</span><br><span class="line">$ npx babel src --out-dir lib</span><br><span class="line"># 或者</span><br><span class="line">$ npx babel src -d lib</span><br></pre></td></tr></table></figure>

<h3 id="let命令"><a href="#let命令" class="headerlink" title="let命令"></a>let命令</h3><p>es6新增命令，用来声明变量。他的用法类似于var，但是所声明的变量，只在let命令所在的代码块内有效。</p>
<p>var与let的不同：</p>
<ul>
<li>var关键字是函数级作用域</li>
<li>let是块级作用域</li>
<li>let不能变量提升</li>
<li>let不能重复声明</li>
</ul>
<h3 id="Const命令"><a href="#Const命令" class="headerlink" title="Const命令"></a>Const命令</h3><p>const常量：</p>
<ul>
<li>声明后不允许改变</li>
<li>const不允许重新赋值</li>
<li>const必须初始化</li>
<li>const是块级作用域</li>
<li>const不存在变量提升</li>
<li>const不能重复声明(类型不同，名字相同)</li>
</ul>
<h3 id="对象解构赋值"><a href="#对象解构赋值" class="headerlink" title="对象解构赋值"></a>对象解构赋值</h3><p>解构可以用于对象</p>
<p>语法：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123;name,age&#125; = &#123;<span class="attr">name</span>:<span class="string">&quot;iwen&quot;</span>,<span class="attr">age</span>:<span class="number">20</span>&#125;;</span><br></pre></td></tr></table></figure>

<p>对象的属性没有次序，变量必须与属性同名，才能取到正确的值</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123;age,name&#125; = &#123;<span class="attr">name</span>:<span class="string">&quot;iwen&quot;</span>,<span class="attr">age</span>:<span class="number">20</span>&#125;;</span><br><span class="line">age <span class="comment">// 20</span></span><br></pre></td></tr></table></figure>

<p>对象的解构赋值，可以很方便地将现有对象的方法，赋值到某个变量</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123; random,floor &#125; = <span class="title class_">Math</span>;</span><br><span class="line"><span class="keyword">const</span> &#123; log &#125; = <span class="variable language_">console</span>;</span><br><span class="line"><span class="title function_">log</span>(<span class="title function_">floor</span>());</span><br></pre></td></tr></table></figure>

<p>注意事项，如果要将一个已经声明的变量用于解构赋值，必须非常小心</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> hello = <span class="string">&quot;Hello&quot;</span>;</span><br><span class="line"><span class="keyword">const</span> &#123; hello &#125; = &#123;<span class="attr">hello</span>:<span class="string">&quot;hello&quot;</span>&#125;; <span class="comment">// 报错</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> hello = <span class="string">&quot;Hello&quot;</span>;</span><br><span class="line">(&#123; hello &#125; = &#123;<span class="attr">hello</span>:<span class="string">&quot;hello&quot;</span>&#125;); <span class="comment">// 正确 - 尽量不用</span></span><br></pre></td></tr></table></figure>

<h3 id="字符串扩展"><a href="#字符串扩展" class="headerlink" title="字符串扩展"></a>字符串扩展</h3><h4 id="字符串Unicode-表示法"><a href="#字符串Unicode-表示法" class="headerlink" title="字符串Unicode 表示法"></a>字符串Unicode 表示法</h4><p>ES6 加强了对 Unicode 的支持，允许采用<code>\uxxxx</code>形式表示一个字符，其中<code>xxxx</code>表示字符的 Unicode 码点。</p>
<h4 id="Unicode"><a href="#Unicode" class="headerlink" title="Unicode"></a>Unicode</h4><p>统一码（Unicode），也叫万国码、单一码，是计算机科学领域里的一项业界标准，包括字符集、编码方案等。Unicode是为了解决传统的字符编码方案的局限而产生的，它为每种语言中的每个字符设定了统一并且唯一的二进制编码，以满足跨语言、跨平台进行文本转换、处理的要求。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;\u0061&quot;</span></span><br><span class="line"><span class="comment">// &quot;a&quot;</span></span><br></pre></td></tr></table></figure>

<h4 id="字符串遍历器接口"><a href="#字符串遍历器接口" class="headerlink" title="字符串遍历器接口"></a>字符串遍历器接口</h4><p><code>for...of</code>循环遍历</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i <span class="keyword">of</span> <span class="string">&#x27;itbaizhan&#x27;</span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(i);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="模板字符串"><a href="#模板字符串" class="headerlink" title="模板字符串"></a>模板字符串</h3><p>模板字符串（template string）是增强版的字符串，用反引号（&#96;）标识。它可以当作普通字符串使用，也可以用来定义多行字符串，或者在字符串中嵌入变量。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> url = <span class="string">&quot;www.itbaizhan.com&quot;</span></span><br><span class="line"><span class="keyword">let</span> h1 = <span class="string">&quot;&lt;a href=&#x27;&quot;</span>+ url +<span class="string">&quot;&#x27;&gt;itbaizhan&lt;/a&gt;&quot;</span></span><br><span class="line"><span class="keyword">let</span> h2 = <span class="string">`&lt;a href=&#x27;<span class="subst">$&#123;url&#125;</span>&#x27;&gt;itbaizhan&lt;/a&gt;`</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>${url}表示变量的意思</p>
</blockquote>
<h3 id="字符串新增方法"><a href="#字符串新增方法" class="headerlink" title="字符串新增方法"></a>字符串新增方法</h3><h4 id="includes-startsWith-endsWith-查找字符串"><a href="#includes-startsWith-endsWith-查找字符串" class="headerlink" title="includes(), startsWith(), endsWith() - 查找字符串"></a>includes(), startsWith(), endsWith() - 查找字符串</h4><p>传统上，JavaScript 只有<code>indexOf</code>方法，可以用来确定一个字符串是否包含在另一个字符串中。ES6 又提供了三种新方法。</p>
<ol>
<li><strong>includes()</strong>：返回布尔值，表示是否找到了参数字符串</li>
<li><strong>startsWith()</strong>：返回布尔值，表示参数字符串是否在原字符串的头部</li>
<li><strong>endsWith()</strong>：返回布尔值，表示参数字符串是否在原字符串的尾部</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> s = <span class="string">&#x27;Hello world!&#x27;</span>;</span><br><span class="line"></span><br><span class="line">s.<span class="title function_">startsWith</span>(<span class="string">&#x27;Hello&#x27;</span>) <span class="comment">// true</span></span><br><span class="line">s.<span class="title function_">endsWith</span>(<span class="string">&#x27;!&#x27;</span>) <span class="comment">// true</span></span><br><span class="line">s.<span class="title function_">includes</span>(<span class="string">&#x27;o&#x27;</span>) <span class="comment">// true</span></span><br></pre></td></tr></table></figure>

<p>这三个方法都支持第二个参数，表示开始搜索的位置</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> s = <span class="string">&#x27;Hello world!&#x27;</span>;</span><br><span class="line"></span><br><span class="line">s.<span class="title function_">startsWith</span>(<span class="string">&#x27;world&#x27;</span>, <span class="number">6</span>) <span class="comment">// true</span></span><br><span class="line">s.<span class="title function_">endsWith</span>(<span class="string">&#x27;Hello&#x27;</span>, <span class="number">5</span>) <span class="comment">// true</span></span><br><span class="line">s.<span class="title function_">includes</span>(<span class="string">&#x27;Hello&#x27;</span>, <span class="number">6</span>) <span class="comment">// false</span></span><br></pre></td></tr></table></figure>

<h4 id="repeat-将原字符串重复n次"><a href="#repeat-将原字符串重复n次" class="headerlink" title="repeat() - 将原字符串重复n次"></a>repeat() - 将原字符串重复n次</h4><p><code>repeat</code>方法返回一个新字符串，表示将原字符串重复<code>n</code>次。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#x27;x&#x27;</span>.<span class="title function_">repeat</span>(<span class="number">3</span>) <span class="comment">// &quot;xxx&quot;</span></span><br><span class="line"><span class="string">&#x27;hello&#x27;</span>.<span class="title function_">repeat</span>(<span class="number">2</span>) <span class="comment">// &quot;hellohello&quot;</span></span><br><span class="line"><span class="string">&#x27;na&#x27;</span>.<span class="title function_">repeat</span>(<span class="number">0</span>) <span class="comment">// &quot;&quot;</span></span><br></pre></td></tr></table></figure>

<h4 id="padStart-，padEnd-长度补全"><a href="#padStart-，padEnd-长度补全" class="headerlink" title="padStart()，padEnd() - 长度补全"></a>padStart()，padEnd() - 长度补全</h4><p>ES2017 引入了字符串补全长度的功能。如果某个字符串不够指定长度，会在头部或尾部补全。<code>padStart()</code>用于头部补全，<code>padEnd()</code>用于尾部补全。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#x27;x&#x27;</span>.<span class="title function_">padStart</span>(<span class="number">5</span>, <span class="string">&#x27;ab&#x27;</span>) <span class="comment">// &#x27;ababx&#x27;</span></span><br><span class="line"><span class="string">&#x27;x&#x27;</span>.<span class="title function_">padStart</span>(<span class="number">4</span>, <span class="string">&#x27;ab&#x27;</span>) <span class="comment">// &#x27;abax&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;x&#x27;</span>.<span class="title function_">padEnd</span>(<span class="number">5</span>, <span class="string">&#x27;ab&#x27;</span>) <span class="comment">// &#x27;xabab&#x27;</span></span><br><span class="line"><span class="string">&#x27;x&#x27;</span>.<span class="title function_">padEnd</span>(<span class="number">4</span>, <span class="string">&#x27;ab&#x27;</span>) <span class="comment">// &#x27;xaba&#x27;</span></span><br></pre></td></tr></table></figure>

<h4 id="trimStart-，trimEnd-去掉空格"><a href="#trimStart-，trimEnd-去掉空格" class="headerlink" title="trimStart()，trimEnd() - 去掉空格"></a>trimStart()，trimEnd() - 去掉空格</h4><p>ES2019对字符串实例新增了<code>trimStart()</code>和<code>trimEnd()</code>这两个方法。它们的行为与<code>trim()</code>一致，<code>trimStart()</code>消除字符串头部的空格，<code>trimEnd()</code>消除尾部的空格。它们返回的都是新字符串，不会修改原始字符串。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> s = <span class="string">&#x27;  itbaizhan  &#x27;</span>;</span><br><span class="line"></span><br><span class="line">s.<span class="title function_">trim</span>() <span class="comment">// &quot;itbaizhan&quot;</span></span><br><span class="line">s.<span class="title function_">trimStart</span>() <span class="comment">// &quot;itbaizhan  &quot;</span></span><br><span class="line">s.<span class="title function_">trimEnd</span>() <span class="comment">// &quot;  itbaizhan&quot;</span></span><br></pre></td></tr></table></figure>

<h4 id="at-返回指定位置字符"><a href="#at-返回指定位置字符" class="headerlink" title="at() - 返回指定位置字符"></a>at() - 返回指定位置字符</h4><p><code>at()</code>方法接受一个整数作为参数，返回参数指定位置的字符，支持负索引（即倒数的位置）。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> str = <span class="string">&#x27;hello&#x27;</span>;</span><br><span class="line">str.<span class="title function_">at</span>(<span class="number">1</span>) <span class="comment">// &quot;e&quot;</span></span><br><span class="line">str.<span class="title function_">at</span>(-<span class="number">1</span>) <span class="comment">// &quot;o&quot;</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>如果参数位置超出了字符串范围，<code>at()</code>返回<code>undefined</code></p>
</blockquote>
<h3 id="数组扩展"><a href="#数组扩展" class="headerlink" title="数组扩展"></a>数组扩展</h3><h4 id="扩展运算符"><a href="#扩展运算符" class="headerlink" title="扩展运算符"></a>扩展运算符</h4><p>扩展运算符（spread）是三个点（<code>...</code>）。将一个数组转为用逗号分隔的参数序列</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(...[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>])<span class="comment">//arr=[1, 2, 3];-&gt;console.log(...arr)</span></span><br><span class="line"><span class="comment">// 1 2 3</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">1</span>, ...[<span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>], <span class="number">5</span>)</span><br><span class="line"><span class="comment">// 1 2 3 4 5</span></span><br></pre></td></tr></table></figure>

<p>替代函数的 apply 方法</p>
<p>由于扩展运算符可以展开数组，所以不再需要<code>apply</code>方法，将数组转为函数的参数了。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ES5 的写法</span></span><br><span class="line"><span class="title class_">Math</span>.<span class="property">max</span>.<span class="title function_">apply</span>(<span class="literal">null</span>, [<span class="number">14</span>, <span class="number">3</span>, <span class="number">77</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment">// ES6 的写法</span></span><br><span class="line"><span class="title class_">Math</span>.<span class="title function_">max</span>(...[<span class="number">14</span>, <span class="number">3</span>, <span class="number">77</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment">// 等同于</span></span><br><span class="line"><span class="title class_">Math</span>.<span class="title function_">max</span>(<span class="number">14</span>, <span class="number">3</span>, <span class="number">77</span>);</span><br></pre></td></tr></table></figure>

<p>合并数组</p>
<p>扩展运算符提供了数组合并的新写法</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arr1 = [<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>];</span><br><span class="line"><span class="keyword">const</span> arr2 = [<span class="string">&#x27;c&#x27;</span>];</span><br><span class="line"><span class="keyword">const</span> arr3 = [<span class="string">&#x27;d&#x27;</span>, <span class="string">&#x27;e&#x27;</span>];</span><br><span class="line"></span><br><span class="line"><span class="comment">// ES5 的合并数组</span></span><br><span class="line">arr1.<span class="title function_">concat</span>(arr2, arr3);</span><br><span class="line"><span class="comment">// [ &#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;, &#x27;d&#x27;, &#x27;e&#x27; ]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ES6 的合并数组</span></span><br><span class="line">[...arr1, ...arr2, ...arr3]</span><br><span class="line"><span class="comment">// [ &#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;, &#x27;d&#x27;, &#x27;e&#x27; ]</span></span><br></pre></td></tr></table></figure>

<h4 id="新增方法"><a href="#新增方法" class="headerlink" title="新增方法"></a>新增方法</h4><h4 id="Array-from-将类数组转化为数组"><a href="#Array-from-将类数组转化为数组" class="headerlink" title="Array.from() - 将类数组转化为数组"></a>Array.from() - 将类数组转化为数组</h4><p><code>Array.from</code>方法用于将类数组转为真正的数组</p>
<p>常见的类数组有三类：</p>
<ol>
<li>arguments</li>
<li>元素集合</li>
<li>类似数组的对象</li>
</ol>
<h5 id="arguments-类数组"><a href="#arguments-类数组" class="headerlink" title="arguments - 类数组"></a>arguments - 类数组</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">add</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="keyword">let</span> collect = <span class="title class_">Array</span>.<span class="title function_">from</span>(<span class="variable language_">arguments</span>);</span><br><span class="line">    collect.<span class="title function_">push</span>(<span class="number">40</span>);</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(collect);</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">add</span>(<span class="number">10</span>,<span class="number">20</span>,<span class="number">30</span>)</span><br></pre></td></tr></table></figure>

<blockquote>
<p>原本add函数是没有参数的，但是传进去参数了可以用argument获得。<br>类数组，伪数组，只能使用数组的读取方式和length属性，不能使用数组方法。</p>
</blockquote>
<h5 id="元素集合-HTML元素集合"><a href="#元素集合-HTML元素集合" class="headerlink" title="元素集合 - HTML元素集合"></a>元素集合 - HTML元素集合</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> divs = <span class="variable language_">document</span>.<span class="title function_">querySelectorAll</span>(<span class="string">&#x27;div&#x27;</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Array</span>.<span class="title function_">from</span>(divs));</span><br></pre></td></tr></table></figure>

<h5 id="类似数组的对象-看起来像数组，实则是对象"><a href="#类似数组的对象-看起来像数组，实则是对象" class="headerlink" title="类似数组的对象 - 看起来像数组，实则是对象"></a>类似数组的对象 - 看起来像数组，实则是对象</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arrayLike = &#123;</span><br><span class="line">    <span class="string">&#x27;0&#x27;</span>: <span class="string">&#x27;a&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;1&#x27;</span>: <span class="string">&#x27;b&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;2&#x27;</span>: <span class="string">&#x27;c&#x27;</span>,</span><br><span class="line">    <span class="attr">length</span>: <span class="number">3</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">let</span> arr = <span class="title class_">Array</span>.<span class="title function_">from</span>(arrayLike);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr);</span><br></pre></td></tr></table></figure>

<h5 id="Array-of-将一组值转化为数组"><a href="#Array-of-将一组值转化为数组" class="headerlink" title="Array.of() - 将一组值转化为数组"></a>Array.of() - 将一组值转化为数组</h5><p><code>Array.of()</code>方法用于将一组值，转换为数组</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Array</span>.<span class="title function_">of</span>(<span class="number">3</span>, <span class="number">11</span>, <span class="number">8</span>) <span class="comment">// [3,11,8]</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>Array(3)是开辟了三个数组空间，并非是把三放进数组内。</p>
</blockquote>
<h3 id="对象的扩展"><a href="#对象的扩展" class="headerlink" title="对象的扩展"></a>对象的扩展</h3><h4 id="属性的简洁表示法"><a href="#属性的简洁表示法" class="headerlink" title="属性的简洁表示法"></a>属性的简洁表示法</h4><p>ES6 允许在大括号里面，直接写入变量和函数，作为对象的属性和方法。这样的书写更加简洁。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">//属性名与变量名相同，即可省略。</span></span><br><span class="line"><span class="keyword">let</span> name = <span class="string">&quot;iwen&quot;</span></span><br><span class="line"><span class="keyword">const</span> user = &#123;</span><br><span class="line">    name,</span><br><span class="line">    <span class="attr">age</span>:<span class="number">20</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>除了属性简写，方法也可以简写</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> o = &#123;</span><br><span class="line">  <span class="title function_">method</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;Hello!&quot;</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 等同于</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> o = &#123;</span><br><span class="line">  <span class="attr">method</span>: <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;Hello!&quot;</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>这种写法用于函数的返回值，将会非常方便</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">getPoint</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> x = <span class="number">1</span>;</span><br><span class="line">  <span class="keyword">const</span> y = <span class="number">10</span>;</span><br><span class="line">  <span class="keyword">return</span> &#123;x, y&#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">getPoint</span>() <span class="comment">// &#123;x:1, y:10&#125;</span></span><br></pre></td></tr></table></figure>

<h4 id="属性名表达式"><a href="#属性名表达式" class="headerlink" title="属性名表达式"></a>属性名表达式</h4><p>ES6 允许字面量定义对象时，用表达式作为对象的属性名，即把表达式放在方括号内</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> propKey = <span class="string">&#x27;itbaizhan&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> obj = &#123;</span><br><span class="line">  [propKey]: <span class="literal">true</span>,</span><br><span class="line">  [<span class="string">&#x27;a&#x27;</span> + <span class="string">&#x27;bc&#x27;</span>]: <span class="number">123</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h4 id="对象的扩展运算符"><a href="#对象的扩展运算符" class="headerlink" title="对象的扩展运算符"></a>对象的扩展运算符</h4><p>ES2018 将这个运算符引入了对象</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> z = &#123; <span class="attr">a</span>: <span class="number">3</span>, <span class="attr">b</span>: <span class="number">4</span> &#125;;</span><br><span class="line"><span class="keyword">let</span> n = &#123; ...z &#125;;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(n);</span><br><span class="line"></span><br><span class="line">&#123;...&#123;&#125;, <span class="attr">a</span>: <span class="number">1</span>&#125;</span><br><span class="line"><span class="comment">// &#123; a: 1 &#125;</span></span><br></pre></td></tr></table></figure>

<h3 id="函数的扩展"><a href="#函数的扩展" class="headerlink" title="函数的扩展"></a>函数的扩展</h3><h4 id="箭头函数"><a href="#箭头函数" class="headerlink" title="箭头函数"></a>箭头函数</h4><p>ES6 允许使用“箭头”（<code>=&gt;</code>）定义函数</p>
<p>基本用法：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="title function_">add</span> = x =&gt; x;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 等同于-&gt;赋值型声明函数</span></span><br><span class="line"><span class="keyword">var</span> add = <span class="keyword">function</span> (<span class="params">x</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> x;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>如果箭头函数不需要参数或需要多个参数，就使用一个圆括号代表参数部分</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="title function_">add</span> = (<span class="params">x,y</span>) =&gt; x+y;</span><br><span class="line"><span class="comment">// 等同于</span></span><br><span class="line"><span class="keyword">var</span> add = <span class="keyword">function</span> (<span class="params">x,y</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> x+y;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> <span class="title function_">add</span> = (<span class="params"></span>) =&gt; <span class="number">100</span>;</span><br><span class="line"><span class="comment">// 等同于</span></span><br><span class="line"><span class="keyword">var</span> add = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">100</span>;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>如果箭头函数的代码块部分多于一条语句，就要使用大括号将它们括起来，并且使用<code>return</code>语句返回</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="title function_">add</span> = (<span class="params">x,y</span>) =&gt; &#123;</span><br><span class="line">    <span class="keyword">var</span> z = <span class="number">10</span>;</span><br><span class="line">    <span class="keyword">return</span> x+y+z</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 等同于</span></span><br><span class="line"><span class="keyword">var</span> add = <span class="keyword">function</span> (<span class="params">x,y</span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> z = <span class="number">10</span></span><br><span class="line">    <span class="keyword">return</span> x+y+z</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>由于大括号被解释为代码块，所以如果箭头函数直接返回一个对象，必须在对象外面加上括号，否则会报错。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="title function_">add</span> = (<span class="params">x,y</span>) =&gt; (&#123;<span class="attr">x</span>:<span class="number">10</span>,<span class="attr">y</span>:<span class="number">20</span>&#125;);</span><br></pre></td></tr></table></figure>

<p>箭头函数的一个用处是简化回调函数（匿名函数）</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="number">10</span>,<span class="number">20</span>,<span class="number">30</span>]</span><br><span class="line">arr.<span class="title function_">map</span>(<span class="function"><span class="params">item</span> =&gt;</span>&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(item);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>对于普通函数来说，内部的<code>this</code>指向函数运行时所在的对象，但是这一点对箭头函数不成立。它没有自己的<code>this</code>对象，内部的<code>this</code>就是定义时上层作用域中的<code>this</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> name = <span class="string">&quot;itbaizhan&quot;</span></span><br><span class="line"><span class="keyword">var</span> user = &#123;</span><br><span class="line">    <span class="attr">name</span>:<span class="string">&quot;iwen&quot;</span>,</span><br><span class="line">    <span class="title function_">getName</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span>&#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">name</span>); <span class="comment">// iwen</span></span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">user.<span class="title function_">getName</span>()</span><br></pre></td></tr></table></figure>

<blockquote>
<p>箭头函数里面根本没有自己的<code>this</code>，而是引用外层的<code>this</code></p>
</blockquote>
<h3 id="Set-数据结构"><a href="#Set-数据结构" class="headerlink" title="Set 数据结构"></a>Set 数据结构</h3><p>ES6 提供了新的数据结构 Set。它类似于数组，但是成员的值都是唯一的，没有重复的值。<code>Set</code>本身是一个构造函数，用来生成 Set 数据结构。</p>
<p>基本用法</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> s = <span class="keyword">new</span> <span class="title class_">Set</span>();<span class="comment">//要有new</span></span><br><span class="line"></span><br><span class="line">[<span class="number">2</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">2</span>, <span class="number">2</span>].<span class="title function_">forEach</span>(<span class="function"><span class="params">x</span> =&gt;</span> s.<span class="title function_">add</span>(x));<span class="comment">//forEach是一种遍历方案</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i <span class="keyword">of</span> s) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(i);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 2 3 5 4</span></span><br></pre></td></tr></table></figure>

<p>通过<code>add()</code>方法向 Set 结构加入成员，结果表明 Set 结构不会添加重复的值。</p>
<p><code>Set</code>函数可以接受一个数组作为参数</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> set = <span class="keyword">new</span> <span class="title class_">Set</span>([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">4</span>]);</span><br><span class="line">[...set]</span><br><span class="line"><span class="comment">// [1, 2, 3, 4]</span></span><br></pre></td></tr></table></figure>

<p>数组去除重复成员的方法</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 去除数组的重复成员</span></span><br><span class="line">[...<span class="keyword">new</span> <span class="title class_">Set</span>(array)]</span><br></pre></td></tr></table></figure>

<p>字符串去除重复字符</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[...<span class="keyword">new</span> <span class="title class_">Set</span>(<span class="string">&#x27;ababbc&#x27;</span>)].<span class="title function_">join</span>(<span class="string">&#x27;&#x27;</span>)</span><br><span class="line"><span class="comment">// &quot;abc&quot;</span></span><br></pre></td></tr></table></figure>

<p>向 Set 加入值的时候，不会发生类型转换，所以<code>5</code>和<code>&quot;5&quot;</code>是两个不同的值。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> mySet = <span class="keyword">new</span> <span class="title class_">Set</span>();</span><br><span class="line">mySet.<span class="title function_">add</span>(<span class="string">&quot;5&quot;</span>)</span><br><span class="line">mySet.<span class="title function_">add</span>(<span class="number">5</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(mySet); <span class="comment">// Set(2) &#123;&#x27;5&#x27;, 5&#125;</span></span><br></pre></td></tr></table></figure>

<h4 id="size属性"><a href="#size属性" class="headerlink" title="size属性"></a>size属性</h4><p>返回<code>Set</code>实例的成员总数</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> items = <span class="keyword">new</span> <span class="title class_">Set</span>([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">5</span>, <span class="number">5</span>, <span class="number">5</span>]);</span><br><span class="line">items.<span class="property">size</span> <span class="comment">// 5</span></span><br></pre></td></tr></table></figure>

<h3 id="Set数据结构方法"><a href="#Set数据结构方法" class="headerlink" title="Set数据结构方法"></a>Set数据结构方法</h3><h4 id="add-添加"><a href="#add-添加" class="headerlink" title="add() - 添加"></a>add() - 添加</h4><p><code>set</code> 添加方法</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> mySet = <span class="keyword">new</span> <span class="title class_">Set</span>();</span><br><span class="line">mySet.<span class="title function_">add</span>(<span class="string">&quot;5&quot;</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(mySet); </span><br></pre></td></tr></table></figure>

<h4 id="delete-删除"><a href="#delete-删除" class="headerlink" title="delete() - 删除"></a>delete() - 删除</h4><p>删除某个值，返回一个布尔值，表示删除是否</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> mySet = <span class="keyword">new</span> <span class="title class_">Set</span>();</span><br><span class="line">mySet.<span class="title function_">add</span>(<span class="string">&quot;5&quot;</span>)</span><br><span class="line"><span class="keyword">var</span> flag = mySet.<span class="title function_">delete</span>(<span class="string">&quot;5&quot;</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(flag);  <span class="comment">// true</span></span><br></pre></td></tr></table></figure>

<h4 id="has-判断"><a href="#has-判断" class="headerlink" title="has() - 判断"></a>has() - 判断</h4><p>返回一个布尔值，表示该值是否为<code>Set</code>的成员</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> mySet = <span class="keyword">new</span> <span class="title class_">Set</span>();</span><br><span class="line">mySet.<span class="title function_">add</span>(<span class="string">&quot;5&quot;</span>)</span><br><span class="line"><span class="keyword">var</span> flag = mySet.<span class="title function_">has</span>(<span class="string">&quot;5&quot;</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(flag);  <span class="comment">// true</span></span><br></pre></td></tr></table></figure>

<h4 id="clear-清空"><a href="#clear-清空" class="headerlink" title="clear() - 清空"></a>clear() - 清空</h4><p>清除所有成员，没有返回值</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> mySet = <span class="keyword">new</span> <span class="title class_">Set</span>();</span><br><span class="line">mySet.<span class="title function_">add</span>(<span class="string">&quot;5&quot;</span>)</span><br><span class="line">mySet.<span class="title function_">clear</span>();</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(mySet);  <span class="comment">// Set(0) &#123;size: 0&#125;</span></span><br></pre></td></tr></table></figure>

<h3 id="Promise"><a href="#Promise" class="headerlink" title="Promise"></a>Promise</h3><p>基本概念：</p>
<p>Promise 是异步编程的一种解决方案，比传统的解决方案——回调函数和事件——更合理和更强大。它由社区最早提出和实现，ES6 将其写进了语言标准，统一了用法，原生提供了<code>Promise</code>对象</p>
<p>所谓<code>Promise</code>，简单说就是一个容器，里面保存着某个未来才会结束的事件（通常是一个异步操作）的结果。从语法上说，Promise 是一个对象，从它可以获取异步操作的消息。Promise 提供统一的 API，各种异步操作都可以用同样的方法进行处理</p>
<p>有了<code>Promise</code>对象，就可以将异步操作以同步操作的流程表达出来，避免了层层嵌套的回调函数。此外，<code>Promise</code>对象提供统一的接口，使得控制异步操作更加容易</p>
<p>基本用法：</p>
<p>ES6 规定，<code>Promise</code>对象是一个构造函数，用来生成<code>Promise</code>实例</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> promise = <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="keyword">function</span>(<span class="params">resolve, reject</span>) &#123;</span><br><span class="line">  <span class="comment">// ... some code</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (<span class="comment">/* 异步操作成功 */</span>)&#123;</span><br><span class="line">    <span class="title function_">resolve</span>(value);</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="title function_">reject</span>(error);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<blockquote>
<p>构造函数是需要用new来构造的。</p>
</blockquote>
<p><code>Promise</code>构造函数接受一个函数作为参数，该函数的两个参数分别是<code>resolve</code>和<code>reject</code>。它们是两个函数，由 JavaScript 引擎提供，不用自己部署</p>
<p><code>Promise</code>实例生成以后，可以用<code>then</code>方法分别指定<code>resolved</code>状态和<code>rejected</code>状态的回调函数。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">promise.<span class="title function_">then</span>(<span class="keyword">function</span>(<span class="params">value</span>) &#123;</span><br><span class="line">  <span class="comment">// success</span></span><br><span class="line">&#125;, <span class="keyword">function</span>(<span class="params">error</span>) &#123;</span><br><span class="line">  <span class="comment">// failure</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>加载图片资源例子：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">function</span> <span class="title function_">loadImageAsync</span>(<span class="params">url</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">var</span> promise = <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="keyword">function</span> (<span class="params">resolve, reject</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">const</span> image = <span class="keyword">new</span> <span class="title class_">Image</span>();<span class="comment">//创建image对象</span></span></span><br><span class="line"><span class="language-javascript">                image.<span class="property">src</span> = url;<span class="comment">//数据加载</span></span></span><br><span class="line"><span class="language-javascript">                image.<span class="property">onload</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;<span class="comment">//成功</span></span></span><br><span class="line"><span class="language-javascript">                    <span class="title function_">resolve</span>(image);</span></span><br><span class="line"><span class="language-javascript">                &#125;;</span></span><br><span class="line"><span class="language-javascript">                image.<span class="property">onerror</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;<span class="comment">//失败</span></span></span><br><span class="line"><span class="language-javascript">                    <span class="title function_">reject</span>(<span class="keyword">new</span> <span class="title class_">Error</span>(<span class="string">&#x27;Could not load image at &#x27;</span> + url));</span></span><br><span class="line"><span class="language-javascript">                &#125;;</span></span><br><span class="line"><span class="language-javascript">            &#125;);</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">return</span> promise;</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">        <span class="title function_">loadImageAsync</span>(<span class="string">&quot;http://iwenwiki.com/api/vue-data/vue-data-1.png&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">        .<span class="title function_">then</span>(<span class="keyword">function</span>(<span class="params">data</span>)&#123;<span class="comment">//成功函数</span></span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">console</span>.<span class="title function_">log</span>(data);</span></span><br><span class="line"><span class="language-javascript">            $(<span class="string">&quot;div&quot;</span>).<span class="title function_">append</span>(data)</span></span><br><span class="line"><span class="language-javascript">        &#125;,<span class="keyword">function</span>(<span class="params">error</span>)&#123;<span class="comment">//失败2函数</span></span></span><br><span class="line"><span class="language-javascript">            $(<span class="string">&quot;div&quot;</span>).<span class="title function_">html</span>(error)</span></span><br><span class="line"><span class="language-javascript">        &#125;)</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="Promise对象-Ajax实操"><a href="#Promise对象-Ajax实操" class="headerlink" title="Promise对象_Ajax实操"></a>Promise对象_Ajax实操</h3><p>Promise封装Ajax，让网络请求的异步操作变得更简单</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> getJSON = <span class="keyword">function</span> (<span class="params">url</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">const</span> promise = <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="keyword">function</span> (<span class="params">resolve, reject</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">const</span> handler = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">readyState</span> !== <span class="number">4</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="keyword">return</span>;</span></span><br><span class="line"><span class="language-javascript">                    &#125;</span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">status</span> === <span class="number">200</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="title function_">resolve</span>(<span class="variable language_">this</span>.<span class="property">response</span>);</span></span><br><span class="line"><span class="language-javascript">                    &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="title function_">reject</span>(<span class="keyword">new</span> <span class="title class_">Error</span>(<span class="variable language_">this</span>.<span class="property">statusText</span>));</span></span><br><span class="line"><span class="language-javascript">                    &#125;</span></span><br><span class="line"><span class="language-javascript">                &#125;;</span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">const</span> client = <span class="keyword">new</span> <span class="title class_">XMLHttpRequest</span>();</span></span><br><span class="line"><span class="language-javascript">                client.<span class="title function_">open</span>(<span class="string">&quot;GET&quot;</span>, url);</span></span><br><span class="line"><span class="language-javascript">                client.<span class="property">onreadystatechange</span> = handler;</span></span><br><span class="line"><span class="language-javascript">                client.<span class="property">responseType</span> = <span class="string">&quot;json&quot;</span>;</span></span><br><span class="line"><span class="language-javascript">                client.<span class="title function_">setRequestHeader</span>(<span class="string">&quot;Accept&quot;</span>, <span class="string">&quot;application/json&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">                client.<span class="title function_">send</span>();</span></span><br><span class="line"><span class="language-javascript">            &#125;);</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">return</span> promise;</span></span><br><span class="line"><span class="language-javascript">        &#125;;</span></span><br><span class="line"><span class="language-javascript">            <span class="title function_">getJSON</span>(<span class="string">&quot;http://iwenwiki.com/api/blueberrypai/getIndexBanner.php&quot;</span>).<span class="title function_">then</span>(<span class="keyword">function</span> (<span class="params">json</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">console</span>.<span class="title function_">log</span>(json);</span></span><br><span class="line"><span class="language-javascript">        &#125;, <span class="keyword">function</span> (<span class="params">error</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">console</span>.<span class="title function_">error</span>(<span class="string">&#x27;出错了&#x27;</span>, error);</span></span><br><span class="line"><span class="language-javascript">        &#125;);</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="Async函数-异步操作变同步"><a href="#Async函数-异步操作变同步" class="headerlink" title="Async函数 - 异步操作变同步"></a>Async函数 - 异步操作变同步</h3><p><em><strong>async函数可以将异步操作变为同步操作</strong></em></p>
<p>例：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//出现的问题</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">print</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span>&#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;定时器&quot;</span>);</span><br><span class="line">    &#125;,<span class="number">1000</span>)</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Hello&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">print</span>()</span><br></pre></td></tr></table></figure>

<p>基本语法：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//用async解决的</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">timeout</span>(<span class="params">ms</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">setTimeout</span>(resolve, ms);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">asyncPrint</span>(<span class="params">value, ms</span>) &#123;<span class="comment">//async放在函数前</span></span><br><span class="line">  <span class="keyword">await</span> <span class="title function_">timeout</span>(ms);<span class="comment">//异步操作函数前写await</span></span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(value);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">asyncPrint</span>(<span class="string">&#x27;hello world&#x27;</span>, <span class="number">50</span>);</span><br></pre></td></tr></table></figure>

<blockquote>
<p>在promise中如果函数不调用resolve或者reject是不会结束的。</p>
</blockquote>
<h4 id="异步应用"><a href="#异步应用" class="headerlink" title="异步应用"></a>异步应用</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">ajax</span>(<span class="params">url</span>)&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="keyword">function</span>(<span class="params">resolve,reject</span>)&#123;</span><br><span class="line">        $.<span class="title function_">getJSON</span>(url,<span class="keyword">function</span>(<span class="params">result</span>)&#123;</span><br><span class="line">            <span class="title function_">resolve</span>(result)</span><br><span class="line">        &#125;,<span class="keyword">function</span>(<span class="params">error</span>)&#123;</span><br><span class="line">            <span class="title function_">reject</span>(error) </span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">getInfo</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="keyword">let</span> ids = <span class="keyword">await</span> <span class="title function_">ajax</span>(<span class="string">&quot;http://iwenwiki.com/api/generator/list.php&quot;</span>)</span><br><span class="line">    <span class="keyword">let</span> names = <span class="keyword">await</span> <span class="title function_">ajax</span>(<span class="string">&quot;http://iwenwiki.com/api/generator/id.php?id=&quot;</span>+ids[<span class="number">0</span>])</span><br><span class="line">    <span class="keyword">let</span> infos = <span class="keyword">await</span> <span class="title function_">ajax</span>(<span class="string">&quot;http://iwenwiki.com/api/generator/name.php?name=&quot;</span> + names.<span class="property">name</span>)</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(infos);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">getInfo</span>();</span><br></pre></td></tr></table></figure>

<blockquote>
<p>async可以直接把promise数据读取出来，不需要.then了。</p>
</blockquote>
<h3 id="class的基本语法"><a href="#class的基本语法" class="headerlink" title="class的基本语法"></a>class的基本语法</h3><p>JavaScript 语言中，生成实例对象的传统方法是通过构造函数</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">Point</span>(<span class="params">x, y</span>) &#123;</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">x</span> = x;</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">y</span> = y;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//在类里面添加函数的</span></span><br><span class="line"><span class="title class_">Point</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">toString</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="string">&#x27;(&#x27;</span> + <span class="variable language_">this</span>.<span class="property">x</span> + <span class="string">&#x27;, &#x27;</span> + <span class="variable language_">this</span>.<span class="property">y</span> + <span class="string">&#x27;)&#x27;</span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> p = <span class="keyword">new</span> <span class="title class_">Point</span>(<span class="number">1</span>, <span class="number">2</span>);</span><br></pre></td></tr></table></figure>

<blockquote>
<p>function后面加名字，首字母大写就是类，首字母小写就是函数(Es5)。</p>
</blockquote>
<p>ES6 提供了更接近传统语言的写法，引入了 Class（类）这个概念，作为对象的模板。通过<code>class</code>关键字，可以定义类</p>
<p>基本上，ES6 的<code>class</code>可以看作只是一个语法糖，它的绝大部分功能，ES5 都可以做到，新的<code>class</code>写法只是让对象原型的写法更加清晰、更像面向对象编程的语法而已</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Point</span> &#123;</span><br><span class="line">    <span class="comment">//构造函数</span></span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params">x, y</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">x</span> = x;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">y</span> = y;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">toString</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&#x27;(&#x27;</span> + <span class="variable language_">this</span>.<span class="property">x</span> + <span class="string">&#x27;, &#x27;</span> + <span class="variable language_">this</span>.<span class="property">y</span> + <span class="string">&#x27;)&#x27;</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="constructor-类的默认方法"><a href="#constructor-类的默认方法" class="headerlink" title="constructor - 类的默认方法"></a>constructor - 类的默认方法</h4><p><code>constructor()</code>方法是类的默认方法，通过<code>new</code>命令生成对象实例时，自动调用该方法。一个类必须有<code>constructor()</code>方法，如果没有显式定义，一个空的<code>constructor()</code>方法会被默认添加</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Point</span> &#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 等同于</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Point</span> &#123;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params"></span>) &#123;&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="类的实例"><a href="#类的实例" class="headerlink" title="类的实例"></a>类的实例</h4><p>生成类的实例的写法，与 ES5 完全一样，也是使用<code>new</code>命令</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Point</span> &#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 报错</span></span><br><span class="line"><span class="keyword">var</span> point = <span class="title class_">Point</span>(<span class="number">2</span>, <span class="number">3</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 正确</span></span><br><span class="line"><span class="keyword">var</span> point = <span class="keyword">new</span> <span class="title class_">Point</span>(<span class="number">2</span>, <span class="number">3</span>);</span><br></pre></td></tr></table></figure>

<blockquote>
<p>类不存在变量提升（hoist），这一点与 ES5 完全不同函数(function)是可以提升的</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="title class_">Foo</span>(); <span class="comment">// ReferenceError</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Foo</span> &#123;&#125;</span><br></pre></td></tr></table></figure>

<h4 id="class属性与方法"><a href="#class属性与方法" class="headerlink" title="class属性与方法"></a>class属性与方法</h4><h5 id="实例方法"><a href="#实例方法" class="headerlink" title="实例方法"></a>实例方法</h5><p>通过类的实例对象调用方法</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">People</span>&#123;</span><br><span class="line">    <span class="title function_">say</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Hello&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> p = <span class="keyword">new</span> <span class="title class_">People</span>();</span><br><span class="line">p.<span class="title function_">say</span>()</span><br></pre></td></tr></table></figure>

<h5 id="实例属性"><a href="#实例属性" class="headerlink" title="实例属性"></a>实例属性</h5><p>实例属性指的是类的实例对象可调用的属性</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">People</span>&#123;</span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params">name,age</span>)&#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">name</span> = name;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">age</span> = age;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="title function_">say</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">name</span>,<span class="variable language_">this</span>.<span class="property">age</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> p = <span class="keyword">new</span> <span class="title class_">People</span>(<span class="string">&quot;iwen&quot;</span>,<span class="number">20</span>);</span><br><span class="line">p.<span class="title function_">say</span>()</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(p.<span class="property">name</span>,p.<span class="property">age</span>);</span><br></pre></td></tr></table></figure>

<h5 id="静态方法"><a href="#静态方法" class="headerlink" title="静态方法"></a>静态方法</h5><p>类相当于实例的原型，所有在类中定义的方法，都会被实例继承。如果在一个方法前，加上<code>static</code>关键字，就表示该方法不会被实例继承，而是直接通过类来调用，这就称为“静态方法”</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span> &#123;</span><br><span class="line">    <span class="keyword">static</span> <span class="title function_">classMethod</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Hello&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title class_">Person</span>.<span class="title function_">classMethod</span>() <span class="comment">// Hello</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> p = <span class="keyword">new</span> <span class="title class_">Person</span>();</span><br><span class="line">p.<span class="title function_">classMethod</span>() <span class="comment">// p.classMethod is not a function</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>注意，如果静态方法包含<code>this</code>关键字，这个<code>this</code>指的是类，而不是实例。</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">People</span> &#123;</span><br><span class="line">    <span class="keyword">static</span> <span class="title function_">getSay</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="title function_">say</span>();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">static</span> <span class="title function_">say</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;hello&#x27;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="title function_">say</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;world&#x27;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="title class_">People</span>.<span class="title function_">getSay</span>() <span class="comment">// hello</span></span><br></pre></td></tr></table></figure>

<h5 id="静态属性"><a href="#静态属性" class="headerlink" title="静态属性"></a>静态属性</h5><p>静态属性指的是 Class 本身的属性，即<code>Class.propName</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">People</span>&#123;&#125;</span><br><span class="line"><span class="title class_">People</span>.<span class="property">status</span> = <span class="string">&quot;等待&quot;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">People</span>.<span class="property">status</span>);</span><br></pre></td></tr></table></figure>

<h4 id="class继承"><a href="#class继承" class="headerlink" title="class继承"></a>class继承</h4><p>用法：</p>
<p>Class 可以通过<code>extends</code>关键字实现继承，让子类继承父类的属性和方法。extends 的写法比 ES5 的原型链继承，要清晰和方便很多</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Point</span> &#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ColorPoint</span> <span class="keyword">extends</span> <span class="title class_ inherited__">Point</span> &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ES6 规定，子类必须在<code>constructor()</code>方法中调用<code>super()</code>，否则就会报错，这是因为子类自己的<code>this</code>对象，必须先通过父类的构造函数完成塑造，得到与父类同样的实例属性和方法，然后再对其进行加工，添加子类自己的实例属性和方法。如果不调用<code>super()</code>方法，子类就得不到自己的<code>this</code>对象</p>
<blockquote>
<p>super一定发在第一行。</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Point</span> &#123;</span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params">x,y</span>)&#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">x</span> = x;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">y</span> = y;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="title function_">getPoint</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">x</span>,<span class="variable language_">this</span>.<span class="property">y</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ColorPoint</span> <span class="keyword">extends</span> <span class="title class_ inherited__">Point</span> &#123;</span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params">x,y,z</span>)&#123;</span><br><span class="line">        <span class="variable language_">super</span>(x,y)</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">z</span> = z;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> cp = <span class="keyword">new</span> <span class="title class_">ColorPoint</span>(<span class="number">10</span>,<span class="number">20</span>,<span class="number">30</span>)</span><br><span class="line">cp.<span class="title function_">getPoint</span>();</span><br></pre></td></tr></table></figure>

<h5 id="Module-的语法"><a href="#Module-的语法" class="headerlink" title="Module 的语法"></a>Module 的语法</h5><p>历史上，JavaScript 一直没有模块（module）体系，无法将一个大程序拆分成互相依赖的小文件，再用简单的方法拼装起来。其他语言都有这项功能，比如 Ruby 的<code>require</code>、Python 的<code>import</code>，甚至就连 CSS 都有<code>@import</code>，但是 JavaScript 任何这方面的支持都没有，这对开发大型的、复杂的项目形成了巨大障碍</p>
<p>ES6 模块是通过<code>export</code>命令显式指定输出的代码，再通过<code>import</code>命令输入。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">var</span> <span class="title class_">Hello</span> = <span class="string">&quot;hello&quot;</span> <span class="comment">// hello.js文件</span></span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">Hello</span> &#125; <span class="keyword">from</span> <span class="string">&quot;./hello.js&quot;</span> <span class="comment">// index.js文件</span></span><br></pre></td></tr></table></figure>

<h6 id="测试方式"><a href="#测试方式" class="headerlink" title="测试方式"></a>测试方式</h6><p>我们采用Nodejs方式进行测试Module语法</p>
<p>但是nodejs采用的是CommonJS的模块化规范，使用require引入模块；而import是ES6的模块化规范关键字。想要使用import，必须引入babel转义支持，通过babel进行编译，使其变成node的模块化代码。</p>
<p>**疑惑：**为啥不用前端方式测试，前端方式测试会更加麻烦</p>
<p>第一步：全局安装babel-cli <code>npm install  -g babel-cli</code></p>
<p>第二步：安装 babel-preset-env <code>npm install -D babel-preset-env</code></p>
<p>第三步：运行代码 <code>babel-node --presets env index.js</code></p>
<h6 id="export-导出命令"><a href="#export-导出命令" class="headerlink" title="export - 导出命令"></a>export - 导出命令</h6><p>export命令导出变量</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">var</span> firstName = <span class="string">&#x27;sxt&#x27;</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">var</span> lastName = <span class="string">&#x27;itbaizhan&#x27;</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">var</span> year = <span class="number">2000</span>;</span><br></pre></td></tr></table></figure>

<p>export命令导出函数</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">function</span> <span class="title function_">add</span>(<span class="params">x, y</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> x + y;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h6 id="import-导出命令"><a href="#import-导出命令" class="headerlink" title="import - 导出命令"></a>import - 导出命令</h6><p>使用<code>export</code>命令定义了模块的对外接口以后，其他 JS 文件就可以通过<code>import</code>命令加载这个模块</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// name.js</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">var</span> firstName = <span class="string">&#x27;sxt&#x27;</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">var</span> lastName = <span class="string">&#x27;itbaizhan&#x27;</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">var</span> year = <span class="number">2000</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// main.js</span></span><br><span class="line"><span class="keyword">import</span> &#123; firstName, lastName, year &#125; <span class="keyword">from</span> <span class="string">&#x27;./profile.js&#x27;</span>;</span><br></pre></td></tr></table></figure>

<p>如果想为输入的变量重新取一个名字，<code>import</code>命令要使用<code>as</code>关键字，将输入的变量重命名</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// value.js</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">var</span> value = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// main.js</span></span><br><span class="line"><span class="keyword">import</span> &#123; value <span class="keyword">as</span> val &#125; <span class="keyword">from</span> <span class="string">&#x27;./value.js&#x27;</span>;</span><br></pre></td></tr></table></figure>

<p>除了指定加载某个输出值，还可以使用整体加载，即用星号（<code>*</code>）指定一个对象，所有输出值都加载在这个对象上面</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// circle.js</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">function</span> <span class="title function_">area</span>(<span class="params">radius</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="title class_">Math</span>.<span class="property">PI</span> * radius * radius;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">function</span> <span class="title function_">circumference</span>(<span class="params">radius</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="number">2</span> * <span class="title class_">Math</span>.<span class="property">PI</span> * radius;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// main.js</span></span><br><span class="line"><span class="keyword">import</span> &#123; area, circumference &#125; <span class="keyword">from</span> <span class="string">&#x27;./circle&#x27;</span>;</span><br><span class="line"><span class="comment">// 可以修改如下</span></span><br><span class="line"><span class="keyword">import</span> * <span class="keyword">as</span> circle <span class="keyword">from</span> <span class="string">&#x27;./circle&#x27;</span>;<span class="comment">//调用是以对象的形式调用的</span></span><br></pre></td></tr></table></figure>

<h6 id="export-default-命令"><a href="#export-default-命令" class="headerlink" title="export default 命令"></a>export default 命令</h6><p>从前面的例子可以看出，使用<code>import</code>命令的时候，用户需要知道所要加载的变量名或函数名，否则无法加载。但是，用户肯定希望快速上手，未必愿意阅读文档，去了解模块有哪些属性和方法</p>
<p>为了给用户提供方便，让他们不用阅读文档就能加载模块，就要用到<code>export default</code>命令，<strong>为模块指定默认输出</strong>。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// export-default.js</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;foo&#x27;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>一个文件中只能有一个export default</p>
</blockquote>
<p>其他模块加载该模块时，<code>import</code>命令可以为该匿名函数指定任意名字</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// import-default.js</span></span><br><span class="line"><span class="keyword">import</span> customName <span class="keyword">from</span> <span class="string">&#x27;./export-default&#x27;</span>;</span><br><span class="line"><span class="title function_">customName</span>(); <span class="comment">// &#x27;foo&#x27;</span></span><br></pre></td></tr></table></figure>

<h2 id="vue框架"><a href="#vue框架" class="headerlink" title="vue框架"></a>vue框架</h2><p>Vue是前端优秀框架， 是一套用于构建用户界面的<strong>渐进式框架</strong></p>
<p><a target="_blank" rel="noopener" href="https://cn.vuejs.org/">vue网站</a></p>
<h3 id="安装Vue工具-Vue-CLI"><a href="#安装Vue工具-Vue-CLI" class="headerlink" title="安装Vue工具 Vue CLI"></a>安装Vue工具 <code>Vue CLI</code></h3><p><code>Vue CLI</code> Vue.js 开发的标准工具，<code>Vue CLI</code> 是一个基于 Vue.js 进行快速开发的完整系统</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -g @vue/cli</span><br></pre></td></tr></table></figure>

<p>安装之后，你就可以在命令行中访问 <code>vue</code> 命令。你可以通过简单运行 <code>vue</code>，看看是否展示出了一份所有可用命令的帮助信息，来验证它是否安装成功。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vue --version</span><br></pre></td></tr></table></figure>

<h3 id="创建一个项目"><a href="#创建一个项目" class="headerlink" title="创建一个项目"></a>创建一个项目</h3><p>运行以下命令来创建一个新项目</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vue create vue-demo</span><br></pre></td></tr></table></figure>

<blockquote>
<p>在控制台中，可以用上下按键调整选择项<br>在控制台中，可以用空格(spacebar)选择是否选中和取消选中<br>名字中不能出现大写字母和空格</p>
</blockquote>
<p>可以选择默认项目模板，或者选“手动选择特性”来选取需要的特性。</p>
<p>我们选择<code>Babel</code>和<code>Progressive Web App (PWA) Support</code> 两个选项即可</p>
<blockquote>
<p>在学习期间，不要选中 <code>Linter / Formatter</code> 以避免不必要的错误提示</p>
</blockquote>
<p>Vue目前有两个主流大版本<code>vue2</code>和<code>vue3</code>，我们本套课程选择<code>vue3</code>最新版本</p>
<p>配置放在哪里? <code>In dedicated config files</code> 专用配置文件或者 <code>In package.json</code>在package.json文件</p>
<p>将其保存为未来项目的预置? <code>y</code>代表保存，并添加名字，<code>n</code>不保存</p>
<h3 id="运行项目"><a href="#运行项目" class="headerlink" title="运行项目"></a>运行项目</h3><p>第一步：进入项目根目录<code>cd vue-demo</code></p>
<p>第二步：运行<code>npm run serve</code> 启动项目</p>
<blockquote>
<p>cmd没关前进入网站<a target="_blank" rel="noopener" href="http://localhost:8080/">http://localhost:8080/</a></p>
</blockquote>
<h3 id="安装Vue高亮插件"><a href="#安装Vue高亮插件" class="headerlink" title="安装Vue高亮插件"></a>安装Vue高亮插件</h3><p>VSCode中安装<code>vetur</code>或者<code>volar</code>都可，前者针对Vue2版本，后者针对Vue3版本</p>
<h3 id="模板语法"><a href="#模板语法" class="headerlink" title="模板语法"></a>模板语法</h3><h4 id="文本"><a href="#文本" class="headerlink" title="文本"></a>文本</h4><p>数据绑定最常见的形式就是使用“Mustache” (双大括号) 语法的文本插值</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">span</span>&gt;</span>Message: &#123;&#123; msg &#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>写完代码自动刷新，不用再手动刷新。</p>
</blockquote>
<p>一般配合<code>js</code> 中的<code>data()</code>设置数据</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&#x27;HelloWorld&#x27;</span>,</span><br><span class="line">  <span class="title function_">data</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="keyword">return</span>&#123;</span><br><span class="line">      <span class="attr">msg</span>:<span class="string">&quot;消息提示&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="原始-HTML"><a href="#原始-HTML" class="headerlink" title="原始 HTML"></a>原始 HTML</h4><p>双大括号会将数据解释为普通文本，而非 HTML 代码。为了输出真正的 HTML，你需要使用<code>v-html</code>指令</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>Using mustaches: &#123;&#123; rawHtml &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>Using v-html directive: <span class="tag">&lt;<span class="name">span</span> <span class="attr">v-html</span>=<span class="string">&quot;rawHtml&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">data</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="keyword">return</span>&#123;</span><br><span class="line">        <span class="attr">rawHtml</span>:<span class="string">&quot;&lt;a href=&#x27;https://www.itbaizhan.com&#x27;&gt;百战&lt;/a&gt;&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="属性-Attribute"><a href="#属性-Attribute" class="headerlink" title="属性 Attribute"></a>属性 Attribute</h4><p>Mustache 语法不能在 HTML 属性中使用，然而，可以使用 <code>v-bind</code> 指令</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">v-bind:id</span>=<span class="string">&quot;dynamicId&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">data</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="keyword">return</span>&#123;</span><br><span class="line">        <span class="attr">dynamicId</span>:<span class="number">1001</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p><code>v-bind:</code> 可以简写成 <code>:</code></p>
</blockquote>
<h4 id="使用-JavaScript-表达式"><a href="#使用-JavaScript-表达式" class="headerlink" title="使用 JavaScript 表达式"></a>使用 JavaScript 表达式</h4><p>在我们的模板中，我们一直都只绑定简单的 property 键值，Vue.js 都提供了完全的 JavaScript 表达式支持</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;&#123; number + <span class="number">1</span> &#125;&#125;</span><br><span class="line"></span><br><span class="line">&#123;&#123; ok ? <span class="string">&#x27;YES&#x27;</span> : <span class="string">&#x27;NO&#x27;</span> &#125;&#125;</span><br><span class="line"></span><br><span class="line">&#123;&#123; message.<span class="title function_">split</span>(<span class="string">&#x27;&#x27;</span>).<span class="title function_">reverse</span>().<span class="title function_">join</span>(<span class="string">&#x27;&#x27;</span>) &#125;&#125;</span><br></pre></td></tr></table></figure>

<p>这些表达式会在当前活动实例的数据作用域下作为 JavaScript 被解析。有个限制就是，每个绑定都只能包含<strong>单个表达式</strong>，所以下面的例子都<strong>不会</strong>生效。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;!--  这是语句，不是表达式：--&gt;</span><br><span class="line">&#123;&#123; <span class="keyword">var</span> a = <span class="number">1</span> &#125;&#125;</span><br><span class="line"></span><br><span class="line">&lt;!-- 流程控制也不会生效，请使用三元表达式 --&gt;</span><br><span class="line">&#123;&#123; <span class="keyword">if</span> (ok) &#123; <span class="keyword">return</span> message &#125; &#125;&#125;</span><br></pre></td></tr></table></figure>

<h3 id="条件渲染"><a href="#条件渲染" class="headerlink" title="条件渲染"></a>条件渲染</h3><h4 id="v-if-条件行选择一块渲染"><a href="#v-if-条件行选择一块渲染" class="headerlink" title="v-if - 条件行选择一块渲染"></a>v-if - 条件行选择一块渲染</h4><p><code>v-if</code> 指令用于条件性地渲染一块内容。这块内容只会在指令的表达式返回 <code>true</code> 值的时候被渲染。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">v-if</span>=<span class="string">&quot;flag&quot;</span>&gt;</span>我是孙猴子<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">data</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        <span class="attr">flag</span>: <span class="literal">true</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="v-else-是v-if的另一个选项"><a href="#v-else-是v-if的另一个选项" class="headerlink" title="v-else - 是v-if的另一个选项"></a>v-else - 是v-if的另一个选项</h4><p>你可以使用 <code>v-else</code> 指令来表示 <code>v-if</code> 的“else 块”</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">v-if</span>=<span class="string">&quot;flag&quot;</span>&gt;</span>我是孙猴子<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">v-else</span>&gt;</span>你是傻猴子<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">data</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        <span class="attr">flag</span>: <span class="literal">false</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="v-show-控制元素的显示"><a href="#v-show-控制元素的显示" class="headerlink" title="v-show - 控制元素的显示"></a>v-show - 控制元素的显示</h4><p>另一个用于条件性展示元素的选项是 <code>v-show</code> 指令</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h1</span> <span class="attr">v-show</span>=<span class="string">&quot;ok&quot;</span>&gt;</span>Hello!<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="v-if-vs-v-show-的区别"><a href="#v-if-vs-v-show-的区别" class="headerlink" title="v-if vs v-show 的区别"></a><code>v-if</code> vs <code>v-show</code> 的区别</h4><p><code>v-if</code> 是“真正”的条件渲染，因为它会确保在切换过程中，条件块内的事件监听器和子组件适当地被销毁和重建。</p>
<p><code>v-if</code> 也是<strong>惰性的</strong>：如果在初始渲染时条件为假，则什么也不做——直到条件第一次变为真时，才会开始渲染条件块。</p>
<p>相比之下，<code>v-show</code> 就简单得多——不管初始条件是什么，元素总是会被渲染，并且只是简单地基于 CSS 进行切换。</p>
<p>一般来说，<code>v-if</code> 有更高的切换开销，而 <code>v-show</code> 有更高的初始渲染开销。因此，如果需要非常频繁地切换，则使用 <code>v-show</code> 较好；如果在运行时条件很少改变，则使用 <code>v-if</code> 较好</p>
<h3 id="列表渲染"><a href="#列表渲染" class="headerlink" title="列表渲染"></a>列表渲染</h3><h4 id="用-v-for-把一个数组映射为一组元素"><a href="#用-v-for-把一个数组映射为一组元素" class="headerlink" title="用 v-for 把一个数组映射为一组元素"></a>用 <code>v-for</code> 把一个数组映射为一组元素</h4><p>我们可以用 <code>v-for</code> 指令基于一个数组来渲染一个列表。<code>v-for</code> 指令需要使用 <code>item in items</code> 形式的特殊语法，其中 items 是源数据数组，而 <code>item</code> 则是被迭代的数组元素的<strong>别名</strong>。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;item in items&quot;</span>&gt;</span>&#123;&#123; item.message &#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">data</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        <span class="attr">items</span>: [&#123; <span class="attr">message</span>: <span class="string">&#x27;Foo&#x27;</span> &#125;, &#123; <span class="attr">message</span>: <span class="string">&#x27;Bar&#x27;</span> &#125;]</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="维护状态"><a href="#维护状态" class="headerlink" title="维护状态"></a>维护状态</h4><p>当 Vue 正在更新使用 <code>v-for</code> 渲染的元素列表时，它默认使用“就地更新”的策略。如果数据项的顺序被改变，Vue 将不会移动 DOM 元素来匹配数据项的顺序，而是就地更新每个元素，并且确保它们在每个索引位置正确渲染。</p>
<p>为了给 Vue 一个提示，以便它能跟踪每个节点的身份，从而重用和重新排序现有元素，你需要为每项提供一个唯一的 <code>key</code> attribute：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//index是下标索引，:key一定要有，当有唯一索引就之际填唯一索引，要是没有就填index</span></span><br><span class="line">&lt;div v-<span class="keyword">for</span>=<span class="string">&quot;(item,index) in items&quot;</span> :key=<span class="string">&quot;item.id|index&quot;</span>&gt;</span><br><span class="line">  &lt;!-- 内容 --&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure>

<h3 id="事件处理"><a href="#事件处理" class="headerlink" title="事件处理"></a>事件处理</h3><h4 id="监听事件-添加事件"><a href="#监听事件-添加事件" class="headerlink" title="监听事件 - 添加事件"></a>监听事件 - 添加事件</h4><p>我们可以使用 <code>v-on</code> 指令 (通常缩写为 <code>@</code> 符号) 来监听 DOM 事件，并在触发事件时执行一些 JavaScript。用法为 <code>v-on:click=&quot;methodName&quot;</code> 或使用快捷方式 <code>@click=&quot;methodName&quot;</code></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;counter += 1&quot;</span>&gt;</span>Add 1<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">data</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        <span class="attr">counter</span>: <span class="number">0</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="事件处理方法"><a href="#事件处理方法" class="headerlink" title="事件处理方法"></a>事件处理方法</h4><p>然而许多事件处理逻辑会更为复杂，所以直接把 JavaScript 代码写在 <code>v-on</code> 指令中是不可行的。因此 <code>v-on</code> 还可以接收一个需要调用的方法名称。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;greet&quot;</span>&gt;</span>Greet<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">methods</span>: &#123;</span><br><span class="line">    <span class="title function_">greet</span>(<span class="params">event</span>) &#123;</span><br><span class="line">        <span class="comment">// `event` 是原生 DOM event</span></span><br><span class="line">        <span class="keyword">if</span> (event) &#123;</span><br><span class="line">            <span class="title function_">alert</span>(event.<span class="property">target</span>.<span class="property">tagName</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="内联处理器中的方法"><a href="#内联处理器中的方法" class="headerlink" title="内联处理器中的方法"></a>内联处理器中的方法</h4><p>这是官方的翻译称呼，其实我们可以直接叫他 “事件传递参数”</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;say(&#x27;hi&#x27;)&quot;</span>&gt;</span>Say hi<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;say(&#x27;what&#x27;)&quot;</span>&gt;</span>Say what<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">methods</span>: &#123;</span><br><span class="line">    <span class="title function_">say</span>(<span class="params">message</span>) &#123;</span><br><span class="line">        <span class="title function_">alert</span>(message)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="表单输入绑定"><a href="#表单输入绑定" class="headerlink" title="表单输入绑定"></a>表单输入绑定</h3><p>你可以用 <code>v-model</code> 指令在表单 <code>&lt;input&gt;</code>、<code>&lt;textarea&gt;</code> 及 <code>&lt;select&gt;</code> 元素上创建双向数据绑定。它会根据控件类型自动选取正确的方法来更新元素。尽管有些神奇，但 <code>v-model</code> 本质上不过是语法糖。它负责监听用户的输入事件来更新数据，并在某种极端场景下进行一些特殊处理。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">v-model</span>=<span class="string">&quot;message&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;edit me&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>Message is: &#123;&#123; message &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">data</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        <span class="attr">message</span>:<span class="string">&quot;&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="修饰符"><a href="#修饰符" class="headerlink" title="修饰符"></a>修饰符</h4><h5 id="lazy-与input数据进行同步"><a href="#lazy-与input数据进行同步" class="headerlink" title=".lazy - 与input数据进行同步"></a><code>.lazy</code> - 与input数据进行同步</h5><p>在默认情况下，<code>v-model</code> 在每次 <code>input</code> 事件触发后将输入框的值与数据进行同步 。你可以添加 <code>lazy</code> 修饰符，从而转为在 <code>change</code> 事件之后进行同步</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">v-model.lazy</span>=<span class="string">&quot;message&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>Message is: &#123;&#123; message &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">data</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        <span class="attr">message</span>:<span class="string">&quot;&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="trim-过滤首尾空格"><a href="#trim-过滤首尾空格" class="headerlink" title=".trim - 过滤首尾空格"></a><code>.trim</code> - 过滤首尾空格</h5><p>如果要自动过滤用户输入的首尾空白字符，可以给 <code>v-model</code> 添加 <code>trim</code> 修饰符</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">v-model.trim</span>=<span class="string">&quot;message&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">data</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        <span class="attr">message</span>:<span class="string">&quot;&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="组件基础"><a href="#组件基础" class="headerlink" title="组件基础"></a>组件基础</h3><h4 id="单文件组件"><a href="#单文件组件" class="headerlink" title="单文件组件"></a>单文件组件</h4><p>Vue 单文件组件（又名 <code>*.vue</code> 文件，缩写为 <strong>SFC</strong>）是一种特殊的文件格式，它允许将 Vue 组件的<strong>模板</strong>、<strong>逻辑</strong>与<strong>样式</strong>封装在单个文件中</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;h3&gt;单文件组件&lt;/h3&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&quot;MyComponent&quot;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">h3&#123;</span><br><span class="line">    color: red;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>

<h4 id="加载组件"><a href="#加载组件" class="headerlink" title="加载组件"></a>加载组件</h4><p>第一步：引入组件 在app.vue中<code>import MyComponentVue from &#39;./components/MyComponent.vue&#39;</code></p>
<p>第二步：挂载组件 在下面的export default中<code>components: &#123; MyComponentVue &#125;</code></p>
<p>第三步：显示组件  在上面的template中<code>&lt;my-componentVue /&gt;</code></p>
<blockquote>
<p>当在组件样式style中添加属性 scoped，表示当前样式只在当前组件中生效。<br>import在template和script之间</p>
</blockquote>
<h4 id="组件的组织"><a href="#组件的组织" class="headerlink" title="组件的组织"></a>组件的组织</h4><p>通常一个应用会以一棵嵌套的组件树的形式来组织</p>
<h3 id="Props组件交互"><a href="#Props组件交互" class="headerlink" title="Props组件交互"></a>Props组件交互</h3><p>组件与组件之间是需要存在交互的，否则完全没关系，组件的意义就很小了</p>
<p><code>Prop</code> 是你可以在组件上注册的一些自定义 attribute</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;my-componentVue title=&quot;标题&quot;/&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;h3&gt;单文件组件&lt;/h3&gt;</span><br><span class="line">    &lt;p&gt;&#123;&#123; title &#125;&#125;&lt;/p&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&quot;MyComponent&quot;,</span><br><span class="line">    props:&#123;</span><br><span class="line">        title:&#123;</span><br><span class="line">            type:String,</span><br><span class="line">            default:&quot;&quot;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>传递动态参数用<code>:</code>(vue-bind)</p>
</blockquote>
<h4 id="Prop-类型"><a href="#Prop-类型" class="headerlink" title="Prop 类型"></a>Prop 类型</h4><p>Prop传递参数其实是没有类型限制的</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">props: &#123;</span><br><span class="line">  title: String,</span><br><span class="line">  likes: Number,</span><br><span class="line">  isPublished: Boolean,</span><br><span class="line">  commentIds: Array,</span><br><span class="line">  author: Object,</span><br><span class="line">  callback: Function</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>数据类型为数组或者对象的时候，默认值是需要返回工厂模式(函数)</p>
</blockquote>
<h3 id="自定义事件组件交互"><a href="#自定义事件组件交互" class="headerlink" title="自定义事件组件交互"></a>自定义事件组件交互</h3><p>自定义事件可以在组件中反向传递数据，<code>prop</code> 可以将数据从父组件传递到子组件，那么反向如何操作呢，就可以利用自定义事件实现 <code>$emit</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;h3&gt;单文件组件&lt;/h3&gt;</span><br><span class="line">    &lt;button @click=&quot;sendHandle&quot;&gt;发送数据&lt;/button&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    name: &quot;MyComponent&quot;,</span><br><span class="line">    methods:&#123;</span><br><span class="line">        sendHandle()&#123;</span><br><span class="line">            this.$emit(&quot;onCustom&quot;,&quot;数据&quot;)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">h3 &#123;</span><br><span class="line">    color: red;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;my-componentVue @onCustom=&quot;getData&quot; /&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line"></span><br><span class="line">import MyComponentVue from &#x27;./components/MyComponent.vue&#x27;</span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#x27;App&#x27;,</span><br><span class="line">  components: &#123;</span><br><span class="line">    MyComponentVue</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    getData(data) &#123;</span><br><span class="line">      console.log(data);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h3 id="组件生命周期"><a href="#组件生命周期" class="headerlink" title="组件生命周期"></a>组件生命周期</h3><p>每个组件在被创建时都要经过一系列的初始化过程——例如，需要设置数据监听、编译模板、将实例挂载到 DOM 并在数据变化时更新 DOM 等。同时在这个过程中也会运行一些叫做<strong>生命周期钩子</strong>的函数，这给了用户在不同阶段添加自己的代码的机会</p>
<p>为了方便记忆，我们可以将他们分类：</p>
<p>创建时：<code>beforeCreate</code>、<code>created</code></p>
<p>渲染时：<code>beforeMount</code>、<code>mounted</code></p>
<p>更新时：<code>beforeUpdate</code>、<code>updated</code></p>
<p>卸载时：<code>beforeUnmount</code>、<code>unmounted</code></p>
<blockquote>
<p>一般网络请求是在mounted(组件渲染完成)后进行的</p>
</blockquote>
<h3 id="Vue引入第三方"><a href="#Vue引入第三方" class="headerlink" title="Vue引入第三方"></a>Vue引入第三方</h3><p><code>Swiper</code> 开源、免费、强大的触摸滑动插件</p>
<p><code>Swiper</code> 是纯javascript打造的滑动特效插件，面向手机、平板电脑等移动终端</p>
<p><code>Swiper</code> 能实现触屏焦点图、触屏Tab切换、触屏轮播图切换等常用效果</p>
<blockquote>
<p>官方文档：<a target="_blank" rel="noopener" href="https://swiperjs.com/vue">https://swiperjs.com/vue</a><br>安装指定版本: <code>npm instal --save swiper@8.1.6</code></p>
</blockquote>
<h4 id="基础实现"><a href="#基础实现" class="headerlink" title="基础实现"></a>基础实现</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;hello&quot;&gt;</span><br><span class="line">    &lt;swiper class=&quot;mySwiper&quot;&gt;</span><br><span class="line">      &lt;swiper-slide&gt;Slide 1&lt;/swiper-slide&gt;</span><br><span class="line">      &lt;swiper-slide&gt;Slide 2&lt;/swiper-slide&gt;</span><br><span class="line">      &lt;swiper-slide&gt;Slide 3&lt;/swiper-slide&gt;</span><br><span class="line">    &lt;/swiper&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import &#123; Swiper, SwiperSlide &#125; from &#x27;swiper/vue&#x27;;</span><br><span class="line">import &#x27;swiper/css&#x27;;</span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#x27;HelloWorld&#x27;,</span><br><span class="line">  components: &#123;</span><br><span class="line">    Swiper,</span><br><span class="line">    SwiperSlide,</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h3 id="添加指示器"><a href="#添加指示器" class="headerlink" title="添加指示器"></a>添加指示器</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;hello&quot;&gt;</span><br><span class="line">    &lt;swiper class=&quot;mySwiper&quot; :modules=&quot;modules&quot; :pagination=&quot;&#123; clickable: true &#125;&quot;&gt;</span><br><span class="line">      &lt;swiper-slide&gt;</span><br><span class="line">        &lt;img src=&quot;../assets/logo.png&quot; alt=&quot;&quot;&gt;</span><br><span class="line">      &lt;/swiper-slide&gt;</span><br><span class="line">      &lt;swiper-slide&gt;</span><br><span class="line">        &lt;img src=&quot;../assets/logo.png&quot; alt=&quot;&quot;&gt;</span><br><span class="line">      &lt;/swiper-slide&gt;</span><br><span class="line">      &lt;swiper-slide&gt;</span><br><span class="line">        &lt;img src=&quot;../assets/logo.png&quot; alt=&quot;&quot;&gt;</span><br><span class="line">      &lt;/swiper-slide&gt;</span><br><span class="line">    &lt;/swiper&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import &#123; Pagination &#125; from &#x27;swiper&#x27;;</span><br><span class="line">import &#123; Swiper, SwiperSlide &#125; from &#x27;swiper/vue&#x27;;</span><br><span class="line">import &#x27;swiper/css&#x27;;</span><br><span class="line">import &#x27;swiper/css/pagination&#x27;;</span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#x27;HelloWorld&#x27;,</span><br><span class="line">  data()&#123;</span><br><span class="line">    return&#123;</span><br><span class="line">      modules: [ Pagination ]</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  components: &#123;</span><br><span class="line">    Swiper,</span><br><span class="line">    SwiperSlide,</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h3 id="Axios网络请求"><a href="#Axios网络请求" class="headerlink" title="Axios网络请求"></a>Axios网络请求</h3><p>Axios 是一个基于 promise 的网络请求库</p>
<h4 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h4><p>Axios的应用是需要单独安装的 <code>npm install --save axios</code></p>
<h4 id="引入"><a href="#引入" class="headerlink" title="引入"></a>引入</h4><p>组件中引入: <code>import axios from &quot;axios&quot;</code></p>
<p>全局引用:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> axios <span class="keyword">from</span> <span class="string">&quot;axios&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> app = <span class="title function_">createApp</span>(<span class="title class_">App</span>);</span><br><span class="line">app.<span class="property">config</span>.<span class="property">globalProperties</span>.<span class="property">$axios</span> = axios<span class="comment">//把axios挂载到全局后起个名字叫$axios，所以在组件中使用$axios即可</span></span><br><span class="line">app.<span class="title function_">mount</span>(<span class="string">&#x27;#app&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 在组件中调用</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">$axios</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>放在main.js文件中</p>
</blockquote>
<h4 id="网络请求基本示例"><a href="#网络请求基本示例" class="headerlink" title="网络请求基本示例"></a>网络请求基本示例</h4><h5 id="get请求"><a href="#get请求" class="headerlink" title="get请求"></a>get请求</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">axios</span>(&#123;</span><br><span class="line">    <span class="attr">method</span>: <span class="string">&quot;get&quot;</span>,</span><br><span class="line">    <span class="attr">url</span>: <span class="string">&quot;http://iwenwiki.com/api/blueberrypai/getChengpinDetails.php&quot;</span></span><br><span class="line">&#125;).<span class="title function_">then</span>(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(res.<span class="property">data</span>);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h5 id="post请求"><a href="#post请求" class="headerlink" title="post请求"></a>post请求</h5><blockquote>
<p>post请求参数是需要额外处理的</p>
<ol>
<li>安装依赖: <code>npm install --save querystring</code></li>
<li>转换参数格式: <code>qs.stringify(&#123;&#125;)</code></li>
</ol>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">axios</span>(&#123;</span><br><span class="line">    <span class="attr">method</span>:<span class="string">&quot;post&quot;</span>,</span><br><span class="line">    <span class="attr">url</span>:<span class="string">&quot;http://iwenwiki.com/api/blueberrypai/login.php&quot;</span>,</span><br><span class="line">    <span class="attr">data</span>:qs.<span class="title function_">stringify</span>(&#123;</span><br><span class="line">        <span class="attr">user_id</span>:<span class="string">&quot;iwen@qq.com&quot;</span>,</span><br><span class="line">        <span class="attr">password</span>:<span class="string">&quot;iwen123&quot;</span>,</span><br><span class="line">        <span class="attr">verification_code</span>:<span class="string">&quot;crfvw&quot;</span></span><br><span class="line">    &#125;)</span><br><span class="line">&#125;).<span class="title function_">then</span>(<span class="function"><span class="params">res</span> =&gt;</span>&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(res.<span class="property">data</span>);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h4 id="快捷方案"><a href="#快捷方案" class="headerlink" title="快捷方案"></a>快捷方案</h4><h5 id="get请求-1"><a href="#get请求-1" class="headerlink" title="get请求&gt;"></a>get请求&gt;</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">axios.<span class="title function_">get</span>(<span class="string">&quot;http://iwenwiki.com/api/blueberrypai/getChengpinDetails.php&quot;</span>)</span><br><span class="line">    .<span class="title function_">then</span>(<span class="function"><span class="params">res</span> =&gt;</span>&#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(res.<span class="property">data</span>);</span><br><span class="line">    &#125;)</span><br></pre></td></tr></table></figure>

<h5 id="post请求-1"><a href="#post请求-1" class="headerlink" title="post请求&gt;"></a>post请求&gt;</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">axios.<span class="title function_">post</span>(<span class="string">&quot;http://iwenwiki.com/api/blueberrypai/login.php&quot;</span>, qs.<span class="title function_">stringify</span>(&#123;</span><br><span class="line">      <span class="attr">user_id</span>: <span class="string">&quot;iwen@qq.com&quot;</span>,</span><br><span class="line">      <span class="attr">password</span>: <span class="string">&quot;iwen123&quot;</span>,</span><br><span class="line">      <span class="attr">verification_code</span>: <span class="string">&quot;crfvw&quot;</span></span><br><span class="line">    &#125;))</span><br><span class="line">      .<span class="title function_">then</span>(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(res.<span class="property">data</span>);</span><br><span class="line">      &#125;)</span><br></pre></td></tr></table></figure>

<h3 id="Axios网络请求封装"><a href="#Axios网络请求封装" class="headerlink" title="Axios网络请求封装"></a>Axios网络请求封装</h3><p>在日常应用过程中，一个项目中的网络请求会很多，此时一般采取的方案是将网络请求封装起来</p>
<p>在<code>src</code>目录下创建文件夹<code>utils</code>，并创建文件<code>request</code>，用来存储网络请求对象 <code>axios</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> axios <span class="keyword">from</span> <span class="string">&quot;axios&quot;</span></span><br><span class="line"><span class="keyword">import</span> qs <span class="keyword">from</span> <span class="string">&quot;querystring&quot;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">errorHandle</span> = (<span class="params">status,info</span>) =&gt; &#123;</span><br><span class="line">    <span class="keyword">switch</span>(status)&#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">400</span>:</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;语义有误&quot;</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">401</span>:</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;服务器认证失败&quot;</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">403</span>:</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;服务器拒绝访问&quot;</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">404</span>:</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;地址错误&quot;</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">500</span>:</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;服务器遇到意外&quot;</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">502</span>:</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;服务器无响应&quot;</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="attr">default</span>:</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(info);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> instance = axios.<span class="title function_">create</span>(&#123;</span><br><span class="line">    <span class="comment">//网络请求公用配置 - 访问超过5秒就不再访问了</span></span><br><span class="line">    <span class="attr">timeout</span>:<span class="number">5000</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">//拦截器</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//发送数据之前</span></span><br><span class="line">instance.<span class="property">interceptors</span>.<span class="property">request</span>.<span class="title function_">use</span>(</span><br><span class="line">    <span class="function"><span class="params">config</span> =&gt;</span>&#123;<span class="comment">//成功函数</span></span><br><span class="line">        <span class="keyword">if</span>(config.<span class="property">method</span> === <span class="string">&quot;post&quot;</span>)&#123;</span><br><span class="line">            config.<span class="property">data</span> = qs.<span class="title function_">stringify</span>(config.<span class="property">data</span>)</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> config;<span class="comment">//config包含网络请求的所有信息</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="function"><span class="params">error</span> =&gt;</span> <span class="title class_">Promise</span>.<span class="title function_">reject</span>(error)<span class="comment">//失败函数</span></span><br><span class="line">)</span><br><span class="line"><span class="comment">//获取数据之前的另一个拦截器</span></span><br><span class="line">instance.<span class="property">interceptors</span>.<span class="property">response</span>.<span class="title function_">use</span>(<span class="comment">//相应对象</span></span><br><span class="line">    <span class="comment">//判断是否成功接收数据并返回数据。</span></span><br><span class="line">    <span class="function"><span class="params">response</span> =&gt;</span> response.<span class="property">status</span> === <span class="number">200</span> ? <span class="title class_">Promise</span>.<span class="title function_">resolve</span>(response) : <span class="title class_">Promise</span>.<span class="title function_">reject</span>(response),</span><br><span class="line">    <span class="function"><span class="params">error</span> =&gt;</span>&#123;</span><br><span class="line">        <span class="keyword">const</span> &#123; response &#125; = error;</span><br><span class="line">        <span class="title function_">errorHandle</span>(response.<span class="property">status</span>,response.<span class="property">info</span>)<span class="comment">//错误处理方案</span></span><br><span class="line">    &#125;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> instance;</span><br></pre></td></tr></table></figure>

<p>在<code>src</code>目录下创建文件夹<code>api</code>，并创建文件<code>index</code>和<code>path</code>分别用来存放网络请求方法和请求路径</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// path.js</span></span><br><span class="line"><span class="keyword">const</span> base = &#123;</span><br><span class="line">    <span class="attr">baseUrl</span>:<span class="string">&quot;http://iwenwiki.com&quot;</span>,</span><br><span class="line">    <span class="attr">chengpin</span>:<span class="string">&quot;/api/blueberrypai/getChengpinDetails.php&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> base</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// index.js</span></span><br><span class="line"><span class="keyword">import</span> path <span class="keyword">from</span> <span class="string">&quot;./path&quot;</span></span><br><span class="line"><span class="keyword">import</span> axios <span class="keyword">from</span> <span class="string">&quot;../utils/request&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">    <span class="title function_">getChengpin</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> axios.<span class="title function_">get</span>(path.<span class="property">baseUrl</span> + path.<span class="property">chengpin</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>在组件中直接调用网络请求</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> api <span class="keyword">from</span> <span class="string">&quot;../api/index&quot;</span></span><br><span class="line"></span><br><span class="line">api.<span class="title function_">getChengpin</span>().<span class="title function_">then</span>(<span class="function"><span class="params">res</span> =&gt;</span>&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(res.<span class="property">data</span>);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<blockquote>
<p>可以借阅axios看云文档。</p>
</blockquote>
<h3 id="网络请求跨域解决方案"><a href="#网络请求跨域解决方案" class="headerlink" title="网络请求跨域解决方案"></a>网络请求跨域解决方案</h3><p>JS采取的是同源策略</p>
<p>同源策略是浏览器的一项安全策略，浏览器只允许js 代码请求和当前所在服务器域名,端口,协议相同的数据接口上的数据,这就是同源策略.</p>
<p>也就是说，当协议、域名、端口任意一个不相同时，都会产生跨域问题，所以又应该如何解决跨域问题呢</p>
<h4 id="跨域错误提示信息"><a href="#跨域错误提示信息" class="headerlink" title="跨域错误提示信息"></a>跨域错误提示信息</h4><h5 id="目前主流的跨域解决方案有两种"><a href="#目前主流的跨域解决方案有两种" class="headerlink" title="目前主流的跨域解决方案有两种"></a>目前主流的跨域解决方案有两种</h5><ol>
<li>后台解决：cors</li>
<li>前台解决：proxy</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">devServer</span>: &#123;</span><br><span class="line">    <span class="attr">proxy</span>: &#123;</span><br><span class="line">      <span class="string">&#x27;/api&#x27;</span>: &#123;</span><br><span class="line">        <span class="attr">target</span>: <span class="string">&#x27;&lt;url&gt;&#x27;</span>,<span class="comment">//把产生跨域的地址放进去</span></span><br><span class="line">        <span class="attr">changeOrigin</span>: <span class="literal">true</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>解决完跨域配置之后，要记得重启服务器才行哦！</p>
</blockquote>
<h3 id="Vue引入路由配置"><a href="#Vue引入路由配置" class="headerlink" title="Vue引入路由配置"></a>Vue引入路由配置</h3><p>在Vue中，我们可以通过<code>vue-router</code>路由管理页面之间的关系</p>
<p>Vue Router 是 Vue.js 的官方路由。它与 Vue.js 核心深度集成，让用 Vue.js 构建单页应用变得轻而易举</p>
<h4 id="在Vue中引入路由-router"><a href="#在Vue中引入路由-router" class="headerlink" title="在Vue中引入路由 - router"></a>在Vue中引入路由 - router</h4><p>第一步：安装路由 <code>npm install --save vue-router</code></p>
<p>第二步：配置独立的路由文件</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// index.js</span></span><br><span class="line"><span class="keyword">import</span> &#123; createRouter, createWebHashHistory &#125; <span class="keyword">from</span> <span class="string">&#x27;vue-router&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">HomeView</span> <span class="keyword">from</span> <span class="string">&#x27;../views/HomeView.vue&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> routes = [</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="comment">//path是必须有的属性</span></span><br><span class="line">    <span class="attr">path</span>: <span class="string">&#x27;/&#x27;</span>,<span class="comment">//第一个页面</span></span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;home&#x27;</span>,</span><br><span class="line">    <span class="attr">component</span>: <span class="title class_">HomeView</span><span class="comment">//要写出对应关系</span></span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">path</span>: <span class="string">&#x27;/about&#x27;</span>,<span class="comment">//第二个页面</span></span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;about&#x27;</span>,</span><br><span class="line">    <span class="attr">component</span>: <span class="function">() =&gt;</span> <span class="keyword">import</span>(<span class="string">&#x27;../views/AboutView.vue&#x27;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> router = <span class="title function_">createRouter</span>(&#123;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> *  createWebHashHistory()跳转地址中有/#</span></span><br><span class="line"><span class="comment"> * 原理是a标签锚点</span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> *  createWebHistory()跳转地址中没有/#</span></span><br><span class="line"><span class="comment"> * //这个方式需要在后台做重定向设置，否则会存在404问题</span></span><br><span class="line"><span class="comment"> * 原理是h5的pushState</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line">  <span class="attr">history</span>: <span class="title function_">createWebHashHistory</span>(),</span><br><span class="line">  routes</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> router</span><br></pre></td></tr></table></figure>

<p>第三步：引入路由到项目</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 在main.js</span></span><br><span class="line"><span class="keyword">import</span> router <span class="keyword">from</span> <span class="string">&#x27;./router&#x27;</span></span><br><span class="line"><span class="title function_">createApp</span>(<span class="title class_">App</span>).<span class="title function_">use</span>(router)</span><br></pre></td></tr></table></figure>

<p>第四步：指定路由显示入口 <code>&lt;router-view/&gt;</code>&#x2F;&#x2F;在app.vue的template中添加</p>
<p>第五步：指定路由跳转</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;router-link to=&quot;/&quot;&gt;Home&lt;/router-link&gt; |</span><br><span class="line">&lt;router-link to=&quot;/about&quot;&gt;About&lt;/router-link&gt;</span><br></pre></td></tr></table></figure>

<h3 id="路由传递参数"><a href="#路由传递参数" class="headerlink" title="路由传递参数"></a>路由传递参数</h3><p>页面跳转过程中，是可以携带参数的，这也是很常见的业务</p>
<p>例如：在一个列表项，点击进入查看每个列表项的详情</p>
<p>第一步：在路由配置中指定参数的<code>key</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">path</span>:<span class="string">&quot;/list/:name&quot;</span>,<span class="comment">// /:name代表key</span></span><br><span class="line">    <span class="attr">name</span>:<span class="string">&quot;list&quot;</span>,</span><br><span class="line">    <span class="comment">//这是异步显示流程，在没有加载的时候不会占用内存</span></span><br><span class="line">    <span class="attr">component</span>:<span class="function">() =&gt;</span> <span class="keyword">import</span>(<span class="string">&quot;../views/ListView.vue&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>第二步：在跳转过程中携带参数</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;li&gt;&lt;router-link to=&quot;/list/内蒙&quot;&gt;内蒙旅游十大景区&lt;/router-link&gt;&lt;/li&gt;</span><br><span class="line">&lt;li&gt;&lt;router-link to=&quot;/list/北京&quot;&gt;北京旅游十大景区&lt;/router-link&gt;&lt;/li&gt;</span><br><span class="line">&lt;li&gt;&lt;router-link to=&quot;/list/四川&quot;&gt;四川旅游十大景区&lt;/router-link&gt;&lt;/li&gt;</span><br></pre></td></tr></table></figure>

<p>第三步：在详情页面读取路由携带的参数</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;p&gt;&#123;&#123; $route.params.name &#125;&#125;城市旅游景区详情&lt;/p&gt;</span><br></pre></td></tr></table></figure>

<h3 id="嵌套路由配置"><a href="#嵌套路由配置" class="headerlink" title="嵌套路由配置"></a>嵌套路由配置</h3><p>路由嵌套是非常常见的需求</p>
<p>第一步：创建子路由要加载显示的页面</p>
<p>第二步：在路由配置文件中添加子路由配置</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">path</span>:<span class="string">&quot;/news&quot;</span>,</span><br><span class="line">    <span class="attr">name</span>:<span class="string">&quot;news&quot;</span>,</span><br><span class="line">    <span class="attr">redirect</span>:<span class="string">&quot;/news/baidu&quot;</span>,</span><br><span class="line">    <span class="attr">component</span>:<span class="function">() =&gt;</span> <span class="keyword">import</span>(<span class="string">&quot;../views/NewsView.vue&quot;</span>),</span><br><span class="line">    <span class="attr">children</span>:[<span class="comment">//children代表配置二导航</span></span><br><span class="line">       &#123;</span><br><span class="line">        <span class="comment">//二级导航的路径不要加 /</span></span><br><span class="line">            <span class="attr">path</span>:<span class="string">&quot;baidu&quot;</span>,</span><br><span class="line">            <span class="attr">component</span>:<span class="function">() =&gt;</span> <span class="keyword">import</span>(<span class="string">&quot;../views/NewsList/BaiduNews.vue&quot;</span>),</span><br><span class="line">       &#125;,</span><br><span class="line">       &#123;</span><br><span class="line">            <span class="attr">path</span>:<span class="string">&quot;wangyi&quot;</span>,</span><br><span class="line">            <span class="attr">component</span>:<span class="function">() =&gt;</span> <span class="keyword">import</span>(<span class="string">&quot;../views/NewsList/WangyiNews.vue&quot;</span>),</span><br><span class="line">       &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>第三步：指定子路由显示位置<code>&lt;router-view&gt;&lt;/router-view&gt;</code></p>
<p>第四步：添加子路由跳转链接</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;router-link to=&quot;/news/baidu&quot;&gt;百度新闻&lt;/router-link&gt; //写全路径</span><br><span class="line">&lt;router-link to=&quot;/news/wangyi&quot;&gt;网易新闻&lt;/router-link&gt;</span><br></pre></td></tr></table></figure>

<p>第五步：重定向配置 <code>redirect:&quot;/news/baidu&quot;</code>&#x2F;&#x2F;在children父级上添加属性</p>
<h3 id="Vue状态管理-Vuex"><a href="#Vue状态管理-Vuex" class="headerlink" title="Vue状态管理(Vuex)"></a>Vue状态管理(Vuex)</h3><p>Vuex 是一个专为 Vue.js 应用程序开发的<strong>状态管理模式 + 库</strong>。它采用集中式存储管理应用的所有组件的状态，并以相应的规则保证状态以一种可预测的方式发生变化。</p>
<p>简单来说，状态管理可以理解成为了更方便的管理组件之间的数据交互，提供了一个集中式的管理方案，任何组件都可以按照指定的方式进行读取和改变数据</p>
<h4 id="引入Vuex的步骤"><a href="#引入Vuex的步骤" class="headerlink" title="引入Vuex的步骤"></a>引入Vuex的步骤</h4><p>第一步：安装Vuex <code>npm install --save vuex</code></p>
<p>第二步：配置Vuex文件</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; createStore &#125; <span class="keyword">from</span> <span class="string">&#x27;vuex&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title function_">createStore</span>(&#123;<span class="comment">//vuex核心作用就是帮助我们管理组件之间的状态</span></span><br><span class="line">  <span class="attr">state</span>: &#123;<span class="comment">//所有状态都放在这里</span></span><br><span class="line">      <span class="attr">counter</span>:<span class="number">0</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>第三步：在主文件中引入Vuex</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> store <span class="keyword">from</span> <span class="string">&#x27;./store&#x27;</span> <span class="comment">//在main.js</span></span><br><span class="line"><span class="title function_">createApp</span>(<span class="title class_">App</span>).<span class="title function_">use</span>(store)</span><br></pre></td></tr></table></figure>

<p>第四步：在组件中读取状态</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;p&gt;counter:&#123;&#123; $store.state.counter &#125;&#125;&lt;/p&gt;</span><br><span class="line">// 或者</span><br><span class="line">import &#123; mapState &#125; from &#x27;vuex&#x27;;</span><br><span class="line">computed:&#123;//专门用来读取vuex数据</span><br><span class="line">    ...mapState([&quot;counter&quot;])</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Vue状态管理核心-Vuex"><a href="#Vue状态管理核心-Vuex" class="headerlink" title="Vue状态管理核心(Vuex)"></a>Vue状态管理核心(Vuex)</h3><p>最常用的核心概念包含: <code>State</code>、<code>Getter</code>、<code>Mutation</code>、<code>Action</code></p>
<h4 id="getter-对vuex中的数据进行过滤"><a href="#getter-对vuex中的数据进行过滤" class="headerlink" title="getter - 对vuex中的数据进行过滤"></a>getter - 对vuex中的数据进行过滤</h4><p>对Vuex中的数据进行过滤</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; createStore &#125; <span class="keyword">from</span> <span class="string">&#x27;vuex&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title function_">createStore</span>(&#123;</span><br><span class="line">  <span class="attr">state</span>: &#123;</span><br><span class="line">    <span class="attr">counter</span>: <span class="number">0</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">getters</span>: &#123;</span><br><span class="line">    <span class="title function_">getCount</span>(<span class="params">state</span>)&#123;</span><br><span class="line">      <span class="keyword">return</span> state.<span class="property">counter</span> &gt; <span class="number">0</span> ? state.<span class="property">counter</span> : <span class="string">&quot;counter小于0，不符合要求&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; mapState,mapGetters &#125; <span class="keyword">from</span> <span class="string">&#x27;vuex&#x27;</span>;</span><br><span class="line"><span class="attr">computed</span>:&#123;</span><br><span class="line">    ...<span class="title function_">mapGetters</span>([<span class="string">&quot;getCount&quot;</span>])</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>放在vuex文件里面</p>
</blockquote>
<h4 id="Mutation-更该vuex里的数据"><a href="#Mutation-更该vuex里的数据" class="headerlink" title="Mutation - 更该vuex里的数据"></a>Mutation - 更该vuex里的数据</h4><p>更改 Vuex 的 store 中的状态的唯一方法是提交 mutation。Vuex 中的 mutation 非常类似于事件：每个 mutation 都有一个字符串的事件类型 (type)和一个回调函数 (handler)。这个回调函数就是我们实际进行状态更改的地方，并且它会接受 state 作为第一个参数</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; createStore &#125; <span class="keyword">from</span> <span class="string">&#x27;vuex&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title function_">createStore</span>(&#123;</span><br><span class="line">  <span class="attr">state</span>: &#123;</span><br><span class="line">    <span class="attr">counter</span>: <span class="number">0</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">getters</span>: &#123;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">mutations</span>: &#123;</span><br><span class="line">    <span class="title function_">setCounter</span>(<span class="params">state, num</span>) &#123;</span><br><span class="line">      state.<span class="property">counter</span> += num</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//放在相应的组件里</span></span><br><span class="line"><span class="keyword">import</span> &#123; mapState,mapMutations &#125; <span class="keyword">from</span> <span class="string">&#x27;vuex&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="attr">methods</span>:&#123;</span><br><span class="line">    ...<span class="title function_">mapMutations</span>([<span class="string">&quot;setCounter&quot;</span>]),</span><br><span class="line">    <span class="title function_">clickHandler</span>(<span class="params"></span>)&#123;</span><br><span class="line">      <span class="comment">// this.$store.commit(&quot;setCounter&quot;,20)-&gt;import &#123; mapState &#125; from &#x27;vuex&#x27;;</span></span><br><span class="line">      <span class="comment">// 或者</span></span><br><span class="line">      <span class="comment">// this.setCounter(10)-&gt;调用方式</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>mutations是需要通过事件调用的</p>
</blockquote>
<h4 id="Action-调用mutation更改vuex里的数据-异步"><a href="#Action-调用mutation更改vuex里的数据-异步" class="headerlink" title="Action - 调用mutation更改vuex里的数据(异步)"></a>Action - 调用mutation更改vuex里的数据(异步)</h4><p>Action 类似于 mutation，不同在于：</p>
<ul>
<li>Action 提交的是 mutation，而不是直接变更状态</li>
<li>Action 可以包含任意异步操作</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; createStore &#125; <span class="keyword">from</span> <span class="string">&#x27;vuex&#x27;</span></span><br><span class="line"><span class="keyword">import</span> axios <span class="keyword">from</span> <span class="string">&quot;axios&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title function_">createStore</span>(&#123;</span><br><span class="line">  <span class="attr">state</span>: &#123;</span><br><span class="line">    <span class="attr">counter</span>: <span class="number">0</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">getters</span>: &#123;</span><br><span class="line">    <span class="title function_">getCount</span>(<span class="params">state</span>)&#123;</span><br><span class="line">      <span class="keyword">return</span> state.<span class="property">counter</span> &gt; <span class="number">0</span> ? state.<span class="property">counter</span> : <span class="string">&quot;counter小于0，不符合要求&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">mutations</span>: &#123;</span><br><span class="line">    <span class="title function_">setCounter</span>(<span class="params">state, num</span>) &#123;</span><br><span class="line">      state.<span class="property">counter</span> += num</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">actions</span>: &#123;</span><br><span class="line">    <span class="title function_">asyncSetCount</span>(<span class="params">&#123; commit &#125;</span>)&#123;</span><br><span class="line">      axios.<span class="title function_">get</span>(<span class="string">&quot;http://iwenwiki.com/api/generator/list.php&quot;</span>)</span><br><span class="line">      .<span class="title function_">then</span>(<span class="function"><span class="params">res</span> =&gt;</span>&#123;</span><br><span class="line">        <span class="title function_">commit</span>(<span class="string">&quot;setCounter&quot;</span>,res.<span class="property">data</span>[<span class="number">0</span>])</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; mapState,mapMutations,mapGetters,mapActions &#125; <span class="keyword">from</span> <span class="string">&#x27;vuex&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="attr">methods</span>:&#123;</span><br><span class="line">    ...<span class="title function_">mapActions</span>([<span class="string">&quot;asyncSetCount&quot;</span>]),</span><br><span class="line">    <span class="title function_">clickAsyncHandler</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="comment">// this.$store.dispatch(&quot;asyncSetCount&quot;)</span></span><br><span class="line">        <span class="comment">// 或者</span></span><br><span class="line">        <span class="comment">// this.asyncSetCount()</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Vue3新特性"><a href="#Vue3新特性" class="headerlink" title="Vue3新特性"></a>Vue3新特性</h3><p>Vue3是目前Vue的最新版本，自然也是新增了很多新特性</p>
<h4 id="六大亮点"><a href="#六大亮点" class="headerlink" title="六大亮点"></a>六大亮点</h4><ul>
<li>Performance：性能更比Vue 2.0强。</li>
<li>Tree shaking support：可以将无用模块“剪辑”，仅打包需要的。</li>
<li><strong>Composition API：组合API</strong></li>
<li>Fragment, Teleport, Suspense：“碎片”，Teleport即Protal传送门，“悬念”</li>
<li>Better TypeScript support：更优秀的Ts支持</li>
<li>Custom Renderer API：暴露了自定义渲染API</li>
</ul>
<h4 id="ref或者reactive"><a href="#ref或者reactive" class="headerlink" title="ref或者reactive"></a>ref或者reactive</h4><p>在2.x中通过组件data的方法来定义一些当前组件的数据</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">data</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;iwen&#x27;</span>,</span><br><span class="line">    <span class="attr">list</span>: [],</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>在3.x中通过ref或者reactive创建响应式对象</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; ref,reactive &#125; <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&#x27;HelloWorld&#x27;</span>,</span><br><span class="line">  <span class="title function_">setup</span>(<span class="params"></span>)&#123;<span class="comment">//在setup中声明的东西必须return</span></span><br><span class="line">  <span class="comment">//代替data </span></span><br><span class="line">      <span class="keyword">const</span> name = <span class="title function_">ref</span>(<span class="string">&quot;iwen&quot;</span>)<span class="comment">//(基本类型使用)</span></span><br><span class="line">      <span class="keyword">const</span> state = <span class="title function_">reactive</span>(&#123;<span class="comment">//(复杂类型使用)</span></span><br><span class="line">          <span class="attr">list</span>:[]</span><br><span class="line">      &#125;)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span>&#123;</span><br><span class="line">        name,</span><br><span class="line">        state</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="methods中定义的方法写在setup"><a href="#methods中定义的方法写在setup" class="headerlink" title="methods中定义的方法写在setup()"></a>methods中定义的方法写在setup()</h4><p>在2.x中methods来定义一些当前组件内部方法</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">methods</span>:&#123;</span><br><span class="line">    <span class="title function_">http</span>(<span class="params"></span>)&#123;&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>在3.x中直接在setup方法中定义并return</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">setup</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> <span class="title function_">http</span> = (<span class="params"></span>)=&gt;&#123;</span><br><span class="line">        <span class="comment">// do something</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      http</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>组合式api在setup中实现</p>
</blockquote>
<h4 id="setup-中使用props和context"><a href="#setup-中使用props和context" class="headerlink" title="setup()中使用props和context"></a>setup()中使用props和context</h4><p>在2.x中，组件的方法中可以通过this获取到当前组件的实例，并执行data变量的修改，方法的调用，组件的通信等等，但是在3.x中，setup()在beforeCreate和created时机就已调用，无法使用和2.x一样的this，但是可以通过接收setup(props,ctx)的方法，获取到当前组件的实例和props</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="attr">props</span>: &#123;<span class="comment">//虽然setup中有参数porpos但是还是需要来申明类型的</span></span><br><span class="line">    <span class="attr">name</span>: <span class="title class_">String</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="title function_">setup</span>(<span class="params">props,ctx</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(props.<span class="property">name</span>)</span><br><span class="line">    ctx.<span class="title function_">emit</span>(<span class="string">&#x27;event&#x27;</span>)</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>setup中没有this</p>
</blockquote>
<h4 id="在setup中使生命周期函"><a href="#在setup中使生命周期函" class="headerlink" title="在setup中使生命周期函"></a>在setup中使生命周期函</h4><p>你可以通过在生命周期钩子前面加上 “on” 来访问组件的生命周期钩子。</p>
<p>下表包含如何在 setup () 内部调用生命周期钩子</p>
<table>
<thead>
<tr>
<th>Options API</th>
<th>Hook inside setup</th>
</tr>
</thead>
<tbody><tr>
<td>beforeCreate</td>
<td>Not needed*</td>
</tr>
<tr>
<td>created</td>
<td>Not needed*</td>
</tr>
<tr>
<td>beforeMount</td>
<td>onBeforeMount</td>
</tr>
<tr>
<td>mounted</td>
<td>onMounted</td>
</tr>
<tr>
<td>beforeUpdate</td>
<td>onBeforeUpdate</td>
</tr>
<tr>
<td>updated</td>
<td>onUpdated</td>
</tr>
<tr>
<td>beforeUnmount</td>
<td>onBeforeUnmount</td>
</tr>
<tr>
<td>unmounted</td>
<td>onUnmounted</td>
</tr>
</tbody></table>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="title function_">setup</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">// mounted</span></span><br><span class="line">    <span class="comment">//相比较之前的生命周期函数更有优势，之前是只能同样的生命周期函数存在一个，现在可以有多个</span></span><br><span class="line">    <span class="title function_">onMounted</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;Component is mounted!&#x27;</span>)</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="Provide-Inject-实现嵌套数据传递"><a href="#Provide-Inject-实现嵌套数据传递" class="headerlink" title="Provide &#x2F; Inject - 实现嵌套数据传递"></a>Provide &#x2F; Inject - 实现嵌套数据传递</h4><ul>
<li>provide() 和 inject() 可以实现嵌套组件之间的数据传递。</li>
<li>这两个函数只能在 setup() 函数中使用。</li>
<li>父级组件中使用 provide() 函数向下传递数据。</li>
<li>子级组件中使用 inject() 获取上层传递过来的数据。</li>
<li>不限层级-&gt;只能从父组件往子组件中传递。</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 父组件</span></span><br><span class="line"><span class="keyword">import</span> &#123; provide &#125; <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="title function_">setup</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="title function_">provide</span>(<span class="string">&quot;customVal&quot;</span>, <span class="string">&quot;我是父组件向子组件传递的值&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 子组件</span></span><br><span class="line"><span class="keyword">import</span> &#123; inject &#125; <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="title function_">setup</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> customVal = <span class="title function_">inject</span>(<span class="string">&quot;customVal&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      customVal</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="Fragment"><a href="#Fragment" class="headerlink" title="Fragment"></a>Fragment</h4><p>Fragment翻译为：“碎片”</p>
<p>在vue2的时候在template中只允许存在一个根节点，在vue3中支持多个了</p>
<ul>
<li>不再限于模板中的单个根节点</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;img alt=&quot;Vue logo&quot; src=&quot;./assets/logo.png&quot;&gt;</span><br><span class="line">  &lt;HelloWorld msg=&quot;Welcome to Your Vue.js App&quot; /&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure>

<h3 id="Vue3加载Element-plus"><a href="#Vue3加载Element-plus" class="headerlink" title="Vue3加载Element-plus"></a>Vue3加载Element-plus</h3><p>Element，一套为开发者、设计师和产品经理准备的基于 <code>Vue 2.0</code> 的桌面端组件库</p>
<p>Element Plus 基于 <code>Vue 3</code>，面向设计师和开发者的组件库</p>
<h4 id="安装Element-Plus"><a href="#安装Element-Plus" class="headerlink" title="安装Element-Plus"></a>安装Element-Plus</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install element-plus --save</span><br></pre></td></tr></table></figure>

<h3 id="完整引用"><a href="#完整引用" class="headerlink" title="完整引用"></a>完整引用</h3><p>如果你对打包后的文件大小不是很在乎，那么使用完整导入会更方便</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; createApp &#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">ElementPlus</span> <span class="keyword">from</span> <span class="string">&#x27;element-plus&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;element-plus/dist/index.css&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">App</span> <span class="keyword">from</span> <span class="string">&#x27;./App.vue&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> app = <span class="title function_">createApp</span>(<span class="title class_">App</span>)</span><br><span class="line"></span><br><span class="line">app.<span class="title function_">use</span>(<span class="title class_">ElementPlus</span>)</span><br><span class="line">app.<span class="title function_">mount</span>(<span class="string">&#x27;#app&#x27;</span>)</span><br></pre></td></tr></table></figure>

<h3 id="按需导入"><a href="#按需导入" class="headerlink" title="按需导入"></a>按需导入</h3><p>按需导入才是我们的最爱，毕竟在真实的应用场景中并不是每个组件都会用到，这会造成不小的浪费</p>
<p>首先你需要安装<code>unplugin-vue-components</code> 和 <code>unplugin-auto-import</code>这两款插件</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -D unplugin-vue-components unplugin-auto-<span class="keyword">import</span></span><br></pre></td></tr></table></figure>

<p>然后修改<code>vue.config.js</code>配置文件-覆盖掉</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123; defineConfig &#125; = <span class="built_in">require</span>(<span class="string">&#x27;@vue/cli-service&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> <span class="title class_">AutoImport</span> = <span class="built_in">require</span>(<span class="string">&#x27;unplugin-auto-import/webpack&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> <span class="title class_">Components</span> = <span class="built_in">require</span>(<span class="string">&#x27;unplugin-vue-components/webpack&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> &#123; <span class="title class_">ElementPlusResolver</span> &#125; = <span class="built_in">require</span>(<span class="string">&#x27;unplugin-vue-components/resolvers&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = <span class="title function_">defineConfig</span>(&#123;</span><br><span class="line">  <span class="attr">transpileDependencies</span>: <span class="literal">true</span>,</span><br><span class="line">  <span class="attr">configureWebpack</span>: &#123;</span><br><span class="line">    <span class="attr">plugins</span>: [</span><br><span class="line">      <span class="title class_">AutoImport</span>(&#123;</span><br><span class="line">        <span class="attr">resolvers</span>: [<span class="title class_">ElementPlusResolver</span>()]</span><br><span class="line">      &#125;),</span><br><span class="line">      <span class="title class_">Components</span>(&#123;</span><br><span class="line">        <span class="attr">resolvers</span>: [<span class="title class_">ElementPlusResolver</span>()]</span><br><span class="line">      &#125;)</span><br><span class="line">    ]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>最后，可以直接在组件中使用</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-button</span>&gt;</span>Default<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;primary&quot;</span>&gt;</span>Primary<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="Vue3加载Element-plus的字体图标"><a href="#Vue3加载Element-plus的字体图标" class="headerlink" title="Vue3加载Element-plus的字体图标"></a>Vue3加载Element-plus的字体图标</h3><p><code>Element-plus</code>不仅仅是提供了各种组件，同时还提供了一整套的字体图标方便开发者使用</p>
<h4 id="安装icons字体图标"><a href="#安装icons字体图标" class="headerlink" title="安装icons字体图标"></a>安装<code>icons</code>字体图标</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install @element-plus/icons-vue</span><br></pre></td></tr></table></figure>

<h4 id="全局注册"><a href="#全局注册" class="headerlink" title="全局注册"></a>全局注册</h4><p>在项目根目录下，创建<code>plugins</code>文件夹，在文件夹下创建文件<code>icons.js</code>文件</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> * <span class="keyword">as</span> components <span class="keyword">from</span> <span class="string">&quot;@element-plus/icons-vue&quot;</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">    <span class="attr">install</span>: <span class="function">(<span class="params">app</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">const</span> key <span class="keyword">in</span> components) &#123;</span><br><span class="line">            <span class="keyword">const</span> componentConfig = components[key];</span><br><span class="line">            app.<span class="title function_">component</span>(componentConfig.<span class="property">name</span>, componentConfig);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h4 id="引入文件"><a href="#引入文件" class="headerlink" title="引入文件"></a>引入文件</h4><p>在<code>main.js</code>中引入<code>icons.js</code>文件</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> elementIcon <span class="keyword">from</span> <span class="string">&quot;./plugins/icons&quot;</span>;</span><br><span class="line">app.<span class="title function_">use</span>(elementIcon)</span><br></pre></td></tr></table></figure>

<h4 id="使用方式"><a href="#使用方式" class="headerlink" title="使用方式"></a>使用方式</h4><p>接下来就可以直接在组件中引入使用了</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">el-icon</span> <span class="attr">class</span>=<span class="string">&quot;expand&quot;</span> <span class="attr">color</span>=<span class="string">&quot;#409EFC&quot;</span> <span class="attr">:size</span>=<span class="string">&quot;30&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">expand</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">el-icon</span>&gt;</span></span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2025/04/01/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="王湘宇">
      <meta itemprop="description" content="故事开始于2025/2/24 15：47">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="王湘宇的小屋">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2025/04/01/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/" class="post-title-link" itemprop="url">未命名</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2025-04-01 10:43:59" itemprop="dateCreated datePublished" datetime="2025-04-01T10:43:59+08:00">2025-04-01</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2024-03-27 17:42:02" itemprop="dateModified" datetime="2024-03-27T17:42:02+08:00">2024-03-27</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>[TOC]</p>
<h1 id="数据结构与算法"><a href="#数据结构与算法" class="headerlink" title="数据结构与算法"></a><strong>数据结构与算法</strong></h1><h1 id="顺序表"><a href="#顺序表" class="headerlink" title="顺序表"></a>顺序表</h1><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">CMyvector</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line"> T* p;</span><br><span class="line"> <span class="type">int</span> Len;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="built_in">CMyvector</span>()</span><br><span class="line">	&#123;</span><br><span class="line">     p = <span class="literal">NULL</span>;</span><br><span class="line">		Len = <span class="number">0</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	~<span class="built_in">CMyvector</span>()</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">delete</span>[] p;</span><br><span class="line">		Len = <span class="number">0</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">//创建顺序表</span></span><br><span class="line">	<span class="function"><span class="type">void</span> <span class="title">create</span><span class="params">(<span class="type">const</span> T&amp; _p)</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (Len==<span class="number">0</span>)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="comment">//申请内存</span></span><br><span class="line">			p = <span class="keyword">new</span> T;</span><br><span class="line">			<span class="comment">//赋值</span></span><br><span class="line">			*p = _p;</span><br><span class="line">			<span class="comment">//增加数量</span></span><br><span class="line">			Len++;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span></span><br><span class="line">		&#123;</span><br><span class="line">			<span class="comment">//创建变量</span></span><br><span class="line">			T* Newp = <span class="keyword">new</span> T[Len + <span class="number">1</span>];</span><br><span class="line">			<span class="comment">//赋值</span></span><br><span class="line">			<span class="built_in">memcpy</span>(Newp, p, <span class="built_in">sizeof</span>(T)*Len);</span><br><span class="line">			Newp[Len] = _p;</span><br><span class="line">			<span class="keyword">delete</span>[] p;</span><br><span class="line">			p = Newp;</span><br><span class="line">			Newp = <span class="literal">NULL</span>;</span><br><span class="line">			Len++;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">//显示顺序表</span></span><br><span class="line">	<span class="function"><span class="type">void</span> <span class="title">Show</span><span class="params">()</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		cout &lt;&lt; <span class="string">&quot;数组里有&quot;</span> &lt;&lt; Len &lt;&lt; <span class="string">&quot;个: &quot;</span>;</span><br><span class="line">		<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; Len; i++)</span><br><span class="line">		&#123;</span><br><span class="line">			cout&lt;&lt; p[i] &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">//删除</span></span><br><span class="line">	<span class="function"><span class="type">void</span> <span class="title">Ddelete</span><span class="params">(<span class="type">int</span> n<span class="comment">/*第几个*/</span>)</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (p==<span class="literal">NULL</span>)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">return</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span> (n&gt;Len)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">return</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="type">int</span> True = n - <span class="number">1</span>;<span class="comment">/*下标*/</span></span><br><span class="line">		<span class="keyword">if</span> (True&lt;<span class="number">0</span>)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">return</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">switch</span> (Len)</span><br><span class="line">		&#123;</span><br><span class="line">		<span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">			<span class="keyword">delete</span>[] p;</span><br><span class="line">			cout &lt;&lt; <span class="string">&quot;数组已经清除\n&quot;</span>;</span><br><span class="line">			<span class="keyword">return</span>;</span><br><span class="line">		<span class="keyword">default</span>:</span><br><span class="line">		&#123;</span><br><span class="line">			T* Newp = <span class="keyword">new</span> T[Len - <span class="number">1</span>];</span><br><span class="line">			<span class="keyword">if</span> (True==<span class="number">0</span>)</span><br><span class="line">			&#123;</span><br><span class="line">				<span class="built_in">memcpy</span>(Newp, p<span class="number">+1</span>, <span class="built_in">sizeof</span>(T) * (Len<span class="number">-1</span>));</span><br><span class="line">				<span class="keyword">delete</span>[] p;</span><br><span class="line">				p = Newp;</span><br><span class="line">				Newp = <span class="literal">NULL</span>;</span><br><span class="line">				Len--;</span><br><span class="line">				<span class="keyword">return</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			 <span class="keyword">else</span> <span class="keyword">if</span> (True == Len<span class="number">-1</span>)</span><br><span class="line">			 &#123; </span><br><span class="line">				<span class="built_in">memcpy</span>(Newp, p, <span class="built_in">sizeof</span>(T) * (Len - <span class="number">1</span>));</span><br><span class="line">				<span class="keyword">delete</span>[] p;</span><br><span class="line">				p = Newp;</span><br><span class="line">				Newp = <span class="literal">NULL</span>;</span><br><span class="line">				Len--;</span><br><span class="line">				<span class="keyword">return</span>;</span><br><span class="line">			 &#125;</span><br><span class="line">			 <span class="keyword">else</span></span><br><span class="line">			 &#123;</span><br><span class="line">				<span class="built_in">memcpy</span>(Newp, p, <span class="built_in">sizeof</span>(T) * True);</span><br><span class="line">				<span class="built_in">memcpy</span>(Newp+ True, p+ n, <span class="built_in">sizeof</span>(T) * (Len - True<span class="number">-1</span>));</span><br><span class="line">				<span class="keyword">delete</span>[] p;</span><br><span class="line">				p = Newp;</span><br><span class="line">				Newp = <span class="literal">NULL</span>;</span><br><span class="line">				Len--;</span><br><span class="line">				<span class="keyword">return</span>;</span><br><span class="line">			 &#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li>顺序表是比较简单的，在这里可以普及一下<code>memcpy</code>函数，这是直接缓存区里进行复制的函数</li>
<li>一个数右移1位就是除以2，左移1位就是乘以2，移多少位就是2的多少次幂（左正又负）</li>
</ul>
<h1 id="链表"><a href="#链表" class="headerlink" title="链表"></a>链表</h1><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//循环双链表</span></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">CMyLink</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">	CMyLink* Next;</span><br><span class="line">	CMyLink* last;</span><br><span class="line">	T Things;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="built_in">CMyLink</span>()</span><br><span class="line">	&#123;</span><br><span class="line">		Next = last = <span class="literal">NULL</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">CMyLink</span>(T Things):<span class="built_in">Things</span>(Things)</span><br><span class="line">	&#123;</span><br><span class="line">		Next = last = <span class="literal">NULL</span>;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line">	~<span class="built_in">CMyLink</span>()</span><br><span class="line">	&#123;</span><br><span class="line">		last = Next = <span class="literal">NULL</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">//插入</span></span><br><span class="line">	<span class="function"><span class="type">void</span> <span class="title">push</span><span class="params">(T Things)</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		CMyLink* Newp = <span class="keyword">new</span> CMyLink;</span><br><span class="line">		Newp-&gt;Things = Things;</span><br><span class="line">		<span class="keyword">if</span> (Next)</span><br><span class="line">		&#123;</span><br><span class="line">			CMyLink* Pp = <span class="keyword">this</span>;</span><br><span class="line">			Newp-&gt;last = Pp;</span><br><span class="line">			Newp-&gt;Next = Pp-&gt;Next;</span><br><span class="line">			Pp-&gt;Next = Newp;</span><br><span class="line">			Newp-&gt;Next-&gt;last = Newp;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span></span><br><span class="line">		&#123;</span><br><span class="line">			last =Next = Newp;</span><br><span class="line">			Newp-&gt;last = Newp-&gt;Next = <span class="keyword">this</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">//删除特定元素</span></span><br><span class="line">	<span class="function"><span class="type">void</span> <span class="title">pop</span><span class="params">(T Things)</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		CMyLink&lt;T&gt;* Px = <span class="keyword">this</span>;</span><br><span class="line">		<span class="type">bool</span> judge = <span class="number">1</span>;</span><br><span class="line">		<span class="keyword">while</span> (judge)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">if</span> (Px-&gt;Things==Things)</span><br><span class="line">			&#123;</span><br><span class="line">				Px-&gt;Next-&gt;last = Px-&gt;last;</span><br><span class="line">				Px-&gt;last-&gt;Next = Px-&gt;Next;</span><br><span class="line">				<span class="keyword">delete</span> Px;</span><br><span class="line">				<span class="keyword">return</span> ;</span><br><span class="line">			&#125;</span><br><span class="line">			Px = Px-&gt;Next;</span><br><span class="line">			<span class="keyword">if</span> (Px == <span class="keyword">this</span>)</span><br><span class="line">			&#123;</span><br><span class="line">				judge = <span class="number">0</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">//改特定元素</span></span><br><span class="line">	<span class="function"><span class="type">void</span> <span class="title">pop</span><span class="params">(<span class="type">int</span> n, T Things)</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		CMyLink&lt;T&gt;* Px = <span class="keyword">this</span>;</span><br><span class="line">		<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++)</span><br><span class="line">		&#123;</span><br><span class="line">			Px = Px-&gt;Next;</span><br><span class="line">		&#125;</span><br><span class="line">		Px-&gt;Things = Things;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">//输出列表</span></span><br><span class="line">	<span class="function"><span class="type">void</span> <span class="title">print</span><span class="params">()</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		CMyLink&lt;T&gt;* Px = <span class="keyword">this</span>;</span><br><span class="line">		<span class="type">bool</span> judge = <span class="number">1</span>;</span><br><span class="line">		<span class="keyword">while</span> (judge)</span><br><span class="line">		&#123;</span><br><span class="line">			Px = Px-&gt;Next;</span><br><span class="line">			<span class="keyword">if</span> (Px-&gt;Next == <span class="keyword">this</span>)</span><br><span class="line">			&#123;</span><br><span class="line">				judge = <span class="number">0</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			cout &lt;&lt; Px-&gt;Things &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li>&#x3D;&#x3D;这就是双向循环链表，切记前后链的关系&#x3D;&#x3D;</li>
</ul>
<h1 id="排序算法-（都以升序为例）"><a href="#排序算法-（都以升序为例）" class="headerlink" title="排序算法   （都以升序为例）"></a>排序算法   <del>（都以升序为例）</del></h1><h2 id="冒泡排序"><a href="#冒泡排序" class="headerlink" title="冒泡排序"></a>冒泡排序</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">froth</span><span class="params">(<span class="type">int</span> a[],<span class="type">int</span> length)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="comment">//每次比出最大的一个放在后面，比length-1次</span></span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; length<span class="number">-1</span>; j++)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="type">int</span> t = <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; length - <span class="number">1</span> - j ; i++)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">if</span> (a[i]&gt;a[i<span class="number">+1</span>])</span><br><span class="line">			&#123;</span><br><span class="line">				t = a[i + <span class="number">1</span>];</span><br><span class="line">				a[i + <span class="number">1</span>] = a[i];</span><br><span class="line">				a[i] = t;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="选择排序"><a href="#选择排序" class="headerlink" title="选择排序"></a>选择排序</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">choice</span><span class="params">(<span class="type">int</span> a[], <span class="type">int</span> len)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="comment">//每次选则最小的放在合适位置循环len-1次</span></span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; len<span class="number">-1</span>; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="type">int</span> ts = <span class="number">0</span>;</span><br><span class="line">		<span class="type">int</span> t = i;</span><br><span class="line">		<span class="keyword">for</span> (<span class="type">int</span> j = i<span class="number">+1</span>; j &lt; len; j++)</span><br><span class="line">		&#123;</span><br><span class="line">			t = ((a[t] &lt; a[j]) ? t : j);</span><br><span class="line">		&#125;</span><br><span class="line">		ts = a[i];</span><br><span class="line">		a[i] = a[t];</span><br><span class="line">		a[t] = ts;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="插入排序"><a href="#插入排序" class="headerlink" title="插入排序"></a>插入排序</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">insert</span><span class="params">(<span class="type">int</span> a[], <span class="type">int</span> len)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="comment">//把第一个当成有序数组，后面的依次往里面插</span></span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt; len; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="type">int</span> j=<span class="number">0</span>,t = a[i];</span><br><span class="line">		<span class="keyword">for</span> (j = i<span class="number">-1</span>; j &gt;= <span class="number">0</span> &amp;&amp; a[j] &gt; t ; j--)</span><br><span class="line">		&#123;</span><br><span class="line">			a[j + <span class="number">1</span>] = a[j];</span><br><span class="line">		&#125;</span><br><span class="line">		a[j + <span class="number">1</span>] = t;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="希尔排序"><a href="#希尔排序" class="headerlink" title="希尔排序"></a>希尔排序</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">Shell_sort</span><span class="params">(<span class="type">int</span> a[], <span class="type">int</span> len)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="comment">//每次分len=len/2组，再在组内做插入排序，一直分到只有一组</span></span><br><span class="line">	<span class="type">int</span> step = len / <span class="number">2</span>;</span><br><span class="line">	<span class="keyword">while</span> (step)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">for</span> (<span class="type">int</span> i = step; i &lt; len; i++)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="type">int</span> j = <span class="number">0</span>,t = a[i];</span><br><span class="line">			<span class="keyword">for</span> (j =i-step; j &gt;= <span class="number">0</span> &amp;&amp; a[j] &gt; t; j-=step)</span><br><span class="line">			&#123;</span><br><span class="line">				a[j + step] = a[j];</span><br><span class="line">			&#125;</span><br><span class="line">			a[j + step] = t;</span><br><span class="line">		&#125;</span><br><span class="line">		step /= <span class="number">2</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>是插入算法的升级版</li>
</ul>
<h2 id="基数排序"><a href="#基数排序" class="headerlink" title="基数排序"></a>基数排序</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">base_num</span><span class="params">(<span class="type">int</span> a[], <span class="type">int</span> len)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="comment">//知道数组中最大的数，然后创建临时数组[最大数+1]，初始化不可能出现的数</span></span><br><span class="line">	<span class="comment">//根据数组下标把数组放进临时数组里</span></span><br><span class="line">	<span class="comment">//把排好序的临时数组放回去---&gt;使用限制非常多</span></span><br><span class="line">	<span class="type">int</span> max = <span class="number">-5</span>;</span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; len; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">if</span> (max &lt;a[i])</span><br><span class="line">		&#123;</span><br><span class="line">			max = a[i];</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="type">int</span>* p = <span class="keyword">new</span> <span class="type">int</span>[max + <span class="number">1</span>];</span><br><span class="line">	<span class="built_in">memset</span>(p, <span class="number">-1</span>, <span class="built_in">sizeof</span>(<span class="type">int</span>)*(max<span class="number">+1</span>));</span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; len; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		p[a[i]] = a[i];</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="type">int</span> k = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; max<span class="number">+1</span>; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">if</span> (p[i]!= <span class="number">-1</span>)</span><br><span class="line">		&#123;</span><br><span class="line">			a[k++] = p[i];</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">delete</span>[] p;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>这种算法是时间复杂度最优的，也是最稳定的<del>没有之一</del>但是其限制很多</li>
</ul>
<ol>
<li>只能是正整数（有负数转成正数排完再转会负数）</li>
<li>不能有重复的数据</li>
<li>特别注意空间—&gt;最好是数字间都离得比较近，离得比较远就不合适了</li>
</ol>
<h2 id="桶排序"><a href="#桶排序" class="headerlink" title="桶排序"></a>桶排序</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">pail_num</span><span class="params">(<span class="type">int</span> a[], <span class="type">int</span> len)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="comment">//把数据分类，再用其他的排序方法排序，再组合到一起</span></span><br><span class="line">    <span class="comment">//找到最高位</span></span><br><span class="line">	<span class="type">int</span> Max = <span class="number">1</span>;</span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++)<span class="comment">//找到最高位，这个可以传参给的已知、int最高是21亿多所以遍历十次</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="type">int</span> n = <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; len; j++)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">if</span> (a[j]/ Max !=<span class="number">0</span>)</span><br><span class="line">			&#123;</span><br><span class="line">				n++;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span> (n==<span class="number">0</span>)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">break</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		Max *= <span class="number">10</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="type">int</span> wei = <span class="number">1</span>;</span><br><span class="line">	<span class="type">int</span>** p = <span class="keyword">new</span> <span class="type">int</span>* [<span class="number">10</span>];</span><br><span class="line">    <span class="comment">//创建二维数组</span></span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		p[i] = <span class="keyword">new</span> <span class="type">int</span>[len];</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">while</span> (wei&lt;Max)</span><br><span class="line">	&#123;</span><br><span class="line">        <span class="comment">//初始化二维数组</span></span><br><span class="line">		<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; len; j++)</span><br><span class="line">			&#123;</span><br><span class="line">				p[i][j] = <span class="number">-1</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="type">int</span> date;</span><br><span class="line">        <span class="comment">//把数据放进箱子里</span></span><br><span class="line">		<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; len; i++)</span><br><span class="line">		&#123;</span><br><span class="line">			date = a[i] / wei % <span class="number">10</span>;</span><br><span class="line">			p[date][i] = a[i];</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="type">int</span> k = <span class="number">0</span>;</span><br><span class="line">        <span class="comment">//数据从箱子里拿出来覆盖回原数组</span></span><br><span class="line">		<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; len; j++)</span><br><span class="line">			&#123;</span><br><span class="line">				<span class="keyword">if</span> (p[i][j]!=<span class="number">-1</span>)</span><br><span class="line">				&#123;</span><br><span class="line">					a[k++] = p[i][j];</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		wei *= <span class="number">10</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>牺牲空间，节约时间</li>
</ul>
<h2 id="分治思想下的几种排序："><a href="#分治思想下的几种排序：" class="headerlink" title="分治思想下的几种排序："></a>分治思想下的几种排序：</h2><h3 id="二分查找"><a href="#二分查找" class="headerlink" title="二分查找"></a>二分查找</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//二分查找---&gt;循环版</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">Binary_Search</span><span class="params">(<span class="type">int</span> a[],<span class="type">int</span> len,<span class="type">int</span> num)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="comment">//每次找数组的中间数，然后判断，如果是返回结果</span></span><br><span class="line">	<span class="comment">//如果大了，或者小了，就缩小边界直到找到，或者查找完成后没有</span></span><br><span class="line">	<span class="type">int</span> l = <span class="number">0</span>;</span><br><span class="line">	<span class="type">int</span> r = len - <span class="number">1</span>;</span><br><span class="line">	<span class="type">int</span> m ;</span><br><span class="line">	<span class="keyword">while</span> (<span class="number">1</span>)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">if</span> (l&gt;r)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		m = l + (r - l) / <span class="number">2</span>;</span><br><span class="line">		<span class="keyword">if</span> (a[m] ==num)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">return</span> m;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">if</span> (num&gt; a[m])</span><br><span class="line">		&#123;</span><br><span class="line">			l = m + <span class="number">1</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">if</span> (num&lt;a[m])</span><br><span class="line">		&#123;</span><br><span class="line">			r = m - <span class="number">1</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//二分查找---&gt;递归版</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">Binary_Search1</span><span class="params">(<span class="type">int</span> a[], <span class="type">int</span> l,<span class="type">int</span> r, <span class="type">int</span> num)</span></span></span><br><span class="line"><span class="function"></span>&#123;	    <span class="keyword">if</span> (l &gt; r)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	    <span class="type">int</span> m =  l + (r - l) / <span class="number">2</span> ;</span><br><span class="line">		<span class="keyword">if</span> (a[m] == num)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">return</span> m;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">if</span> (num &gt; a[m])</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">return</span> <span class="built_in">Binary_Search1</span>(a, m + <span class="number">1</span>, r, num);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">if</span> (num &lt; a[m])</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">return</span> <span class="built_in">Binary_Search1</span>(a, l, m<span class="number">-1</span>, num);</span><br><span class="line">		&#125;</span><br><span class="line">&#125;	</span><br></pre></td></tr></table></figure>

<ul>
<li>&#x3D;&#x3D;二分查找需要先排序后找&#x3D;&#x3D;</li>
</ul>
<h3 id="并归排序"><a href="#并归排序" class="headerlink" title="并归排序"></a>并归排序</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">merge</span><span class="params">(<span class="type">int</span> a[], <span class="type">int</span> l, <span class="type">int</span> m, <span class="type">int</span> r)</span></span>;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Separate_and_merge</span><span class="params">(<span class="type">int</span> a[], <span class="type">int</span> l,<span class="type">int</span> r)</span><span class="comment">//--&gt;这个是为了实现出现两个有序数组数组的</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="comment">//把数组分解为一个个元素，然后再有序的合并</span></span><br><span class="line">	<span class="comment">//更多的用处是为两个有序数组合并为一个的数组排序</span></span><br><span class="line">	<span class="keyword">if</span> (l&lt;r)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="type">int</span> m = l + (r - l) / <span class="number">2</span>;</span><br><span class="line">		<span class="built_in">Separate_and_merge</span>(a, l, m);</span><br><span class="line">		<span class="built_in">Separate_and_merge</span>(a, m + <span class="number">1</span>, r);</span><br><span class="line">		<span class="built_in">merge</span>(a, l,m, r);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//合---&gt;这才是主要的归并排序</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">merge</span><span class="params">(<span class="type">int</span> a[], <span class="type">int</span> l,<span class="type">int</span> m, <span class="type">int</span> r)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//创建存数据的暂时数组，把两个有顺序的数组左右做比较，谁小谁进临时数组里，把一边的数组比较完算结束</span></span><br><span class="line">	<span class="comment">//把剩下没有存入数组里的数直接存入数组里</span></span><br><span class="line">	<span class="type">int</span>* p = <span class="keyword">new</span> <span class="type">int</span>[r - l + <span class="number">1</span>];</span><br><span class="line">	<span class="type">int</span> l1 = l;</span><br><span class="line">	<span class="type">int</span> Newr = m + <span class="number">1</span>;</span><br><span class="line">	<span class="type">int</span> k=<span class="number">0</span>;</span><br><span class="line">	<span class="keyword">while</span> (l1 &lt;= m &amp;&amp; Newr &lt;= r)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">if</span> (a[l1]&lt;a[Newr])</span><br><span class="line">		&#123;</span><br><span class="line">			p[k++] = a[l1++];</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span></span><br><span class="line">		&#123;</span><br><span class="line">			p[k++] = a[Newr++];</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">while</span> (l1&lt;=m)</span><br><span class="line">	&#123;</span><br><span class="line">		p[k++] = a[l1++];</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">while</span> (Newr&lt;=r)</span><br><span class="line">	&#123;</span><br><span class="line">		p[k++] = a[Newr++];</span><br><span class="line">	&#125;</span><br><span class="line">	k = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> i = l; i &lt;=r ; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		a[i] = p[k++];</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">delete</span>[] p;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>这种排序适合两个有序数组合并后排序，尽量不正常数组排序，没有基数排序快</li>
</ul>
<h3 id="快速排序"><a href="#快速排序" class="headerlink" title="快速排序"></a>快速排序</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//快速排序--&gt;效率高一些的分组排序</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">quick</span><span class="params">(<span class="type">int</span> a[], <span class="type">int</span> l, <span class="type">int</span> r)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//找一个数当中间数，比他大的放右边小的放左边，然后两边重复做这样的操作，直到分解为不能分解结束</span></span><br><span class="line">	<span class="keyword">if</span> (l&gt;r)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">return</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="type">int</span> l1 = l;</span><br><span class="line">	<span class="type">int</span> r1 = r;</span><br><span class="line">	<span class="type">int</span> t = a[l1];</span><br><span class="line">	<span class="keyword">while</span> (l1&lt;r1)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">while</span> (a[r1]&gt;t)</span><br><span class="line">		&#123;</span><br><span class="line">			r1--;</span><br><span class="line">		&#125;</span><br><span class="line">		a[l1] = a[r1];</span><br><span class="line">		<span class="keyword">while</span> (l1&lt;r1&amp;&amp;a[l1]&lt;t)</span><br><span class="line">		&#123;</span><br><span class="line">			l1++;</span><br><span class="line">		&#125;</span><br><span class="line">		a[r1] = a[l1];</span><br><span class="line">	&#125;</span><br><span class="line">	a[l1] = t;</span><br><span class="line">	<span class="built_in">quick</span>(a, l, l1<span class="number">-1</span>);</span><br><span class="line">	<span class="built_in">quick</span>(a, l1 + <span class="number">1</span>, r);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="二叉树"><a href="#二叉树" class="headerlink" title="二叉树"></a>二叉树</h1><h2 id="先了解树"><a href="#先了解树" class="headerlink" title="先了解树"></a>先了解树</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//创建一个树的结构，这个结构功能有</span></span><br><span class="line"><span class="comment">//增删改查</span></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">class</span> <span class="title class_">T</span>&gt;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Mytree</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">	<span class="keyword">struct</span> <span class="title class_">Node</span></span><br><span class="line">	&#123;</span><br><span class="line">		Node* on;</span><br><span class="line">		Node* down;</span><br><span class="line">		Node* r;</span><br><span class="line">		T i;</span><br><span class="line">	&#125;;</span><br><span class="line">	Node* tree;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="built_in">Mytree</span>()</span><br><span class="line">	&#123;</span><br><span class="line">		tree = <span class="literal">NULL</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	~<span class="built_in">Mytree</span>()</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">DeleteThis</span>();</span><br><span class="line">		tree = <span class="literal">NULL</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">//创建</span></span><br><span class="line">	<span class="comment">//创建：首先确定是往下，还是横向，要是有横向成员了，默认只能往后增加，往下同理,如果没有寻找到默认加到根旁边</span></span><br><span class="line">	<span class="function"><span class="type">void</span> <span class="title">create</span><span class="params">(T i,<span class="type">int</span> n<span class="comment">/*第几个*/</span>, <span class="type">bool</span> on = <span class="literal">true</span><span class="comment">/*往下*/</span>)</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (tree==<span class="literal">NULL</span>)</span><br><span class="line">		&#123;</span><br><span class="line">			tree = <span class="keyword">new</span> Node;</span><br><span class="line">			tree-&gt;i = i;</span><br><span class="line">			tree-&gt;down = <span class="literal">NULL</span>;</span><br><span class="line">			tree-&gt;on = <span class="literal">NULL</span>;</span><br><span class="line">			tree-&gt;r = <span class="literal">NULL</span>;</span><br><span class="line">			<span class="keyword">return</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="type">int</span> t = n - <span class="number">1</span>;</span><br><span class="line">		Node* one = <span class="keyword">new</span> Node;</span><br><span class="line">		one-&gt;down = <span class="literal">NULL</span>;</span><br><span class="line">		one-&gt;on = <span class="literal">NULL</span>;</span><br><span class="line">		one-&gt;r = <span class="literal">NULL</span>;</span><br><span class="line">		Node* next = tree;</span><br><span class="line">		<span class="keyword">if</span> (on)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">for</span> (t;t&gt;<span class="number">0</span>;t--)</span><br><span class="line">			&#123;</span><br><span class="line">				<span class="keyword">if</span> (next-&gt;down ==<span class="literal">NULL</span>)</span><br><span class="line">				&#123;</span><br><span class="line">					next-&gt;down = one;</span><br><span class="line">					one-&gt;on = next;</span><br><span class="line">					one-&gt;i = i;</span><br><span class="line">					<span class="keyword">return</span>;</span><br><span class="line">				&#125;</span><br><span class="line">				next = next-&gt;down;</span><br><span class="line">			&#125;</span><br><span class="line">			next-&gt;down = one;</span><br><span class="line">			one-&gt;on = next;</span><br><span class="line">			one-&gt;i = i;</span><br><span class="line">			<span class="keyword">return</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span></span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">for</span> (t; t &gt; <span class="number">0</span>; t--)</span><br><span class="line">			&#123;</span><br><span class="line">				<span class="keyword">if</span> (next-&gt;down == <span class="literal">NULL</span>)</span><br><span class="line">				&#123;</span><br><span class="line">					Node* p = next-&gt;on;</span><br><span class="line">					<span class="keyword">while</span> (next-&gt;r)</span><br><span class="line">					&#123;</span><br><span class="line">						next = next-&gt;r;</span><br><span class="line">					&#125;</span><br><span class="line">					next-&gt;r = one;</span><br><span class="line">					one-&gt;on = p;</span><br><span class="line">					one-&gt;i = i;</span><br><span class="line">					<span class="keyword">return</span>;</span><br><span class="line">				&#125;</span><br><span class="line">				next = next-&gt;down;</span><br><span class="line">			&#125;</span><br><span class="line">			Node* p = next-&gt;on;</span><br><span class="line">			<span class="keyword">while</span> (next-&gt;r)</span><br><span class="line">			&#123;</span><br><span class="line">				next = next-&gt;r;</span><br><span class="line">			&#125;</span><br><span class="line">			next-&gt;r = one;</span><br><span class="line">			one-&gt;on = p;</span><br><span class="line">			one-&gt;i = i;</span><br><span class="line">			<span class="keyword">return</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">//输出</span></span><br><span class="line">	<span class="function"><span class="type">void</span> <span class="title">Mycout</span><span class="params">()</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		Node* p1=tree;</span><br><span class="line">		Node* p2;</span><br><span class="line">		<span class="keyword">while</span> (p1)</span><br><span class="line">		&#123;</span><br><span class="line">			p2 = p1;</span><br><span class="line">			<span class="keyword">while</span> (p2)</span><br><span class="line">			&#123;</span><br><span class="line">				cout &lt;&lt; p2-&gt;i &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">				p2=p2-&gt;r;</span><br><span class="line">			&#125;</span><br><span class="line">			p1=p1-&gt;down;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">//删除</span></span><br><span class="line">	<span class="comment">//删除：找到要删掉的节点，把这支删掉,然后把其他的缝上</span></span><br><span class="line">	<span class="function"><span class="type">void</span> <span class="title">Mydelete</span><span class="params">(T i)</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		Node* p1 = tree;</span><br><span class="line">		Node* p2;</span><br><span class="line">		<span class="keyword">while</span> (p1)</span><br><span class="line">		&#123;</span><br><span class="line">			p2 = p1;</span><br><span class="line">			<span class="keyword">while</span> (p2)</span><br><span class="line">			&#123;</span><br><span class="line">				<span class="keyword">if</span> (p2-&gt;i==i)</span><br><span class="line">				&#123;</span><br><span class="line">					p2-&gt;on-&gt;down = p2-&gt;down;</span><br><span class="line">					p2-&gt;down-&gt;r = p2-&gt;r;</span><br><span class="line">					<span class="keyword">delete</span> p2;</span><br><span class="line">					<span class="keyword">return</span>;</span><br><span class="line">				&#125;</span><br><span class="line">				<span class="keyword">else</span> <span class="keyword">if</span> (p2-&gt;r!=<span class="literal">NULL</span>&amp;&amp;p2-&gt;r-&gt;i==i)</span><br><span class="line">				&#123;</span><br><span class="line">					Node* p3 = p2;</span><br><span class="line">					p3-&gt;r = p3-&gt;r-&gt;r;</span><br><span class="line">					<span class="keyword">delete</span> p2-&gt;r;</span><br><span class="line">					<span class="keyword">return</span>;</span><br><span class="line">				&#125;</span><br><span class="line">				p2 = p2-&gt;r;</span><br><span class="line">			&#125;</span><br><span class="line">			p1 = p1-&gt;down;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">//注销树</span></span><br><span class="line">	<span class="function"><span class="type">void</span> <span class="title">DeleteThis</span><span class="params">()</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		Node* p1 = tree;</span><br><span class="line">		Node* p2;</span><br><span class="line">		<span class="keyword">while</span> (p1)</span><br><span class="line">		&#123;</span><br><span class="line">			p2 = p1;</span><br><span class="line">			p1 = p1-&gt;down;</span><br><span class="line">			<span class="keyword">while</span> (p2)</span><br><span class="line">			&#123;</span><br><span class="line">				Node* p3 = p2;</span><br><span class="line">				p2 = p2-&gt;r;</span><br><span class="line">				<span class="keyword">delete</span> p3;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">//修改树</span></span><br><span class="line">	<span class="function"><span class="type">void</span> <span class="title">change</span><span class="params">(T i,T i1)</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		Node* p1 = tree;</span><br><span class="line">		Node* p2;</span><br><span class="line">		<span class="keyword">while</span> (p1)</span><br><span class="line">		&#123;</span><br><span class="line">			p2 = p1;</span><br><span class="line">			<span class="keyword">while</span> (p2)</span><br><span class="line">			&#123;</span><br><span class="line">				<span class="keyword">if</span> (p2-&gt;i == i)</span><br><span class="line">				&#123;</span><br><span class="line">					p2-&gt;i = i1;</span><br><span class="line">					<span class="keyword">return</span>;</span><br><span class="line">				&#125;</span><br><span class="line">				p2 = p2-&gt;r;</span><br><span class="line">			&#125;</span><br><span class="line">			p1 = p1-&gt;down;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h2 id="无序二叉树"><a href="#无序二叉树" class="headerlink" title="无序二叉树"></a>无序二叉树</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">class</span> <span class="title class_">T</span>&gt;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Mytree</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="comment">//树自身本来就有递归的特性，所以需要用递归</span></span><br><span class="line">	<span class="comment">/*已知 中序遍历 和 先序遍历  能推导出  后序遍历</span></span><br><span class="line"><span class="comment">		已知 中序遍历 和 后序遍历  能推导出  先序遍历</span></span><br><span class="line"><span class="comment">		已知 先序遍历 和 后序遍历, 推导不出*/</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">	<span class="keyword">struct</span> <span class="title class_">Node</span></span><br><span class="line">	&#123;</span><br><span class="line">		Node* l;</span><br><span class="line">		Node* r;</span><br><span class="line">		T date;</span><br><span class="line">		<span class="built_in">Node</span>(<span class="type">const</span> T date)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">this</span>-&gt;date = date;</span><br><span class="line">			l = r = <span class="literal">NULL</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;;</span><br><span class="line">	Node* p;</span><br><span class="line">	<span class="comment">//插入</span></span><br><span class="line">	<span class="type">bool</span> _insort(T date, Node*&amp; p)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="comment">//首先是判断指针是否为空</span></span><br><span class="line">		<span class="keyword">if</span> (p==<span class="literal">NULL</span>)</span><br><span class="line">		&#123;</span><br><span class="line">			p = <span class="keyword">new</span> <span class="built_in">Node</span>(date);</span><br><span class="line">			<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="comment">//然后数据放在做还是右-&gt;用标记法</span></span><br><span class="line">		<span class="keyword">if</span> (p-&gt;date==TAG)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span> (_insort(date, p-&gt;l))</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> _insort(date, p-&gt;r);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">//先序 根 左 右</span></span><br><span class="line">	<span class="type">void</span> _preTravel(Node*p)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">if</span> (p==<span class="literal">NULL</span>)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">return</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		cout &lt;&lt; p-&gt;date &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">		_preTravel(p-&gt;l);</span><br><span class="line">		_preTravel(p-&gt;r);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">//中序 左 根 右</span></span><br><span class="line">	<span class="type">void</span> _midTravel(Node* p)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">if</span> (p == <span class="literal">NULL</span>)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">return</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		_midTravel(p-&gt;l);</span><br><span class="line">		cout &lt;&lt; p-&gt;date &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">		_midTravel(p-&gt;r);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">//后序 左 右 根</span></span><br><span class="line">	<span class="type">void</span> _lstTravel(Node* p)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">if</span> (p == <span class="literal">NULL</span>)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">return</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		_lstTravel(p-&gt;l);</span><br><span class="line">		_lstTravel(p-&gt;r);</span><br><span class="line">		cout &lt;&lt; p-&gt;date &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">	&#125;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="built_in">Mytree</span>()</span><br><span class="line">	&#123;</span><br><span class="line">		p = <span class="literal">NULL</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	~<span class="built_in">Mytree</span>()</span><br><span class="line">	&#123;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="type">void</span> <span class="title">insort</span><span class="params">(T date)</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		_insort(date, p);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">//遍历</span></span><br><span class="line">	<span class="comment">//type为-1 先序 type为0 中序 type为1 后序</span></span><br><span class="line">	<span class="function"><span class="type">void</span> <span class="title">travel</span><span class="params">(<span class="type">int</span> type)</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		<span class="keyword">switch</span> (type)</span><br><span class="line">		&#123;</span><br><span class="line">		<span class="keyword">case</span> <span class="number">-1</span>:</span><br><span class="line">			cout &lt;&lt; <span class="string">&quot;先序遍历：&quot;</span>; _preTravel(p); cout &lt;&lt; endl;</span><br><span class="line">			<span class="keyword">break</span>;</span><br><span class="line">		<span class="keyword">case</span> <span class="number">0</span>:cout &lt;&lt; <span class="string">&quot;中序遍历：&quot;</span>; _midTravel(p); cout &lt;&lt; endl;</span><br><span class="line">			<span class="keyword">break</span>;</span><br><span class="line">		<span class="keyword">case</span> <span class="number">1</span>:cout &lt;&lt; <span class="string">&quot;后序遍历：&quot;</span>; _lstTravel(p); cout &lt;&lt; endl;</span><br><span class="line">			<span class="keyword">break</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h2 id="有序二叉树"><a href="#有序二叉树" class="headerlink" title="有序二叉树"></a>有序二叉树</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">class</span> <span class="title class_">T</span>&gt;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Mytree</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="comment">//增删查-&gt;因为要有序所以不能改</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">	<span class="keyword">struct</span> <span class="title class_">Node</span></span><br><span class="line">	&#123;<span class="comment">//节点</span></span><br><span class="line">		Node* l;</span><br><span class="line">		Node* r;</span><br><span class="line">		T date;</span><br><span class="line">		<span class="built_in">Node</span>(T date)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">this</span>-&gt;date = date;</span><br><span class="line">			l = r = <span class="literal">NULL</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;;</span><br><span class="line">	Node* p;</span><br><span class="line">	<span class="type">void</span> _insert(T date,Node*&amp; p)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="comment">//有序二叉树是要从高到低插入数据-&gt;升序：左&lt;中&lt;右</span></span><br><span class="line">		<span class="keyword">if</span> (p==<span class="literal">NULL</span>)</span><br><span class="line">		&#123;</span><br><span class="line">			p = <span class="keyword">new</span> <span class="built_in">Node</span>(date);</span><br><span class="line">			<span class="keyword">return</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span> (p-&gt;date&lt;=date)</span><br><span class="line">		&#123;</span><br><span class="line">			_insert(date, p-&gt;r);</span><br><span class="line">				<span class="keyword">return</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">if</span> (p-&gt;date &gt; date)</span><br><span class="line">		&#123;</span><br><span class="line">			_insert(date, p-&gt;l);</span><br><span class="line">				<span class="keyword">return</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">//先序</span></span><br><span class="line">	<span class="type">void</span> _preTravel(Node* root)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">if</span> (root==<span class="literal">NULL</span>)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">return</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		cout &lt;&lt; root-&gt;date &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">		_preTravel(root-&gt;l);</span><br><span class="line">		_preTravel(root-&gt;r);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">//中序</span></span><br><span class="line">	<span class="type">void</span> _midTravel(Node* root)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">if</span> (root == <span class="literal">NULL</span>)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">return</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		_midTravel(root-&gt;l);</span><br><span class="line">		cout &lt;&lt; root-&gt;date &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">		_midTravel(root-&gt;r);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">//后序</span></span><br><span class="line">	<span class="type">void</span> _lstTravel(Node* root)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">if</span> (root == <span class="literal">NULL</span>)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">return</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		_lstTravel(root-&gt;l);</span><br><span class="line">		_lstTravel(root-&gt;r);</span><br><span class="line">		cout &lt;&lt; root-&gt;date &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">//清除树</span></span><br><span class="line">	<span class="type">void</span> _close(Node* p)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">if</span> (p==<span class="literal">NULL</span>)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">return</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		_close(p-&gt;l);</span><br><span class="line">		_close(p-&gt;r);</span><br><span class="line">		<span class="keyword">delete</span> p;</span><br><span class="line">		p = <span class="literal">NULL</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">//查找</span></span><br><span class="line">	Node* _findNode(T date,Node* p)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">if</span> (p-&gt;date==date)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">return</span> p;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span> (p-&gt;r == <span class="literal">NULL</span> &amp;&amp; p-&gt;l == <span class="literal">NULL</span>)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span> (p-&gt;date &gt; date)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">return</span> _findNode(date, p-&gt;l);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span></span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">return</span> _findNode(date, p-&gt;r);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="built_in">Mytree</span>()</span><br><span class="line">	&#123;</span><br><span class="line">		p = <span class="literal">NULL</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	~<span class="built_in">Mytree</span>()</span><br><span class="line">	&#123;</span><br><span class="line">		_close(p);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">//插入树</span></span><br><span class="line">	<span class="function"><span class="type">void</span> <span class="title">insert</span><span class="params">(T date)</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		_insert(date, p);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">//遍历</span></span><br><span class="line">	<span class="comment">//遍历  type为-1 先序 type为0 中序 type为1 后序</span></span><br><span class="line">	<span class="function"><span class="type">void</span> <span class="title">travel</span><span class="params">(<span class="type">int</span> type)</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		<span class="keyword">switch</span> (type)</span><br><span class="line">		&#123;</span><br><span class="line">		<span class="keyword">case</span> <span class="number">-1</span>: cout &lt;&lt; <span class="string">&quot;先序：&quot;</span>; _preTravel(p); cout &lt;&lt; endl;</span><br><span class="line">			<span class="keyword">break</span>;</span><br><span class="line">		<span class="keyword">case</span> <span class="number">0</span>: cout &lt;&lt; <span class="string">&quot;中序：&quot;</span>; _midTravel(p); cout &lt;&lt; endl;</span><br><span class="line">			<span class="keyword">break</span>;</span><br><span class="line">		<span class="keyword">case</span> <span class="number">1</span>:cout &lt;&lt; <span class="string">&quot;后序：&quot;</span>; _lstTravel(p); cout &lt;&lt; endl;</span><br><span class="line">			<span class="keyword">break</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">//查找</span></span><br><span class="line">	<span class="function">Node* <span class="title">findNode</span><span class="params">(T date)</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		Node* ps = _findNode(date, p);</span><br><span class="line">		<span class="keyword">if</span> (ps)</span><br><span class="line">		&#123;</span><br><span class="line">			cout &lt;&lt; <span class="string">&quot;找到了！&quot;</span> &lt;&lt; endl;</span><br><span class="line">			<span class="keyword">return</span> ps;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span></span><br><span class="line">		&#123;</span><br><span class="line">			cout &lt;&lt; <span class="string">&quot;没找到！&quot;</span> &lt;&lt; endl;</span><br><span class="line">			<span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">//删除</span></span><br><span class="line">	<span class="function"><span class="type">void</span> <span class="title">deleteNode</span><span class="params">(T data)</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		Node* root= _findNode(data, p);</span><br><span class="line">		<span class="keyword">if</span> (root==<span class="literal">NULL</span>)</span><br><span class="line">		&#123;</span><br><span class="line">			cout &lt;&lt; <span class="string">&quot;删除失败，没找到&quot;</span> &lt;&lt; endl;</span><br><span class="line">			<span class="keyword">return</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="comment">//判断根节点，干节点</span></span><br><span class="line">		Node* pd = <span class="literal">NULL</span>;</span><br><span class="line">		<span class="keyword">if</span> (root==<span class="keyword">this</span>-&gt;p)</span><br><span class="line">		&#123;</span><br><span class="line">			pd = <span class="keyword">this</span>-&gt;p;</span><br><span class="line">			<span class="keyword">if</span> (root-&gt;r!=<span class="literal">NULL</span>)</span><br><span class="line">			&#123;</span><br><span class="line">				<span class="comment">//把左边的放在右边第一个的最左边</span></span><br><span class="line">				Node* ps = root-&gt;r;</span><br><span class="line">				<span class="keyword">while</span> (ps-&gt;l)</span><br><span class="line">				&#123;</span><br><span class="line">					ps = ps-&gt;l;</span><br><span class="line">				&#125;</span><br><span class="line">				<span class="keyword">this</span>-&gt;p = root-&gt;r;</span><br><span class="line">				ps-&gt;l = root-&gt;l;</span><br><span class="line">				<span class="keyword">delete</span> pd;</span><br><span class="line">				<span class="keyword">return</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">else</span></span><br><span class="line">			&#123;</span><br><span class="line">				<span class="keyword">this</span>-&gt;p = root-&gt;l;</span><br><span class="line">				<span class="keyword">delete</span> pd;</span><br><span class="line">				<span class="keyword">return</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	      <span class="comment">//不是根节点</span></span><br><span class="line">		 <span class="comment">//把左边的放在右边第一个的最左边</span></span><br><span class="line">		Node* Prevpd = <span class="literal">NULL</span>;</span><br><span class="line">		pd = <span class="keyword">this</span>-&gt;p;</span><br><span class="line">		<span class="keyword">while</span> (pd!=root)</span><br><span class="line">		&#123;</span><br><span class="line">			Prevpd = pd;</span><br><span class="line">			<span class="keyword">if</span> (pd-&gt;date&gt;root-&gt;date)</span><br><span class="line">			&#123;</span><br><span class="line">				pd = pd-&gt;l;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">else</span> <span class="keyword">if</span> (pd-&gt;date &lt; root-&gt;date)</span><br><span class="line">			&#123;</span><br><span class="line">				pd = pd-&gt;r;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		pd = root;</span><br><span class="line">		<span class="keyword">if</span> (root==Prevpd-&gt;l)</span><br><span class="line">		&#123;<span class="comment">//删除的是左边的</span></span><br><span class="line">			<span class="keyword">if</span> (root-&gt;r!=<span class="literal">NULL</span>)</span><br><span class="line">			&#123;<span class="comment">//右边有枝</span></span><br><span class="line">			<span class="comment">//把左边的放在右边第一个的最左边</span></span><br><span class="line">				Node* ps = root-&gt;r;</span><br><span class="line">				<span class="keyword">while</span> (ps-&gt;l)</span><br><span class="line">				&#123;</span><br><span class="line">					ps = ps-&gt;l;</span><br><span class="line">				&#125;</span><br><span class="line">				Prevpd-&gt;l= root-&gt;r;</span><br><span class="line">				ps-&gt;l = root-&gt;l;</span><br><span class="line">				<span class="keyword">delete</span> pd;</span><br><span class="line">				<span class="keyword">return</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">else</span></span><br><span class="line">			&#123;</span><br><span class="line">				Prevpd-&gt;l = root-&gt;l;</span><br><span class="line">				<span class="keyword">delete</span> pd;</span><br><span class="line">				<span class="keyword">return</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">if</span>(root == Prevpd-&gt;r)</span><br><span class="line">		&#123;<span class="comment">//删除的是右边的</span></span><br><span class="line">			<span class="keyword">if</span> (root-&gt; r!= <span class="literal">NULL</span>)</span><br><span class="line">			&#123;<span class="comment">//右边有枝</span></span><br><span class="line">			<span class="comment">//把左边的放在右边第一个的最左边</span></span><br><span class="line">				Node* ps = root-&gt;r;</span><br><span class="line">				<span class="keyword">while</span> (ps-&gt;l)</span><br><span class="line">				&#123;</span><br><span class="line">					ps = ps-&gt;l;</span><br><span class="line">				&#125;</span><br><span class="line">				Prevpd-&gt;r = root-&gt;r;</span><br><span class="line">				ps-&gt;l = root-&gt;l;</span><br><span class="line">				<span class="keyword">delete</span> pd;</span><br><span class="line">				<span class="keyword">return</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">else</span></span><br><span class="line">			&#123;</span><br><span class="line">				Prevpd-&gt;r = root-&gt;r;</span><br><span class="line">				<span class="keyword">delete</span> pd;</span><br><span class="line">				<span class="keyword">return</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h1 id="深度寻路算法"><a href="#深度寻路算法" class="headerlink" title="深度寻路算法"></a>深度寻路算法</h1><ul>
<li>需要用到栈，所以🤤</li>
</ul>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;memory&gt;</span></span></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">class</span> <span class="title class_">T</span>&gt;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Mystand</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">	T* p;</span><br><span class="line">	<span class="type">int</span> len;</span><br><span class="line">	<span class="type">int</span> maxlen;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="built_in">Mystand</span>()</span><br><span class="line">	&#123;</span><br><span class="line">		len = maxlen = <span class="number">0</span>;</span><br><span class="line">			p = <span class="literal">NULL</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	~<span class="built_in">Mystand</span>()</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">if</span> (p)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">delete</span> p;</span><br><span class="line">		&#125;</span><br><span class="line">		len = maxlen = <span class="number">0</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">//插入</span></span><br><span class="line">	<span class="function"><span class="type">void</span> <span class="title">push</span><span class="params">(T i)</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		<span class="comment">//判断是否需要新开内存</span></span><br><span class="line">		<span class="keyword">if</span> (maxlen&lt;=len)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="comment">//计算开辟的内存大小-&gt;当不足1的时候就是1大于1的时候就这1.5</span></span><br><span class="line">			maxlen=maxlen+ (((maxlen &gt;&gt; <span class="number">1</span>) &gt; <span class="number">1</span>) ? (maxlen &gt;&gt; <span class="number">1</span>) : <span class="number">1</span>);</span><br><span class="line">			<span class="comment">//开内存</span></span><br><span class="line">			T* t = <span class="keyword">new</span> T[maxlen];</span><br><span class="line">			<span class="keyword">if</span> (p)</span><br><span class="line">			&#123;</span><br><span class="line">				<span class="built_in">memcpy</span>(t, p, <span class="built_in">sizeof</span>(T) * len);</span><br><span class="line">				<span class="keyword">delete</span>[] p;</span><br><span class="line">			&#125;</span><br><span class="line">			p = t;</span><br><span class="line">		&#125;</span><br><span class="line">		p[len++]=i;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">//删除</span></span><br><span class="line">	<span class="function"><span class="type">void</span> <span class="title">pop</span><span class="params">()</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (len &gt; <span class="number">0</span>) len--;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">//返回顶端元素</span></span><br><span class="line">	<span class="function">T <span class="title">GetTop</span><span class="params">()</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		<span class="keyword">return</span> p[len<span class="number">-1</span>];</span><br><span class="line">	 &#125;</span><br><span class="line">	<span class="comment">//判断栈是否为空</span></span><br><span class="line">	<span class="function"><span class="type">bool</span> <span class="title">isEmpty</span><span class="params">()</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (len==<span class="number">0</span>)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<ul>
<li>这就是栈啦，很简单，比顺序表简单。主意在删除功能中，我们是不用释放内存的，因为我们本来就是要设置内存是大于存储大小的，当需要加入元素的时候可以很好的直接改变元素就行</li>
</ul>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;Windows.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&quot;栈.h&quot;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="meta">#<span class="keyword">define</span> ROWS 10</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> COLS 10</span></span><br><span class="line"><span class="keyword">enum</span> <span class="title class_">direct</span>&#123;_up=<span class="number">0</span>,_right,_down,_left&#125;;</span><br><span class="line"><span class="comment">//每个地图节点状态</span></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">pathNode</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">int</span>     dir;</span><br><span class="line">	<span class="type">bool</span>	isFind;	<span class="comment">//false 0 没有走过  true 1 走过-&gt;方便初始化</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">//点类型</span></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">MyPoint</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">int</span> row;</span><br><span class="line">	<span class="type">int</span> cols;</span><br><span class="line">	<span class="type">bool</span> <span class="keyword">operator</span> ==(MyPoint p1)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">if</span> (row == p<span class="number">1.</span>row &amp;&amp; cols == p<span class="number">1.</span>cols) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">		<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">//绘图</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">printMap</span><span class="params">(<span class="type">int</span> map[ROWS][COLS], MyPoint pos)</span> </span>&#123;</span><br><span class="line">	<span class="built_in">system</span>(<span class="string">&quot;cls&quot;</span>);</span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; ROWS; i++) &#123;</span><br><span class="line">		<span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; COLS; j++) &#123;</span><br><span class="line">			<span class="keyword">if</span> (i == pos.row &amp;&amp; j == pos.cols) &#123;</span><br><span class="line">				<span class="built_in">printf</span>(<span class="string">&quot;人&quot;</span>);</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">else</span> <span class="keyword">if</span> (<span class="number">1</span> == map[i][j]) &#123;</span><br><span class="line">				<span class="built_in">printf</span>(<span class="string">&quot;墙&quot;</span>);</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">else</span> <span class="keyword">if</span> (<span class="number">0</span> == map[i][j]) &#123;</span><br><span class="line">				<span class="built_in">printf</span>(<span class="string">&quot;  &quot;</span>);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//创建地图</span></span><br><span class="line">	<span class="type">int</span> map[ROWS][COLS] = &#123;</span><br><span class="line">		&#123; <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span> &#125;,</span><br><span class="line">		&#123; <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span> &#125;,</span><br><span class="line">		&#123; <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span> &#125;,</span><br><span class="line">		&#123; <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span> &#125;,</span><br><span class="line">		&#123; <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span> &#125;,</span><br><span class="line">		&#123; <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span> &#125;,</span><br><span class="line">		&#123; <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span> &#125;,</span><br><span class="line">		&#123; <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span> &#125;,</span><br><span class="line">	    &#123; <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span> &#125;,</span><br><span class="line">		&#123; <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span> &#125;</span><br><span class="line">	&#125;;</span><br><span class="line">	<span class="comment">//初始化辅助地图</span></span><br><span class="line">	pathNode pathMap[ROWS][COLS] = &#123; <span class="number">0</span> &#125;;</span><br><span class="line">	<span class="comment">//创建一个栈</span></span><br><span class="line">	Mystand&lt;MyPoint&gt; stand;</span><br><span class="line">	MyPoint begPos = &#123; <span class="number">1</span>, <span class="number">1</span> &#125;;<span class="comment">//起点</span></span><br><span class="line">	MyPoint endPos = &#123; <span class="number">8</span>, <span class="number">1</span> &#125;;<span class="comment">//终点</span></span><br><span class="line">	<span class="comment">//起始点入栈</span></span><br><span class="line">	stand.<span class="built_in">push</span>(begPos);</span><br><span class="line">	<span class="comment">//标记走过的点</span></span><br><span class="line">	pathMap[begPos.row][begPos.cols].isFind = <span class="literal">true</span>;</span><br><span class="line">	<span class="comment">//当前位置</span></span><br><span class="line">	MyPoint nowp = begPos;</span><br><span class="line">	<span class="comment">//探索位置</span></span><br><span class="line">	MyPoint text;</span><br><span class="line">	<span class="comment">//是否着找到终点</span></span><br><span class="line">	<span class="type">bool</span> YesorNo = <span class="literal">false</span>;</span><br><span class="line">	<span class="keyword">while</span> (<span class="number">1</span>)</span><br><span class="line">	&#123;<span class="comment">//循环寻路</span></span><br><span class="line">		<span class="comment">//找探索点</span></span><br><span class="line">		text = nowp;</span><br><span class="line">		<span class="comment">//判断所在的点的方向</span></span><br><span class="line">		<span class="keyword">switch</span> (pathMap[nowp.row][nowp.cols].dir)</span><br><span class="line">		&#123;</span><br><span class="line">		<span class="keyword">case</span> _up:</span><br><span class="line">			text.row--;<span class="comment">//探索点</span></span><br><span class="line">			pathMap[nowp.row][nowp.cols].dir++;<span class="comment">//改变找的方向-&gt;记录当前找的方向的下一个方向</span></span><br><span class="line">			<span class="comment">//地图是否是路，是否没有走过</span></span><br><span class="line">			<span class="keyword">if</span> (map[text.row][text.cols]==<span class="number">0</span>&amp;&amp;pathMap[text.row][text.cols].isFind==<span class="literal">false</span>)</span><br><span class="line">			&#123;</span><br><span class="line">				<span class="comment">//满足条件，直接试探点成为走的点</span></span><br><span class="line">				nowp = text;</span><br><span class="line">				<span class="comment">//地图状态设置</span></span><br><span class="line">				pathMap[text.row][text.cols].isFind = <span class="literal">true</span>;</span><br><span class="line">				<span class="comment">//进入栈</span></span><br><span class="line">				stand.<span class="built_in">push</span>(nowp);</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">break</span>;</span><br><span class="line">		<span class="keyword">case</span> _right:</span><br><span class="line">			text.cols++;</span><br><span class="line">			pathMap[nowp.row][nowp.cols].dir++;</span><br><span class="line">			<span class="keyword">if</span> (map[text.row][text.cols] == <span class="number">0</span> &amp;&amp; pathMap[text.row][text.cols].isFind == <span class="literal">false</span>)</span><br><span class="line">			&#123;</span><br><span class="line">				nowp = text;</span><br><span class="line">				pathMap[text.row][text.cols].isFind = <span class="literal">true</span>;</span><br><span class="line">				stand.<span class="built_in">push</span>(nowp);</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">break</span>;</span><br><span class="line">		<span class="keyword">case</span> _down:</span><br><span class="line">			text.row++;</span><br><span class="line">			pathMap[nowp.row][nowp.cols].dir++;</span><br><span class="line">			<span class="keyword">if</span> (map[text.row][text.cols] == <span class="number">0</span> &amp;&amp; pathMap[text.row][text.cols].isFind == <span class="literal">false</span>)</span><br><span class="line">			&#123;</span><br><span class="line">				nowp = text;</span><br><span class="line">				pathMap[text.row][text.cols].isFind = <span class="literal">true</span>;</span><br><span class="line">				stand.<span class="built_in">push</span>(nowp);</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">break</span>;</span><br><span class="line">		<span class="keyword">case</span> _left:</span><br><span class="line">			text.cols--;</span><br><span class="line">			<span class="keyword">if</span> (map[text.row][text.cols] == <span class="number">0</span> &amp;&amp; pathMap[text.row][text.cols].isFind == <span class="literal">false</span>)</span><br><span class="line">			&#123;</span><br><span class="line">				nowp = text;</span><br><span class="line">				pathMap[text.row][text.cols].isFind = <span class="literal">true</span>;</span><br><span class="line">				stand.<span class="built_in">push</span>(nowp);</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">else</span></span><br><span class="line">			&#123;</span><br><span class="line">				<span class="comment">//回溯功能</span></span><br><span class="line">				stand.<span class="built_in">pop</span>();</span><br><span class="line">				nowp=stand.<span class="built_in">GetTop</span>();</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">break</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="built_in">Sleep</span>(<span class="number">200</span>);</span><br><span class="line">		<span class="built_in">printMap</span>(map,nowp);</span><br><span class="line">		<span class="comment">//判断是否找到终点</span></span><br><span class="line">		<span class="keyword">if</span> (endPos == nowp) &#123;</span><br><span class="line">			YesorNo = <span class="literal">true</span>;</span><br><span class="line">			<span class="keyword">break</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="comment">//判断栈是否为空</span></span><br><span class="line">		<span class="keyword">if</span> (stand.<span class="built_in">isEmpty</span>()) <span class="keyword">break</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="type">int</span> x, y;</span><br><span class="line">	<span class="keyword">if</span> (YesorNo) </span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;找到终点啦!\n&quot;</span>);</span><br><span class="line">		<span class="keyword">while</span> (!stand.<span class="built_in">isEmpty</span>()) &#123;</span><br><span class="line">			y = stand.<span class="built_in">GetTop</span>().row; x = stand.<span class="built_in">GetTop</span>().cols;</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">&quot;(%d,%d)&quot;</span>, y, x);</span><br><span class="line">			stand.<span class="built_in">pop</span>();</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;没有找到终点!\n&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li>这是深度寻路算法的核心代码，整体思路很简单，创建一个辅助用的地图，记录每个地图状态，以备需要时调用，然后点是相当于查路的机器人，把可以走的路记录在栈中 <del>地图</del>中。</li>
<li>这里简单说一下这个代码的逻辑，跟写其他的程序一样，分为4步骤-&gt;创建变量，初始化变量，循环中{ 铺设地图 更新数据 }</li>
</ul>
<h1 id="广度寻路算法"><a href="#广度寻路算法" class="headerlink" title="广度寻路算法"></a>广度寻路算法</h1><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;memory&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="meta">#<span class="keyword">define</span> ROWS 10</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> COLS 10</span></span><br><span class="line"><span class="keyword">enum</span> &#123;_up=<span class="number">0</span>,_right,_down,_left&#125;;</span><br><span class="line"><span class="comment">//点</span></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">MyPoint</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">int</span> x;</span><br><span class="line">	<span class="type">int</span> y;</span><br><span class="line">	<span class="type">bool</span> <span class="keyword">operator</span>==(MyPoint p)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">return</span> (x == p.x &amp;&amp; y == p.y);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">//树的节点</span></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Mytree</span></span><br><span class="line">&#123;</span><br><span class="line">	MyPoint pos;<span class="comment">//坐标</span></span><br><span class="line">	Mytree*  fth;</span><br><span class="line">	vector&lt;Mytree*&gt; p;<span class="comment">//指向四周的指针</span></span><br><span class="line">	<span class="comment">//构造函数</span></span><br><span class="line">	<span class="built_in">Mytree</span>()</span><br><span class="line">	&#123;</span><br><span class="line">		fth = <span class="literal">NULL</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">Mytree</span>(MyPoint p)</span><br><span class="line">	&#123;</span><br><span class="line">		fth = <span class="literal">NULL</span>;</span><br><span class="line">		pos = p;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="type">int</span> map[ROWS][COLS] = &#123;</span><br><span class="line">		&#123; <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span> &#125;,</span><br><span class="line">		&#123; <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">1</span> &#125;,</span><br><span class="line">		&#123; <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">1</span> &#125;,</span><br><span class="line">		&#123; <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span> &#125;,</span><br><span class="line">		&#123; <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span> &#125;,</span><br><span class="line">		&#123; <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span> &#125;,</span><br><span class="line">		&#123; <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span> &#125;,</span><br><span class="line">		&#123; <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span> &#125;,</span><br><span class="line">		&#123; <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span> &#125;,</span><br><span class="line">		&#123; <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span> &#125;</span><br><span class="line">	&#125;;</span><br><span class="line">	<span class="comment">//辅助地图</span></span><br><span class="line">	<span class="type">bool</span> pathMap[ROWS][COLS] = &#123; <span class="number">0</span> &#125;;</span><br><span class="line">	<span class="comment">//设置起始点</span></span><br><span class="line">	MyPoint begPos = &#123; <span class="number">0</span>, <span class="number">0</span> &#125;;</span><br><span class="line">	MyPoint endPos = &#123; <span class="number">8</span>, <span class="number">8</span> &#125;;</span><br><span class="line">	<span class="comment">//创建树</span></span><br><span class="line">	Mytree* tree=<span class="keyword">new</span> <span class="built_in">Mytree</span>(begPos);</span><br><span class="line">	<span class="comment">//创建两层的数组-&gt;用来记每层又几个元素需要寻路</span></span><br><span class="line">	vector&lt;Mytree*&gt; cen;</span><br><span class="line">	vector&lt;Mytree*&gt; Nextcen;</span><br><span class="line">	<span class="comment">//把根存到第一层去</span></span><br><span class="line">	cen.<span class="built_in">push_back</span>(tree);</span><br><span class="line">	<span class="comment">//创建需要探索的点</span></span><br><span class="line">	MyPoint text;</span><br><span class="line">	<span class="comment">//跳出多层循环的标志</span></span><br><span class="line">	<span class="type">bool</span> b=<span class="literal">false</span>;</span><br><span class="line">	Mytree* p = <span class="literal">NULL</span>;</span><br><span class="line">	<span class="comment">//寻路</span></span><br><span class="line">	<span class="keyword">while</span> (<span class="number">1</span>)</span><br><span class="line">	&#123;</span><br><span class="line">		Nextcen.<span class="built_in">clear</span>();</span><br><span class="line">		<span class="comment">//遍历每曾的元素</span></span><br><span class="line">		<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; cen.<span class="built_in">size</span>(); i++)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="comment">//标记走过</span></span><br><span class="line">			pathMap[cen[i]-&gt;pos.y][cen[i]-&gt;pos.x] = <span class="literal">true</span>;</span><br><span class="line">			<span class="comment">//让他们四个方向按个寻找</span></span><br><span class="line">			<span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; <span class="number">4</span>; j++)</span><br><span class="line">			&#123;</span><br><span class="line">				text = cen[i]-&gt;pos;</span><br><span class="line">				<span class="comment">//四个方向</span></span><br><span class="line">				<span class="keyword">switch</span> (j)</span><br><span class="line">				&#123;</span><br><span class="line">				<span class="keyword">case</span> _up: text.y--;</span><br><span class="line">					<span class="keyword">break</span>;</span><br><span class="line">				<span class="keyword">case</span> _right: text.x++;</span><br><span class="line">					<span class="keyword">break</span>;</span><br><span class="line">				<span class="keyword">case</span> _down: text.y++;</span><br><span class="line">					<span class="keyword">break</span>;</span><br><span class="line">				<span class="keyword">case</span> _left: text.x--;</span><br><span class="line">					<span class="keyword">break</span>;</span><br><span class="line">				&#125;</span><br><span class="line">				<span class="comment">//如果可以走就存树-&gt;不是墙，没有走过，没有越界</span></span><br><span class="line">				<span class="keyword">if</span> ((map[text.y][text.x]!=<span class="number">1</span>)&amp;&amp;( pathMap[text.y][text.x]==<span class="literal">false</span>)&amp;&amp;</span><br><span class="line">					(text.y &gt;= <span class="number">0</span> &amp;&amp; text.y &lt;= ROWS &amp;&amp; text.x &gt;= <span class="number">0</span> &amp;&amp; text.x &lt;= COLS))</span><br><span class="line">				&#123;</span><br><span class="line">					 p = <span class="keyword">new</span> <span class="built_in">Mytree</span>(text);</span><br><span class="line">					p-&gt;fth = cen[i];</span><br><span class="line">					cen[i]-&gt;p.<span class="built_in">push_back</span>(p);</span><br><span class="line">					cen.<span class="built_in">push_back</span>(p);</span><br><span class="line">					<span class="comment">//判断是否可以跳出循环-&gt;找到终点</span></span><br><span class="line">					<span class="keyword">if</span> (p-&gt;pos== endPos)</span><br><span class="line">					&#123;</span><br><span class="line">						b = <span class="literal">true</span>;</span><br><span class="line">						<span class="keyword">break</span>;</span><br><span class="line">					&#125;</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">if</span> (b) <span class="keyword">break</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span> (b) <span class="keyword">break</span>;</span><br><span class="line">		<span class="comment">//没有下一层了</span></span><br><span class="line">		<span class="keyword">if</span> (Nextcen.<span class="built_in">size</span>()==<span class="number">0</span>)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">break</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		cen = Nextcen;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">if</span> (b) &#123;</span><br><span class="line">		cout &lt;&lt; <span class="string">&quot;找到终点了!&quot;</span> &lt;&lt; endl;</span><br><span class="line">		<span class="keyword">while</span> (p) &#123;</span><br><span class="line">			cout &lt;&lt; <span class="string">&quot;(&quot;</span> &lt;&lt; p-&gt;pos.y &lt;&lt; <span class="string">&quot;,&quot;</span> &lt;&lt; p-&gt;pos.x &lt;&lt; <span class="string">&quot;)&quot;</span>;</span><br><span class="line">			p = p-&gt;fth;</span><br><span class="line">		&#125;</span><br><span class="line">		cout &lt;&lt; endl;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">else</span> cout &lt;&lt; <span class="string">&quot;没找到&quot;</span> &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li>相比于深度寻路算法的优缺点：</li>
</ul>
<blockquote>
<p>优点是 可以找到最简路线，深度寻路可能有误差</p>
<p>缺点是耗时长</p>
</blockquote>
<ul>
<li>总结是小地图用广度寻路算法，大地图用深度寻路</li>
</ul>
<h1 id="A星寻路算法"><a href="#A星寻路算法" class="headerlink" title="A星寻路算法"></a>A星寻路算法</h1><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="meta">#<span class="keyword">define</span> ROWS 10</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> COLS 10</span></span><br><span class="line"><span class="comment">//方位</span></span><br><span class="line"><span class="keyword">enum</span> &#123;_lup=<span class="number">0</span>,_up,_rup,_l,_r,_ld,_d,_rd &#125;;</span><br><span class="line"><span class="comment">//点类型</span></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Mypoint</span></span><br><span class="line">&#123;</span><br><span class="line">	 <span class="type">int</span> y;</span><br><span class="line">	 <span class="type">int</span> x;</span><br><span class="line">	<span class="type">int</span> f, g, h;</span><br><span class="line">	<span class="function"><span class="type">void</span> <span class="title">geth</span><span class="params">(Mypoint p)</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		<span class="type">int</span> x1 = ((p.x &gt; x) ? (p.x - x) : (x - p.x));</span><br><span class="line">		<span class="type">int</span> y1 = ((p.y &gt; y) ? (p.y - y) : (y - p.y));</span><br><span class="line">		h = (x1+y1)*<span class="number">10</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="type">void</span> <span class="title">getf</span><span class="params">()</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		f = g + h;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="type">bool</span> <span class="keyword">operator</span>==(Mypoint p)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">return</span>(p.x == x &amp;&amp; p.y == y);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">//树结构</span></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">tree</span></span><br><span class="line">&#123;</span><br><span class="line">	Mypoint pos;</span><br><span class="line">	tree* fth;</span><br><span class="line">	vector&lt;tree*&gt; p;</span><br><span class="line">	<span class="built_in">tree</span>()</span><br><span class="line">	&#123;</span><br><span class="line">		fth = <span class="literal">nullptr</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">tree</span>(Mypoint pos)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">this</span>-&gt;pos = pos;</span><br><span class="line">		fth = <span class="literal">nullptr</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">//判断可以存入的条件</span></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">YesorNo</span><span class="params">(<span class="type">int</span> map[ROWS][COLS], <span class="type">bool</span> pathmap[ROWS][COLS], Mypoint p)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">if</span> (p.y&lt;<span class="number">0</span> || p.y&gt;=ROWS || p.x&lt;<span class="number">0</span> || p.x&gt;=COLS) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">	<span class="keyword">if</span> (map[p.y][p.x] == <span class="number">1</span>) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">	<span class="keyword">if</span> (pathmap[p.y][p.x]) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">	<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="comment">//地图</span></span><br><span class="line">	<span class="type">int</span> map[ROWS][COLS] = &#123;</span><br><span class="line">        &#123; <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span> &#125;,</span><br><span class="line">		&#123; <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span> &#125;,</span><br><span class="line">		&#123; <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span> &#125;,</span><br><span class="line">		&#123; <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span> &#125;,</span><br><span class="line">		&#123; <span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span> &#125;,</span><br><span class="line">		&#123; <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span> &#125;,</span><br><span class="line">		&#123; <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span> &#125;,</span><br><span class="line">		&#123; <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span> &#125;,</span><br><span class="line">		&#123; <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span> &#125;,</span><br><span class="line">		&#123; <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span> &#125;</span><br><span class="line">	&#125;;</span><br><span class="line">	<span class="comment">//辅助地图</span></span><br><span class="line">	<span class="type">bool</span> pathMap[ROWS][COLS] = &#123; <span class="number">0</span> &#125;;</span><br><span class="line">	Mypoint begPos = &#123; <span class="number">0</span>,<span class="number">0</span>&#125;;<span class="comment">//起点2,1</span></span><br><span class="line">	Mypoint endPos = &#123; <span class="number">6</span>, <span class="number">7</span> &#125;;<span class="comment">//终点</span></span><br><span class="line">	tree* Tree = <span class="keyword">new</span> <span class="built_in">tree</span>(begPos);</span><br><span class="line">	pathMap[Tree-&gt;pos.y][Tree-&gt;pos.x] = <span class="literal">true</span>;</span><br><span class="line">	<span class="comment">//存评分点</span></span><br><span class="line">	vector&lt;tree*&gt; point;</span><br><span class="line">	vector&lt;tree*&gt;::iterator it;</span><br><span class="line">	vector&lt;tree*&gt;::iterator us;</span><br><span class="line"></span><br><span class="line">	tree* root=Tree;</span><br><span class="line">	tree* text=<span class="literal">NULL</span>;<span class="comment">//寻找点</span></span><br><span class="line">	<span class="type">bool</span> fand = <span class="literal">false</span>;</span><br><span class="line">	<span class="keyword">while</span> (<span class="number">1</span>)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="comment">//八个方位的判断</span></span><br><span class="line">		<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">8</span>; i++)</span><br><span class="line">		&#123;</span><br><span class="line">			text = <span class="keyword">new</span> <span class="built_in">tree</span>(root-&gt;pos);</span><br><span class="line">			<span class="comment">//找到不同方位测试点并评分</span></span><br><span class="line">			<span class="keyword">switch</span> (i)</span><br><span class="line">			&#123;</span><br><span class="line">			<span class="keyword">case</span> _lup: text-&gt;pos.y--; text-&gt;pos.x--; text-&gt;pos.g += <span class="number">14</span>;</span><br><span class="line">			<span class="keyword">break</span>;</span><br><span class="line">			<span class="keyword">case</span> _up:text-&gt;pos.y--; text-&gt;pos.g += <span class="number">10</span>;</span><br><span class="line">			<span class="keyword">break</span>;</span><br><span class="line">			<span class="keyword">case</span> _rup:text-&gt;pos.y--; text-&gt;pos.x++; text-&gt;pos.g += <span class="number">14</span>;</span><br><span class="line">			<span class="keyword">break</span>;</span><br><span class="line">			<span class="keyword">case</span> _l:text-&gt;pos.x--; text-&gt;pos.g += <span class="number">10</span>;</span><br><span class="line">			<span class="keyword">break</span>;</span><br><span class="line">			<span class="keyword">case</span> _r:text-&gt;pos.x++; text-&gt;pos.g += <span class="number">10</span>;</span><br><span class="line">			<span class="keyword">break</span>;</span><br><span class="line">			<span class="keyword">case</span> _ld:text-&gt;pos.y++; text-&gt;pos.x--; text-&gt;pos.g += <span class="number">14</span>;</span><br><span class="line">			<span class="keyword">break</span>;</span><br><span class="line">			<span class="keyword">case</span> _d:text-&gt;pos.y++; text-&gt;pos.g += <span class="number">10</span>;</span><br><span class="line">			<span class="keyword">break</span>;</span><br><span class="line">			<span class="keyword">case</span> _rd:text-&gt;pos.y++; text-&gt;pos.x++; text-&gt;pos.g += <span class="number">14</span>;</span><br><span class="line">			<span class="keyword">break</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">if</span> (<span class="built_in">YesorNo</span>( map,pathMap, text-&gt;pos))</span><br><span class="line">			&#123;</span><br><span class="line">				<span class="comment">//计算f值</span></span><br><span class="line">				text-&gt;pos.<span class="built_in">geth</span>(endPos);</span><br><span class="line">				text-&gt;pos.<span class="built_in">getf</span>();</span><br><span class="line">				<span class="comment">//入树</span></span><br><span class="line">				root-&gt;p.<span class="built_in">push_back</span>(text);</span><br><span class="line">				text-&gt;fth = root;</span><br><span class="line">				<span class="comment">//存入数组</span></span><br><span class="line">				point.<span class="built_in">push_back</span>(text);</span><br><span class="line">				<span class="comment">//标记走过</span></span><br><span class="line">				pathMap[text-&gt;pos.y][text-&gt;pos.x] = <span class="literal">true</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">else</span></span><br><span class="line">			&#123;</span><br><span class="line">				<span class="keyword">delete</span> text;</span><br><span class="line">				text = <span class="literal">nullptr</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span> (point.<span class="built_in">size</span>() == <span class="number">0</span>)<span class="keyword">break</span>;</span><br><span class="line">		<span class="comment">//找到分最少</span></span><br><span class="line">		us= point.<span class="built_in">begin</span>();</span><br><span class="line">		<span class="keyword">for</span> (it= point.<span class="built_in">begin</span>();it!= point.<span class="built_in">end</span>();it++)</span><br><span class="line">		&#123;</span><br><span class="line">			us = (((*it)-&gt;pos.f &lt; (*us)-&gt;pos.f) ? it : us);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="comment">//确定当前点</span></span><br><span class="line">		root = *us;</span><br><span class="line">	</span><br><span class="line">		<span class="comment">//数组中删掉</span></span><br><span class="line">		point.<span class="built_in">erase</span>(us);</span><br><span class="line">		<span class="comment">//结束条件</span></span><br><span class="line">		<span class="keyword">if</span> (root-&gt;pos == endPos) &#123; fand = <span class="literal">true</span>; <span class="keyword">break</span>; &#125;</span><br><span class="line">	</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">//如果找到终点了，打印路径</span></span><br><span class="line">	<span class="keyword">if</span> (fand) &#123;</span><br><span class="line">		cout &lt;&lt; <span class="string">&quot;找到终点啦!&quot;</span> &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">while</span> (root) &#123;</span><br><span class="line">			cout &lt;&lt; <span class="string">&quot;(&quot;</span> &lt;&lt; root-&gt;pos.y &lt;&lt; <span class="string">&quot;,&quot;</span> &lt;&lt;</span><br><span class="line">				root-&gt;pos.x &lt;&lt; <span class="string">&quot;)&quot;</span>;</span><br><span class="line">			root = root-&gt;fth;</span><br><span class="line">		&#125;</span><br><span class="line">		cout &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">else</span> &#123;</span><br><span class="line">		cout &lt;&lt; <span class="string">&quot;木有找到终点&quot;</span> &lt;&lt; endl;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li>结合了广度和深度的优点，贪心类似</li>
</ul>
<h1 id="堆"><a href="#堆" class="headerlink" title="堆"></a>堆</h1><ul>
<li>树结构有，二叉树，满二叉树，完全二叉树，先了解树才可以学习堆</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">满二叉树：同时满足如下两个条件的二叉树</span><br><span class="line">	1. 要么有两个孩子，要么没有孩子</span><br><span class="line">	2. 叶子节点在同一层</span><br><span class="line">	</span><br><span class="line">满二叉树有如下规律：</span><br><span class="line">	如果层数为n</span><br><span class="line">	第n层节点数  一定为  2^(n-1)</span><br><span class="line">	整颗树节点数  为   2^n - 1</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">完全二叉树</span><br><span class="line">	满二叉树 从 下边 右边开始删节点 </span><br><span class="line">	从右往左  从下往上 （和 阅读顺序 相反）</span><br><span class="line">	</span><br><span class="line">	满二叉树一定是完全二叉树</span><br><span class="line">	完全二叉树不一定是满二叉树</span><br><span class="line"></span><br><span class="line">堆：有序的完全二叉树</span><br><span class="line">	父子之间有序  兄弟之间  其他节点之间 不管</span><br><span class="line"></span><br><span class="line">    父大于子：最大堆 (大顶堆)</span><br><span class="line">    父小于子：最小堆 (小顶堆)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">已知父节点下标为N</span><br><span class="line">左孩子下标为：2*N + 1</span><br><span class="line">右孩子下标为：2*N + 2</span><br><span class="line"></span><br><span class="line">已知左孩子下标为M 父节点下标为： (M-1)/2</span><br><span class="line">已知右孩子下标为M 父节点下标为： (M-2)/2</span><br><span class="line"></span><br><span class="line">已知孩子下标为M 父节点下标为： (M-1)/2</span><br></pre></td></tr></table></figure>

<ul>
<li>以上是堆的公式</li>
</ul>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">class</span> <span class="title class_">T</span>&gt;</span><br><span class="line"><span class="keyword">class</span>  <span class="title class_">MyHeap</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">	T* p;</span><br><span class="line">	<span class="type">int</span> len;</span><br><span class="line">	<span class="type">int</span> maxlen;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="built_in">MyHeap</span>()</span><br><span class="line">	&#123;</span><br><span class="line">		p = <span class="literal">NULL</span>;</span><br><span class="line">		len = maxlen = <span class="number">0</span>;</span><br><span class="line">	 &#125;</span><br><span class="line">	~<span class="built_in">MyHeap</span>()</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">if</span> (p)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">delete</span>[] p;</span><br><span class="line">		&#125;</span><br><span class="line">		p = <span class="literal">NULL</span>;</span><br><span class="line">		len = maxlen = <span class="number">0</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">//插入</span></span><br><span class="line">	<span class="function"><span class="type">void</span> <span class="title">puch</span><span class="params">(T data)</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		<span class="comment">//判断是否需要新开内存</span></span><br><span class="line">		<span class="keyword">if</span> (maxlen &lt;= len)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="comment">//计算开辟的内存大小-&gt;当不足1的时候就是1大于1的时候就这1.5</span></span><br><span class="line">			maxlen = maxlen + (((maxlen &gt;&gt; <span class="number">1</span>) &gt; <span class="number">1</span>) ? (maxlen &gt;&gt; <span class="number">1</span>) : <span class="number">1</span>);</span><br><span class="line">			<span class="comment">//开内存</span></span><br><span class="line">			T* t = <span class="keyword">new</span> T[maxlen];</span><br><span class="line">			<span class="keyword">if</span> (p)</span><br><span class="line">			&#123;</span><br><span class="line">				<span class="built_in">memcpy</span>(t, p, <span class="built_in">sizeof</span>(T) * len);</span><br><span class="line">				<span class="keyword">delete</span>[] p;</span><br><span class="line">			&#125;</span><br><span class="line">			p = t;</span><br><span class="line">		&#125;</span><br><span class="line">		p[len++] = data;</span><br><span class="line">	</span><br><span class="line">		<span class="comment">//再排序</span></span><br><span class="line">		<span class="type">int</span> t1 = len - <span class="number">1</span>;</span><br><span class="line">		<span class="type">int</span> t2;</span><br><span class="line">		<span class="keyword">while</span> (<span class="number">1</span>)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">if</span> (t1&lt;= <span class="number">0</span>)<span class="keyword">break</span>;</span><br><span class="line">			t2 = (t1 - <span class="number">1</span>) / <span class="number">2</span>;</span><br><span class="line">			<span class="keyword">if</span> (p[t1] &gt; p[t2])</span><br><span class="line">			&#123;</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">else</span></span><br><span class="line">			&#123;</span><br><span class="line">				<span class="comment">//交换</span></span><br><span class="line">				T temp = p[t1];</span><br><span class="line">				p[t1] = p[t2];</span><br><span class="line">				p[t2] = temp;</span><br><span class="line">				<span class="comment">//往上移</span></span><br><span class="line">				t1 =t2;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">    &#125;</span><br><span class="line">	<span class="comment">//遍历</span></span><br><span class="line">	<span class="function"><span class="type">void</span> <span class="title">travel</span><span class="params">()</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		cout &lt;&lt; <span class="string">&quot;堆里数据 : &quot;</span>;</span><br><span class="line">			<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; len; i++)</span><br><span class="line">			&#123;</span><br><span class="line">				cout &lt;&lt; p[i] &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		cout &lt;&lt; endl;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//删除根节点</span></span><br><span class="line">	<span class="function"><span class="type">void</span> <span class="title">Mydelete</span><span class="params">()</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (len==<span class="number">0</span>)</span><br><span class="line">		&#123;</span><br><span class="line">			cout &lt;&lt; <span class="string">&quot;堆是空的&quot;</span> &lt;&lt; endl;</span><br><span class="line">			<span class="keyword">return</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span> (len==<span class="number">1</span>)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">delete</span>[] p;</span><br><span class="line">			p = <span class="literal">nullptr</span>;</span><br><span class="line">			len--;</span><br><span class="line">			cout &lt;&lt; <span class="string">&quot;堆已清空&quot;</span> &lt;&lt; endl;</span><br><span class="line">			<span class="keyword">return</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		p[<span class="number">0</span>] = p[len - <span class="number">1</span>];</span><br><span class="line">		<span class="type">int</span> t1 =<span class="number">0</span>;</span><br><span class="line">		<span class="type">int</span> t2;</span><br><span class="line">		<span class="keyword">while</span> (<span class="number">1</span>)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="comment">//数组结束 </span></span><br><span class="line">			<span class="keyword">if</span> ((t1 * <span class="number">2</span> + <span class="number">1</span>) &gt; (len - <span class="number">1</span>) || (t1 * <span class="number">2</span> + <span class="number">2</span>) &gt; (len - <span class="number">1</span>))<span class="keyword">break</span>;</span><br><span class="line">			t2 = t1 * <span class="number">2</span> + <span class="number">1</span>;</span><br><span class="line">			<span class="keyword">if</span> (t2 &gt; (t1 * <span class="number">2</span> + <span class="number">2</span>))</span><br><span class="line">			&#123;</span><br><span class="line">				t2 = (t1 * <span class="number">2</span> + <span class="number">2</span>);</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="comment">//交换</span></span><br><span class="line">			T temp = p[t1];</span><br><span class="line">			p[t1] = p[t2];</span><br><span class="line">			p[t2] = temp;</span><br><span class="line">			t1 = t2;</span><br><span class="line">		&#125;</span><br><span class="line">		len--;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<ul>
<li>再写代码的时候发现了很有趣的东西，就是判断符号：（条件）？1：2，这个东西要是一连套的需要用一个括号阔上，否者会出bug</li>
</ul>
<h1 id="平衡二叉树"><a href="#平衡二叉树" class="headerlink" title="平衡二叉树"></a>平衡二叉树</h1><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//节点</span></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">class</span> <span class="title class_">T</span>&gt;</span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">spot</span></span><br><span class="line">&#123;</span><br><span class="line">	T datas;<span class="comment">//数据</span></span><br><span class="line">	spot* lp;<span class="comment">//左节点</span></span><br><span class="line">	spot* rp;<span class="comment">//右节点</span></span><br><span class="line">	<span class="type">int</span> len;<span class="comment">//高度</span></span><br><span class="line">	<span class="built_in">spot</span>(T dates)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">this</span>-&gt;datas = dates;</span><br><span class="line">		lp = rp = <span class="literal">NULL</span>;</span><br><span class="line">		len = <span class="number">0</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">class</span> <span class="title class_">T</span>&gt;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ALVtree</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="built_in">ALVtree</span>()</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">this</span>-&gt;p = <span class="literal">NULL</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	~<span class="built_in">ALVtree</span>()</span><br><span class="line">	&#123;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">//插入</span></span><br><span class="line">	<span class="function"><span class="type">void</span> <span class="title">init</span><span class="params">(T num)</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		_init(<span class="keyword">this</span>-&gt;p, num);</span><br><span class="line">	&#125;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">	spot&lt;T&gt;* p;</span><br><span class="line">	<span class="comment">//获得节点高度</span></span><br><span class="line">	<span class="type">int</span>  _getlen(spot&lt;T&gt;* p)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">if</span> (p) &#123; <span class="keyword">return</span> p-&gt;len; &#125;</span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="type">void</span> _init(spot&lt;T&gt;*&amp; p, T num)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="comment">//首先像有序二叉树一样</span></span><br><span class="line">		<span class="keyword">if</span> (p == <span class="literal">NULL</span>)</span><br><span class="line">		&#123;</span><br><span class="line">			p = <span class="keyword">new</span> <span class="built_in">spot</span>&lt;T&gt;(num);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">if</span> (p-&gt;datas &gt; num)</span><br><span class="line">		&#123;</span><br><span class="line">			_init(p-&gt;lp, num);</span><br><span class="line">			<span class="comment">//然后再旋转</span></span><br><span class="line">			<span class="comment">//判断是什么旋转</span></span><br><span class="line">			<span class="keyword">if</span> (_getlen(p-&gt;lp) - _getlen(p-&gt;rp) &gt; <span class="number">1</span>)</span><br><span class="line">			&#123;</span><br><span class="line">				<span class="keyword">if</span> (p-&gt;lp-&gt;datas &gt; num)</span><br><span class="line">				&#123;</span><br><span class="line">					p = <span class="built_in">r</span>(p);</span><br><span class="line">				&#125;</span><br><span class="line">				<span class="keyword">else</span></span><br><span class="line">				&#123;</span><br><span class="line">					p = <span class="built_in">lr</span>(p);</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span> </span><br><span class="line">		&#123;</span><br><span class="line">			_init(p-&gt;rp, num);</span><br><span class="line">			<span class="comment">//然后再旋转</span></span><br><span class="line">			<span class="comment">//判断是什么旋转</span></span><br><span class="line">			<span class="keyword">if</span> (_getlen(p-&gt;rp) - _getlen(p-&gt;lp) &gt; <span class="number">1</span>)</span><br><span class="line">			&#123;</span><br><span class="line">				<span class="keyword">if</span> (p-&gt;rp-&gt;datas &gt; num)</span><br><span class="line">				&#123;</span><br><span class="line">					p = <span class="built_in">l</span>(p);</span><br><span class="line">				&#125;</span><br><span class="line">				<span class="keyword">else</span></span><br><span class="line">				&#123;</span><br><span class="line">					p = <span class="built_in">rl</span>(p);</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="comment">//最后设置高度</span></span><br><span class="line">		<span class="type">int</span> leftHeight = _getlen(p-&gt;lp);</span><br><span class="line">		<span class="type">int</span> rightHeight = _getlen(p-&gt;rp);</span><br><span class="line">		p-&gt;len = <span class="number">1</span> + (</span><br><span class="line">			(leftHeight &gt; rightHeight) ? leftHeight : rightHeight</span><br><span class="line">			);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">//右旋</span></span><br><span class="line">	<span class="function">spot&lt;T&gt;* <span class="title">r</span><span class="params">(spot&lt;T&gt;* p)</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		<span class="comment">//保存数据</span></span><br><span class="line">		spot&lt;T&gt;* temp = p-&gt;lp;</span><br><span class="line">		<span class="comment">//旋转</span></span><br><span class="line">		p-&gt;lp = temp-&gt;rp;</span><br><span class="line">		temp-&gt;rp = p;</span><br><span class="line">		<span class="comment">//设置高度</span></span><br><span class="line">		p-&gt;len = <span class="number">1</span> + ((_getlen(p-&gt;lp) &gt; _getlen(p-&gt;rp)) ? _getlen(p-&gt;lp) : _getlen(p-&gt;rp));</span><br><span class="line">		temp-&gt;len = <span class="number">1</span> + ((_getlen(temp-&gt;lp) &gt; _getlen(temp-&gt;rp)) ? _getlen(temp-&gt;lp) : _getlen(temp-&gt;rp));</span><br><span class="line">		<span class="keyword">return</span> temp;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">//左旋</span></span><br><span class="line">	<span class="function">spot&lt;T&gt;* <span class="title">l</span><span class="params">(spot&lt;T&gt;* p)</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		<span class="comment">//保存数据</span></span><br><span class="line">		spot&lt;T&gt;* temp = p-&gt;rp;</span><br><span class="line">		<span class="comment">//旋转</span></span><br><span class="line">		p-&gt;rp = temp-&gt;lp;</span><br><span class="line">		temp-&gt;lp = p;</span><br><span class="line">		<span class="comment">//设置高度</span></span><br><span class="line">		p-&gt;len = <span class="number">1</span> + ((_getlen(p-&gt;lp) &gt; _getlen(p-&gt;rp)) ? _getlen(p-&gt;lp) : _getlen(p-&gt;rp));</span><br><span class="line">		temp-&gt;len = <span class="number">1</span> + ((_getlen(temp-&gt;lp) &gt; _getlen(temp-&gt;rp)) ? _getlen(temp-&gt;lp) : _getlen(temp-&gt;rp));</span><br><span class="line">		<span class="keyword">return</span> temp;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">//左右旋</span></span><br><span class="line">	<span class="function">spot&lt;T&gt;* <span class="title">lr</span><span class="params">(spot&lt;T&gt;* p)</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		p-&gt;lp = <span class="built_in">l</span>(p-&gt;lp);</span><br><span class="line">		<span class="keyword">return</span> <span class="built_in">r</span>(p);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">//右左旋</span></span><br><span class="line">	<span class="function">spot&lt;T&gt;* <span class="title">rl</span><span class="params">(spot&lt;T&gt;* p)</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		p-&gt;rp = <span class="built_in">r</span>(p-&gt;rp);</span><br><span class="line">		<span class="keyword">return</span> <span class="built_in">l</span>(p);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<ul>
<li>主意在保存数据的时候传参要用引用</li>
</ul>
<h1 id="23树"><a href="#23树" class="headerlink" title="23树"></a>23树</h1><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">class</span> <span class="title class_">T</span>&gt;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">My23tree</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">	<span class="keyword">struct</span> <span class="title class_">Node</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="type">int</span> type;<span class="comment">//识别当前节点是及节点类型的0，2，3，4</span></span><br><span class="line">		T data[<span class="number">3</span>];<span class="comment">//存入数据的个数</span></span><br><span class="line">		Node* p[<span class="number">4</span>];<span class="comment">//指针的个数</span></span><br><span class="line">		<span class="built_in">Node</span>()</span><br><span class="line">		&#123;</span><br><span class="line">			type = <span class="number">0</span>;</span><br><span class="line">			<span class="built_in">memset</span>(data, <span class="number">0</span>, <span class="built_in">sizeof</span>(T) * <span class="number">3</span>);</span><br><span class="line">			<span class="built_in">memset</span>(p, <span class="number">0</span>, <span class="built_in">sizeof</span>(Node*) * <span class="number">4</span>);<span class="comment">//这个函数是创建一个对象，然后把里面的值都初始化为零</span></span><br><span class="line">		&#125;</span><br><span class="line">	&#125;;</span><br><span class="line">	Node* TreeNode;</span><br><span class="line">	<span class="type">void</span> _insert(T t, Node* p, Node* onp)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">if</span> (p-&gt;type==<span class="number">0</span>)<span class="comment">//当节点是0指针的时候</span></span><br><span class="line">		&#123;</span><br><span class="line">			p-&gt;data[<span class="number">0</span>] = t;</span><br><span class="line">			p-&gt;type = <span class="number">2</span>;</span><br><span class="line">			<span class="keyword">return</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		 <span class="keyword">if</span> (p-&gt;type==<span class="number">2</span>)<span class="comment">//当节点是2指针的时候</span></span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">if</span> (p-&gt;data[<span class="number">1</span>]&lt;t)<span class="comment">//当数据大于第一个数据的时候</span></span><br><span class="line">			&#123;</span><br><span class="line">				<span class="keyword">if</span> (p-&gt;p[<span class="number">0</span>])<span class="comment">//当数据有左孩子的时候放到右节点</span></span><br><span class="line">				&#123;</span><br><span class="line">					_insert(t, p-&gt;p[<span class="number">1</span>], p);</span><br><span class="line">				&#125;</span><br><span class="line">				<span class="keyword">else</span><span class="comment">//没有左孩子直接放到旁边</span></span><br><span class="line">				&#123;</span><br><span class="line">					p-&gt;data[<span class="number">1</span>] = t;</span><br><span class="line">					p-&gt;type = <span class="number">3</span>;</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">else</span></span><br><span class="line">			&#123;</span><br><span class="line">				<span class="keyword">if</span> (p-&gt;p[<span class="number">0</span>])<span class="comment">//当数据有左孩子的时候放到右节点</span></span><br><span class="line">				&#123;</span><br><span class="line">					_insert(t, p-&gt;p[<span class="number">0</span>], p);</span><br><span class="line">				&#125;</span><br><span class="line">				<span class="keyword">else</span><span class="comment">//没有左孩子直接放到旁边</span></span><br><span class="line">				&#123;</span><br><span class="line"></span><br><span class="line">					p-&gt;data[<span class="number">1</span>] = p-&gt;data[<span class="number">0</span>];</span><br><span class="line">					p-&gt;data[<span class="number">0</span>] = t;</span><br><span class="line">					p-&gt;type = <span class="number">3</span>;</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span><span class="comment">//当节点是3指针的时候</span></span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">if</span> (p-&gt;data[<span class="number">0</span>]&gt;t)<span class="comment">//插左边</span></span><br><span class="line">			&#123;</span><br><span class="line">				<span class="keyword">if</span> (p-&gt;p[<span class="number">0</span>])<span class="comment">//有孩子</span></span><br><span class="line">				&#123;</span><br><span class="line">					_insert(t, p-&gt;p[<span class="number">0</span>], p);</span><br><span class="line">				&#125;</span><br><span class="line">				<span class="keyword">else</span></span><br><span class="line">				&#123;</span><br><span class="line">					p-&gt;data[<span class="number">2</span>] = p-&gt;data[<span class="number">1</span>];</span><br><span class="line">					p-&gt;data[<span class="number">1</span>] = p-&gt;data[<span class="number">0</span>];</span><br><span class="line">					p-&gt;data[<span class="number">0</span>] = t;</span><br><span class="line">					p-&gt;type++;</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">else</span> <span class="keyword">if</span> (p-&gt;data[<span class="number">1</span>] &gt; t&amp;&amp;p-&gt;data[<span class="number">0</span>] &lt; t)<span class="comment">//插中间</span></span><br><span class="line">			&#123;</span><br><span class="line">				<span class="keyword">if</span> (p-&gt;p[<span class="number">1</span>])<span class="comment">//有孩子</span></span><br><span class="line">				&#123;</span><br><span class="line">					_insert(t, p-&gt;p[<span class="number">1</span>], p);</span><br><span class="line">				&#125;</span><br><span class="line">				<span class="keyword">else</span></span><br><span class="line">				&#123;</span><br><span class="line">					p-&gt;data[<span class="number">2</span>] = p-&gt;data[<span class="number">1</span>];</span><br><span class="line">					p-&gt;data[<span class="number">1</span>] = t;</span><br><span class="line">					p-&gt;type++;</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">else</span> <span class="keyword">if</span> (p-&gt;data[<span class="number">2</span>] &lt; t)<span class="comment">//插右边</span></span><br><span class="line">			&#123;</span><br><span class="line">				<span class="keyword">if</span> (p-&gt;p[<span class="number">2</span>])<span class="comment">//有孩子</span></span><br><span class="line">				&#123;</span><br><span class="line">					_insert(t, p-&gt;p[<span class="number">2</span>], p);</span><br><span class="line">				&#125;</span><br><span class="line">				<span class="keyword">else</span></span><br><span class="line">				&#123;</span><br><span class="line">					p-&gt;data[<span class="number">2</span>] = t;</span><br><span class="line">					p-&gt;type++;</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span> (p-&gt;type==<span class="number">4</span>)<span class="comment">//当节点是4指针的时候</span></span><br><span class="line">		&#123;</span><br><span class="line">			<span class="comment">//创建两个节点</span></span><br><span class="line">			Node* node1 = <span class="keyword">new</span> Node;</span><br><span class="line">			Node* node2 = <span class="keyword">new</span> Node;</span><br><span class="line">			node1-&gt;data[<span class="number">0</span>] = p-&gt;data[<span class="number">0</span>];</span><br><span class="line">			node1-&gt;p[<span class="number">0</span>] = p-&gt;p[<span class="number">0</span>];</span><br><span class="line">			node1-&gt;p[<span class="number">1</span>] = p-&gt;p[<span class="number">1</span>];</span><br><span class="line">			node1-&gt;type = <span class="number">2</span>;</span><br><span class="line">			node2-&gt;data[<span class="number">0</span>] = p-&gt;data[<span class="number">2</span>];</span><br><span class="line">			node2-&gt;p[<span class="number">0</span>] = p-&gt;p[<span class="number">2</span>];</span><br><span class="line">			node2-&gt;p[<span class="number">1</span>] = p-&gt;p[<span class="number">3</span>];</span><br><span class="line">			node2-&gt;type = <span class="number">2</span>;</span><br><span class="line">			T ts = p-&gt;data[<span class="number">1</span>];<span class="comment">//临时存储中间数据</span></span><br><span class="line">			<span class="keyword">if</span> (onp)</span><br><span class="line">			&#123;</span><br><span class="line">				<span class="comment">//5 找位置 做插入</span></span><br><span class="line">				<span class="keyword">if</span> (ts&lt; onp-&gt;data[<span class="number">0</span>]) &#123;<span class="comment">//左边</span></span><br><span class="line">					<span class="keyword">if</span> (onp-&gt;p[<span class="number">2</span>]) &#123;<span class="comment">//最右边有孩子</span></span><br><span class="line">						onp-&gt;data[<span class="number">2</span>] = onp-&gt;data[<span class="number">1</span>];</span><br><span class="line">						onp-&gt;data[<span class="number">1</span>] = onp-&gt;data[<span class="number">0</span>];</span><br><span class="line">						onp-&gt;data[<span class="number">0</span>] = ts;</span><br><span class="line"></span><br><span class="line">						onp-&gt;p[<span class="number">3</span>] = onp-&gt;p[<span class="number">2</span>];</span><br><span class="line">						onp-&gt;p[<span class="number">2</span>] = onp-&gt;p[<span class="number">1</span>];</span><br><span class="line">						onp-&gt;p[<span class="number">1</span>] = node2;</span><br><span class="line">						onp-&gt;p[<span class="number">0</span>] = node1;</span><br><span class="line">					&#125;</span><br><span class="line">					<span class="keyword">else</span> <span class="keyword">if</span> (onp-&gt;p[<span class="number">1</span>]) &#123;<span class="comment">//最右边没有孩子，中间有孩子</span></span><br><span class="line">						onp-&gt;data[<span class="number">1</span>] = onp-&gt;data[<span class="number">0</span>];</span><br><span class="line">						onp-&gt;data[<span class="number">0</span>] = ts;</span><br><span class="line">						</span><br><span class="line">						onp-&gt;p[<span class="number">2</span>] = onp-&gt;p[<span class="number">1</span>];</span><br><span class="line">						onp-&gt;p[<span class="number">1</span>] = node2;</span><br><span class="line">						onp-&gt;p[<span class="number">0</span>] = node1;</span><br><span class="line">					&#125;</span><br><span class="line">				&#125;</span><br><span class="line">				<span class="keyword">else</span> <span class="keyword">if</span> (<span class="number">2</span> == onp-&gt;type ||</span><br><span class="line">					(onp-&gt;type &gt; <span class="number">1</span>)</span><br><span class="line">					&amp;&amp;</span><br><span class="line">					ts &lt; onp-&gt;data[<span class="number">1</span>]) &#123;<span class="comment">//中间</span></span><br><span class="line"></span><br><span class="line">					<span class="keyword">if</span> (onp-&gt;p[<span class="number">2</span>]) &#123;<span class="comment">//最右边有孩子</span></span><br><span class="line">						onp-&gt;data[<span class="number">2</span>] = p-&gt;data[<span class="number">1</span>];</span><br><span class="line">						onp-&gt;data[<span class="number">1</span>] = ts;</span><br><span class="line">						</span><br><span class="line">						onp-&gt;p[<span class="number">3</span>] = onp-&gt;p[<span class="number">2</span>];</span><br><span class="line">						onp-&gt;p[<span class="number">2</span>] = node2;</span><br><span class="line">						onp-&gt;p[<span class="number">1</span>] = node1;</span><br><span class="line">					&#125;</span><br><span class="line">					<span class="keyword">else</span> <span class="keyword">if</span> (onp-&gt;p[<span class="number">1</span>]) &#123;<span class="comment">//最右边没有孩子，中间有孩子</span></span><br><span class="line">						onp-&gt;data[<span class="number">1</span>] = ts;</span><br><span class="line">						onp-&gt;p[<span class="number">2</span>] = node2;</span><br><span class="line">						onp-&gt;p[<span class="number">1</span>] = node1;</span><br><span class="line">					&#125;</span><br><span class="line">				&#125;</span><br><span class="line">				<span class="keyword">else</span> <span class="keyword">if</span> (<span class="number">3</span> == onp-&gt;type ||</span><br><span class="line">					(onp-&gt;type &gt; <span class="number">2</span>) &amp;&amp; (ts&lt; onp-&gt;data[<span class="number">2</span>])) &#123;<span class="comment">//右边</span></span><br><span class="line">					<span class="keyword">if</span> (onp-&gt;p[<span class="number">2</span>]) &#123;</span><br><span class="line">						onp-&gt;data[<span class="number">2</span>] = ts;</span><br><span class="line">						onp-&gt;p[<span class="number">3</span>] = node2;</span><br><span class="line">						onp-&gt;p[<span class="number">2</span>] = node1;</span><br><span class="line">					&#125;</span><br><span class="line">				&#125;</span><br><span class="line">				onp-&gt;type++;</span><br><span class="line">				<span class="comment">//6 释放内存</span></span><br><span class="line">				<span class="keyword">delete</span> p;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">else</span><span class="comment">//当前是没有父节点</span></span><br><span class="line">			&#123;</span><br><span class="line">				<span class="built_in">memset</span>(p-&gt;data, <span class="number">0</span>, <span class="built_in">sizeof</span>(T) * <span class="number">3</span>);</span><br><span class="line">				<span class="built_in">memset</span>(p-&gt;p, <span class="number">0</span>, <span class="built_in">sizeof</span>(Node*) * <span class="number">4</span>);</span><br><span class="line">				p-&gt;data[<span class="number">0</span>] = ts;</span><br><span class="line">				p-&gt;type = <span class="number">2</span>;</span><br><span class="line">				p-&gt;p[<span class="number">0</span>] = node1;	p-&gt;p[<span class="number">1</span>] = node2;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="built_in">My23tree</span>() &#123; TreeNode = <span class="literal">nullptr</span>; &#125;</span><br><span class="line">	~<span class="built_in">My23tree</span>()&#123;&#125;</span><br><span class="line">	<span class="function"><span class="type">void</span> <span class="title">insert</span><span class="params">(T t)</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (TreeNode)</span><br><span class="line">		&#123;</span><br><span class="line">			_insert(t, TreeNode, <span class="literal">NULL</span>);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span></span><br><span class="line">		&#123;</span><br><span class="line">			TreeNode = <span class="keyword">new</span> <span class="built_in">Node</span>();</span><br><span class="line">			TreeNode-&gt;data[<span class="number">0</span>] = t;</span><br><span class="line">			TreeNode-&gt;type = <span class="number">2</span>;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h1 id="图"><a href="#图" class="headerlink" title="图"></a>图</h1><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Mymap</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">	<span class="comment">//网图-&gt;可以是有向图</span></span><br><span class="line">	<span class="comment">//顶点元素个数</span></span><br><span class="line">	<span class="type">int</span> num;</span><br><span class="line">	<span class="comment">//元素名字</span></span><br><span class="line">	<span class="type">char</span>* element;</span><br><span class="line">	<span class="comment">//网格-&gt;可以是带权图</span></span><br><span class="line">	<span class="type">int</span>** arr;</span><br><span class="line">	<span class="comment">//辅助数组</span></span><br><span class="line">	<span class="type">bool</span> isFind[<span class="number">100</span>] = &#123; <span class="number">0</span> &#125;;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="built_in">Mymap</span>(<span class="type">int</span> num,<span class="type">char</span>* v)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">this</span>-&gt;num = num;</span><br><span class="line">		element = <span class="keyword">new</span> <span class="type">char</span>[num + <span class="number">1</span>];</span><br><span class="line">		<span class="built_in">memcpy</span>(element, v, <span class="built_in">sizeof</span>(<span class="type">char</span>) * num);</span><br><span class="line">		arr = <span class="keyword">new</span> <span class="type">int</span>* [num];</span><br><span class="line">		<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; num; i++)</span><br><span class="line">		&#123;</span><br><span class="line">			arr[i] = <span class="keyword">new</span> <span class="type">int</span>[num];</span><br><span class="line">			<span class="built_in">memset</span>(arr[i], <span class="number">0</span>, <span class="built_in">sizeof</span>(<span class="type">int</span>) * num);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="comment">//自行判断是否越界</span></span><br><span class="line">		cout &lt;&lt; <span class="string">&quot;输入顶点之间关系,输入#结束输入 &gt; &quot;</span> &lt;&lt; endl;</span><br><span class="line">		<span class="type">int</span> t = <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">while</span> (<span class="literal">true</span>)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="type">char</span> b[<span class="number">5</span>] = &#123; <span class="number">0</span> &#125;; </span><br><span class="line">			cout &lt;&lt; <span class="string">&quot;第&quot;</span> &lt;&lt; t + <span class="number">1</span> &lt;&lt; <span class="string">&quot;次 &quot;</span>;</span><br><span class="line">			cin &gt;&gt; b;</span><br><span class="line">			<span class="keyword">if</span> (b[<span class="number">0</span>]==<span class="string">&#x27;#&#x27;</span>)</span><br><span class="line">			&#123;</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			t++;</span><br><span class="line">			<span class="type">int</span> _1 = <span class="built_in">getSubscript</span>(b[<span class="number">0</span>]);</span><br><span class="line">			<span class="type">int</span> _2 = <span class="built_in">getSubscript</span>(b[<span class="number">3</span>]);</span><br><span class="line">			arr[_1][_2] = <span class="number">1</span>;</span><br><span class="line">			<span class="comment">//无向边再加一个</span></span><br><span class="line">			<span class="comment">//arr[_2][_1] = 1;</span></span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	~<span class="built_in">Mymap</span>()</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">delete</span>[] element;</span><br><span class="line">		<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; num; i++)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">delete</span>[] arr[i];</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">delete</span>[] arr;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">//显示地图</span></span><br><span class="line">	<span class="function"><span class="type">void</span> <span class="title">show</span><span class="params">()</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt;= num; i++)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt;= num; j++)</span><br><span class="line">			&#123;</span><br><span class="line">				<span class="keyword">if</span> (i == <span class="number">0</span> &amp;&amp; j == <span class="number">0</span>)</span><br><span class="line">				&#123;</span><br><span class="line">					cout &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">				&#125;</span><br><span class="line">				<span class="keyword">else</span> <span class="keyword">if</span> (i == <span class="number">0</span>)</span><br><span class="line">				&#123;</span><br><span class="line">					cout &lt;&lt;element[j<span class="number">-1</span>];</span><br><span class="line">				&#125;</span><br><span class="line">				<span class="keyword">else</span> <span class="keyword">if</span> (j == <span class="number">0</span>)</span><br><span class="line">				&#123;</span><br><span class="line">					cout &lt;&lt; element[i - <span class="number">1</span>];</span><br><span class="line">				&#125;</span><br><span class="line">				<span class="keyword">else</span></span><br><span class="line">				&#123;</span><br><span class="line">					cout &lt;&lt; arr[i<span class="number">-1</span>][j<span class="number">-1</span>];</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">			cout &lt;&lt; endl;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">//字符转化为下标</span></span><br><span class="line">	<span class="function"><span class="type">int</span> <span class="title">getSubscript</span><span class="params">(<span class="type">char</span> s)</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; num; i++)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">if</span> (element[i]==s)</span><br><span class="line">			&#123;</span><br><span class="line">				<span class="keyword">return</span> i;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">//深度优先遍历</span></span><br><span class="line">	<span class="function"><span class="type">void</span> <span class="title">DFS</span><span class="params">(<span class="type">char</span> A)</span><span class="comment">//从哪个顶点开始遍历</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		<span class="type">int</span> a = <span class="built_in">getSubscript</span>(A);<span class="comment">//获得开始顶点的下标</span></span><br><span class="line">		isFind[a] = <span class="number">1</span>;</span><br><span class="line">	</span><br><span class="line">		<span class="keyword">while</span>(<span class="number">1</span>)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="type">int</span> w = <span class="built_in">getFirstVertex</span>(a);<span class="comment">//获得下一顶点的坐标</span></span><br><span class="line">			<span class="keyword">if</span> (w==<span class="number">-1</span>)</span><br><span class="line">			&#123;</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">if</span> (!isFind[w])</span><br><span class="line">			&#123;</span><br><span class="line">				cout &lt;&lt; element[w] &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">				<span class="built_in">DFS</span>(element[w]);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">//广度优先遍历</span></span><br><span class="line">	<span class="function"><span class="type">void</span> <span class="title">BFS</span><span class="params">(<span class="type">char</span> A)</span><span class="comment">//从哪个边开始遍历</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		<span class="comment">//选的顶点先入队列</span></span><br><span class="line">		<span class="type">int</span> a = <span class="built_in">getSubscript</span>(A);</span><br><span class="line">		queue&lt;<span class="type">int</span>&gt; q;</span><br><span class="line">		q.<span class="built_in">push</span>(a);</span><br><span class="line">		isFind[a] = <span class="number">1</span>;</span><br><span class="line">		<span class="keyword">while</span> (!q.<span class="built_in">empty</span>())<span class="comment">//判断不是空的</span></span><br><span class="line">		&#123;</span><br><span class="line">			<span class="comment">//获得队列头，并删掉</span></span><br><span class="line">			<span class="type">int</span> hand = q.<span class="built_in">front</span>();</span><br><span class="line">			q.<span class="built_in">pop</span>();</span><br><span class="line">			<span class="comment">//把相邻的顶点都放到队列里</span></span><br><span class="line">			<span class="keyword">while</span> (<span class="number">1</span>)</span><br><span class="line">			&#123;</span><br><span class="line">				<span class="type">int</span> w = <span class="built_in">getFirstVertex</span>(hand);<span class="comment">//获得下一顶点的坐标</span></span><br><span class="line">				<span class="keyword">if</span> (w==<span class="number">-1</span>)</span><br><span class="line">				&#123;</span><br><span class="line">					<span class="keyword">break</span>;</span><br><span class="line">				&#125;</span><br><span class="line">				<span class="keyword">if</span> (!isFind[w])</span><br><span class="line">				&#123;</span><br><span class="line">					isFind[w] = <span class="number">1</span>;</span><br><span class="line">					cout &lt;&lt; element[w] &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">					q.<span class="built_in">push</span>(w);</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">//获得下一个没选过的顶点左边</span></span><br><span class="line">	<span class="function"><span class="type">int</span> <span class="title">getFirstVertex</span><span class="params">(<span class="type">int</span> beg)</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; num; i++)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">if</span> (isFind[i])<span class="keyword">continue</span>;</span><br><span class="line">			<span class="keyword">if</span> (arr[beg][i]==<span class="number">1</span>)</span><br><span class="line">			&#123;</span><br><span class="line">				<span class="keyword">return</span> i;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="type">void</span> <span class="title">travel</span><span class="params">(<span class="type">char</span> A,<span class="type">bool</span> isD = <span class="literal">true</span>)</span> </span>&#123;</span><br><span class="line">		<span class="built_in">memset</span>(isFind, <span class="number">0</span>, <span class="built_in">sizeof</span>(<span class="type">bool</span>) * <span class="number">100</span>);</span><br><span class="line">		<span class="keyword">if</span> (isD) &#123;</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">&quot;深度优先遍历:%c &quot;</span>, A);</span><br><span class="line">			<span class="built_in">DFS</span>(A);</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span> &#123;</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">&quot;广度优先遍历:%c &quot;</span>,A);</span><br><span class="line">			<span class="built_in">BFS</span>(A);</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>图有三种的构造形式，有矩阵，链节，还有邻接图，这次用的是邻接图。</p>
<h1 id="B树，B-树，红黑树，哈夫曼树"><a href="#B树，B-树，红黑树，哈夫曼树" class="headerlink" title="B树，B+树，红黑树，哈夫曼树"></a>B树，B+树，红黑树，哈夫曼树</h1><p><strong>B树</strong>：23树就是M&#x3D;3的B树。</p>
<p><strong>B+树</strong>：在B树上有两个新优势，1.每次的变型，父节点不再存数据，数据位置没变，而是父节点存的是编号，或者是数据地址，2.每层都有指针把每个数据都连接在一起，像一个链表一样。</p>
<p><strong>哈夫曼树</strong>：又叫最佳搜索树，他是让值最小的方法存储在二叉树里，数据存在叶子节点里，压缩等就用到了此数据结构。，数据编码成哈夫曼编码，然后进行压缩，解压也是由哈夫曼编码从新生成的。</p>
<p><strong>红黑树</strong>：是继平衡二叉树之后，一个增删效率很高的树，但是他并不是十分的平衡-&gt;适当降低平衡性（查找效率），提升增删效率。<br>规则：  1.  根节点和叶子节点是黑色的，干节点是红色的<br>      2.从根节点到空节点每条路径上都有相同数目的黑色叶子节点<br>      3.红黑节点是交替出现的</p>
<h1 id="字符串查找算法"><a href="#字符串查找算法" class="headerlink" title="字符串查找算法"></a>字符串查找算法</h1><ol>
<li>爆破查找：</li>
</ol>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">BF</span><span class="params">(<span class="type">char</span>* ch1, <span class="type">char</span>* ch2)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="type">int</span> i = <span class="number">0</span>;</span><br><span class="line">	<span class="type">int</span> j = <span class="number">0</span>;</span><br><span class="line">	<span class="type">int</span> d = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">while</span> (<span class="literal">true</span>)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="comment">//判断字符串结束</span></span><br><span class="line">		<span class="keyword">if</span> (ch1[i]==<span class="string">&#x27;\0&#x27;</span>||ch2[j]==<span class="string">&#x27;\0&#x27;</span>)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">break</span>;</span><br><span class="line">		&#125;</span><br><span class="line">        <span class="comment">//判断两个字符串的每一位是否相等</span></span><br><span class="line">		<span class="keyword">if</span> (ch1[i]==ch2[j])</span><br><span class="line">		&#123;</span><br><span class="line">			i++;</span><br><span class="line">			j++;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span><span class="comment">//有不相等的i返回原来的位置再往下移一位，j复原</span></span><br><span class="line">		&#123;</span><br><span class="line">			d++;</span><br><span class="line">			j = <span class="number">0</span>;</span><br><span class="line">			i = d;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">if</span> (ch2[j] == <span class="string">&#x27;\0&#x27;</span>)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">return</span> d;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> - <span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>kmp算法</li>
</ol>
<blockquote>
<p>在爆破算法上的优化</p>
</blockquote>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//我按照老师讲的自己写的：</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">KMP</span><span class="params">(<span class="type">char</span>* ch1, <span class="type">char</span>* ch2)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="type">int</span> i = <span class="number">0</span>;</span><br><span class="line">	<span class="type">int</span> j = <span class="number">0</span>;</span><br><span class="line">	<span class="type">int</span> h1 = <span class="built_in">strlen</span>(ch1);</span><br><span class="line">	<span class="type">int</span> h2 = <span class="built_in">strlen</span>(ch2);</span><br><span class="line">	<span class="type">int</span> k=<span class="number">0</span>;</span><br><span class="line">	<span class="comment">//判断前面有几个一样的</span></span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; h2<span class="number">-1</span>; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">if</span> (ch2[i]==ch2[i<span class="number">+1</span>])</span><br><span class="line">		&#123;</span><br><span class="line">			k++;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span></span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">break</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">while</span> (i &lt; h1 &amp;&amp; j &lt; h2)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">if</span> (ch1[i]==ch2[j])<span class="comment">//判断俩个字符串的每一个字符是否相同</span></span><br><span class="line">		&#123;</span><br><span class="line">			i++;</span><br><span class="line">			j++;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span><span class="comment">//不相同，往下走</span></span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">if</span> (j==<span class="number">0</span>)</span><br><span class="line">			&#123;</span><br><span class="line">              i++;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">if</span> (ch1[i] == ch1[i - <span class="number">1</span>])<span class="comment">//判断下面的数是否是相同的字符</span></span><br><span class="line">			&#123;</span><br><span class="line">				j = k;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">else</span></span><br><span class="line">			&#123;</span><br><span class="line">				j = <span class="number">0</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">if</span> (j==h2)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">return</span> (i-j);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//老师写的：</span></span><br><span class="line"><span class="comment">//创建偏移表的函数</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">getNext</span><span class="params">(<span class="type">char</span>* s, <span class="type">int</span>* next)</span></span>&#123;</span><br><span class="line">	<span class="type">char</span>* pstr = s;</span><br><span class="line">	<span class="type">int</span> len = <span class="built_in">strlen</span>(s);</span><br><span class="line">	<span class="type">int</span> j = <span class="number">0</span>; <span class="type">int</span> k = <span class="number">-1</span>;</span><br><span class="line"></span><br><span class="line">	next[<span class="number">0</span>] = k;<span class="comment">//第一个元素k 为-1 表示j没有办法偏移  需要i偏移</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">while</span> (j &lt; len)&#123;</span><br><span class="line">		<span class="keyword">if</span> (k == <span class="number">-1</span> || pstr[j] == pstr[k])&#123;</span><br><span class="line">			next[++j] = ++k;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span>&#123;</span><br><span class="line">			k = next[k];</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//KMP算法</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">KMP</span><span class="params">(<span class="type">char</span>* s1, <span class="type">char</span>* s2)</span></span>&#123;</span><br><span class="line">	<span class="type">char</span>* pStr1 = s1;</span><br><span class="line">	<span class="type">char</span>* pStr2 = s2;</span><br><span class="line"></span><br><span class="line">	<span class="type">int</span>* next = <span class="keyword">new</span> <span class="type">int</span>[<span class="built_in">strlen</span>(s2)];</span><br><span class="line">	<span class="built_in">getNext</span>(s2, next);</span><br><span class="line"></span><br><span class="line">	<span class="type">int</span> i = <span class="number">0</span>, j = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">while</span> (i &lt; <span class="built_in">strlen</span>(s1) &amp;&amp; j &lt; <span class="built_in">strlen</span>(s2))&#123;</span><br><span class="line">		<span class="keyword">if</span> (<span class="number">-1</span> == j || pStr1[i] == pStr2[j])&#123;</span><br><span class="line">			i++; j++;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span>&#123;</span><br><span class="line">			j = next[j];</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">if</span> (j == <span class="built_in">strlen</span>(s2)) <span class="keyword">return</span> (i - j);</span><br><span class="line">	<span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="贪心算法思想"><a href="#贪心算法思想" class="headerlink" title="贪心算法思想"></a>贪心算法思想</h1><p>大的问题 归纳成小问题 然后迭代<br>能且只能做当前看来最优的选择 如此反复 试图得到最终最优解</p>
<p>缺陷：</p>
<ol>
<li>并非一定能得到整体最优解</li>
<li>每一步都是局部最优</li>
</ol>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//这是解决三角形从上到下累和最大值的算法</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//这是爆破算法，不是贪心算法，这是基础的递归</span></span><br><span class="line"><span class="meta">#<span class="keyword">if</span> 0</span></span><br><span class="line"><span class="comment">//获取最大路径</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">getMax</span><span class="params">(<span class="type">int</span> i, <span class="type">int</span> j)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="comment">//step1 ：递归方式  每一步都计算  爆破法</span></span><br><span class="line">	<span class="comment">//结束条件-&gt;越界</span></span><br><span class="line">	<span class="keyword">if</span> (i &gt;= NUM||j&gt;=NUM) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">	<span class="comment">//递归</span></span><br><span class="line">	</span><br><span class="line">	<span class="type">int</span> n = arr[i][j] + <span class="built_in">getMax</span>(i + <span class="number">1</span>, j);</span><br><span class="line">	<span class="type">int</span> m = arr[i][j] + <span class="built_in">getMax</span>(i + <span class="number">1</span>, j<span class="number">+1</span>);</span><br><span class="line">     t++;</span><br><span class="line">	<span class="keyword">return</span> ((n &gt; m) ? n : m);</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line"><span class="comment">//这是优化爆破算法的贪心算法</span></span><br><span class="line"><span class="meta">#<span class="keyword">if</span> 0</span></span><br><span class="line"><span class="comment">//获取最大路径</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">getMax</span><span class="params">(<span class="type">int</span> i, <span class="type">int</span> j)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="comment">//step2 ：递归方式  有一些没有意义的递归 要省略     存储之前递归计算出来的结果  直接用</span></span><br><span class="line">	<span class="comment">//结束条件-&gt;越界</span></span><br><span class="line">	<span class="keyword">if</span> (maxArr[i][j]!=<span class="number">-1</span>) <span class="keyword">return</span> maxArr[i][j];</span><br><span class="line">	<span class="comment">//递归</span></span><br><span class="line">		<span class="type">int</span> n = arr[i][j] + <span class="built_in">getMax</span>(i + <span class="number">1</span>, j);</span><br><span class="line">		<span class="type">int</span> m = arr[i][j] + <span class="built_in">getMax</span>(i + <span class="number">1</span>, j + <span class="number">1</span>);</span><br><span class="line">		maxArr[i][j] = <span class="built_in">Max</span>(n, m);</span><br><span class="line">	t++;</span><br><span class="line">	<span class="keyword">return</span> maxArr[i][j];</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line"><span class="comment">//递归还是有开销就开始优化为循环</span></span><br><span class="line"><span class="meta">#<span class="keyword">if</span> 0</span></span><br><span class="line"><span class="comment">//获取最大路径</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">getMax</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="comment">//step3 ：循环方式  直接从下往上加</span></span><br><span class="line">	<span class="comment">//先给最下面一层赋值</span></span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; NUM; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		maxArr[NUM - <span class="number">1</span>][i] = arr[NUM - <span class="number">1</span>][i];</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">//循环，一层层向上相加</span></span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> i = NUM<span class="number">-2</span>; i &gt;=<span class="number">0</span>; i--)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt;=i; j++)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="type">int</span> n = maxArr[i + <span class="number">1</span>][j] + arr[i][j];</span><br><span class="line">			<span class="type">int</span> m = maxArr[i + <span class="number">1</span>][j<span class="number">+1</span>] + arr[i][j];</span><br><span class="line">			maxArr[i][j] = <span class="built_in">Max</span>(n, m);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">//返回maxArr[0][0]</span></span><br><span class="line">	<span class="keyword">return</span> maxArr[<span class="number">0</span>][<span class="number">0</span>];</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line"><span class="comment">//当时间不能再优化后对空间的优化</span></span><br><span class="line"><span class="meta">#<span class="keyword">if</span> 0</span></span><br><span class="line"><span class="comment">//获取最大路径</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">getMax</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="comment">//step4 ：循环方式  直接从下往上加  空间方面只用一行</span></span><br><span class="line">	<span class="type">int</span> temp[NUM];</span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; NUM; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		temp[i] = arr[NUM - <span class="number">1</span>][i];</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">//循环，一层层向上相加</span></span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> i = NUM - <span class="number">2</span>; i &gt;= <span class="number">0</span>; i--)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt;= i; j++)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="type">int</span> n = temp[j] + arr[i][j];</span><br><span class="line">			<span class="type">int</span> m = temp[j + <span class="number">1</span>] + arr[i][j];</span><br><span class="line">			temp[j] = <span class="built_in">Max</span>(n, m);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">//返回temp[0]</span></span><br><span class="line">	<span class="keyword">return</span> temp[<span class="number">0</span>];</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br></pre></td></tr></table></figure>

<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//背包问题-&gt;容量和价值，怎么装才是最优解</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> V   20</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> N   5</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">WuPin</span>&#123;</span><br><span class="line">	<span class="type">int</span> w;<span class="comment">//体积</span></span><br><span class="line">	<span class="type">int</span> c;<span class="comment">//价值</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">WuPin wp[N] = &#123; &#123; <span class="number">3</span>, <span class="number">4</span>&#125;, &#123; <span class="number">5</span>,<span class="number">6</span> &#125;, &#123; <span class="number">6</span>, <span class="number">7</span>&#125;, &#123; <span class="number">7</span>,<span class="number">8</span> &#125;, &#123; <span class="number">9</span>,<span class="number">10</span> &#125; &#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//返回 a b 中大的那一个</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">Max</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b)</span></span>&#123;</span><br><span class="line">	<span class="keyword">return</span> ((a &gt; b) ? a : b);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span>  <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> temp[<span class="number">100</span>] = &#123; <span class="number">0</span> &#125;;<span class="comment">//存储各种体积对应的价值</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; N; i++)&#123;<span class="comment">//种类搭配</span></span><br><span class="line">	  <span class="keyword">for</span> (<span class="type">int</span> j = wp[i].w; j &lt;= V; j++)&#123;<span class="comment">//j表示体积   </span></span><br><span class="line">		    temp[j] = <span class="built_in">Max</span>(temp[j], temp[j - wp[i].w] + wp[i].c);</span><br><span class="line">      &#125;</span><br><span class="line">	&#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//关键代码： temp[j] = Max(temp[j], temp[j - wp[i].w] + wp[i].c);</span></span><br><span class="line"><span class="comment">//原理是贪心算法，自己的理解是：先用第一种物品装满背包，所需装的价值，陈列到数组里，然后用接下来的物品往里装，看是否比之前的更有价值，有就取代，没有继续，直到结束，最后最大值就是最优解。</span></span><br><span class="line"><span class="comment">//为什么j++而不是j+=wp[i].w（保险，但是我觉得是）</span></span><br></pre></td></tr></table></figure>

<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">dijkstra算法：解决最短路径问题</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="comment">//代表不连通状态</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> NO  0xFFFFFF</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> MAX   100</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">graph</span>&#123;</span><br><span class="line">	<span class="type">char</span>	vetexs[MAX];		<span class="comment">//顶点数组</span></span><br><span class="line">	<span class="type">int</span>		vexnum;				<span class="comment">//顶点个数</span></span><br><span class="line">	<span class="type">int</span>		arcnum;				<span class="comment">//边个数</span></span><br><span class="line">	<span class="type">int</span>		matix[MAX][MAX];	<span class="comment">//描述边的二维数组</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">//map 图    in 起点下标     dist 存放最短路径的数组</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Dijkstra</span><span class="params">(graph map, <span class="type">int</span> in, <span class="type">int</span> dist[])</span></span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	graph  map = &#123;</span><br><span class="line">		<span class="string">&quot;12345&quot;</span>,<span class="number">5</span>,<span class="number">7</span>,</span><br><span class="line">		&#123;</span><br><span class="line">			&#123; NO, <span class="number">10</span>, NO, <span class="number">30</span>, <span class="number">100</span> &#125;,</span><br><span class="line">			&#123; NO, NO, <span class="number">50</span>, NO, NO &#125;,</span><br><span class="line">			&#123; NO, NO, NO, NO, <span class="number">10</span> &#125;,</span><br><span class="line">			&#123; NO, NO, <span class="number">20</span>, NO, <span class="number">60</span> &#125;,</span><br><span class="line">			&#123; NO, NO, NO, NO, NO &#125; </span><br><span class="line">		&#125;</span><br><span class="line">	&#125;;</span><br><span class="line"></span><br><span class="line">	<span class="type">int</span> in = <span class="number">0</span>;<span class="comment">//入口</span></span><br><span class="line">	<span class="type">int</span> dist[MAX] = &#123; <span class="number">0</span> &#125;;<span class="comment">//存放路径的数组</span></span><br><span class="line"></span><br><span class="line">	<span class="built_in">Dijkstra</span>(map, in, dist);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt; <span class="number">10</span>; i++)</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;%d &quot;</span>, dist[i]);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">	<span class="keyword">while</span> (<span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//map 图    in 起点下标     dist 存放最短路径的数组</span></span><br><span class="line"><span class="comment">// 找到当前入口到其他顶点的路径</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Dijkstra</span><span class="params">(graph map, <span class="type">int</span> in, <span class="type">int</span> dist[])</span></span>&#123;</span><br><span class="line">	<span class="type">int</span> i = <span class="number">0</span>,j = <span class="number">0</span>, k = <span class="number">0</span>;</span><br><span class="line">	<span class="type">int</span> flag[MAX];<span class="comment">//标记成功获取的路径</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; map.vexnum; i++)&#123;</span><br><span class="line">		flag[i] = <span class="number">0</span>;</span><br><span class="line">		dist[i] = map.matix[in][i];</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">//2. 扩充顶点</span></span><br><span class="line">	flag[in] = <span class="number">1</span>;<span class="comment">//进来的时候标记一下</span></span><br><span class="line">	<span class="type">int</span> min;<span class="comment">//最小值</span></span><br><span class="line">	<span class="keyword">for</span> (i = <span class="number">1</span>; i &lt; map.vexnum; i++)<span class="comment">//每一层进行比较-&gt;每一次循环</span></span><br><span class="line">	&#123;</span><br><span class="line">		min = NO;</span><br><span class="line">		<span class="keyword">for</span> (j = <span class="number">1</span>; j &lt; map.vexnum; j++)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">if</span> (flag[j] == <span class="number">0</span> &amp;&amp; dist[j] &lt; min)<span class="comment">//没选中过，且值小于最小值</span></span><br><span class="line">			&#123;</span><br><span class="line">				min = dist[j];<span class="comment">//更改最小值</span></span><br><span class="line">				k = j;        <span class="comment">//存下标</span></span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		flag[k] = <span class="number">1</span>;<span class="comment">//更新为选中</span></span><br><span class="line">		<span class="keyword">for</span> (j = <span class="number">1</span>; j &lt; map.vexnum; j++)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">if</span> (flag[j] == <span class="number">0</span> &amp;&amp; (min + map.matix[k][j]) &lt; dist[j])<span class="comment">//没选中过，且累和小于以存入数据</span></span><br><span class="line">			&#123;</span><br><span class="line">				dist[j] = min + map.matix[k][j];<span class="comment">//存入数据</span></span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt; map.vexnum; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;最短路径(%c,%c)=%d\n&quot;</span>, map.vetexs[in], map.vetexs[i], dist[i]);</span><br><span class="line">	&#125;</span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure>



<h1 id="动态规划"><a href="#动态规划" class="headerlink" title="动态规划"></a>动态规划</h1><blockquote>
<p>动态规划又叫  <code>dp</code></p>
</blockquote>
<p>把一个问题分解成若干个子问题<br>        将中间结果保存以避免重复计算<br>         基本步骤：</p>
<ol>
<li>找出最优解的性质，然后刻画结构特征  （找规律）</li>
<li>最优解(最好的解决方案 定义)   循环(递归)</li>
<li>以自上而下或者自下而上的方式来计算最优值(局部的)</li>
<li>通过最优值来构造最优解</li>
</ol>
<p>动态规划的案例：</p>
<ol>
<li>台阶问题-&gt;斐波那契数列</li>
</ol>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//台阶问题</span></span><br><span class="line"><span class="comment">//递归版本</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">taijie</span><span class="params">(<span class="type">int</span> n)</span></span>&#123;</span><br><span class="line"><span class="comment">//结束条件</span></span><br><span class="line">	<span class="keyword">if</span> (n &lt; <span class="number">1</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">if</span> (<span class="number">1</span> == n || <span class="number">2</span> == n) <span class="keyword">return</span> n;</span><br><span class="line">	<span class="keyword">return</span> <span class="built_in">taijie</span>(n - <span class="number">1</span>) + <span class="built_in">taijie</span>(n - <span class="number">2</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//台阶问题</span></span><br><span class="line"><span class="comment">//循环版本</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">taijie</span><span class="params">(<span class="type">int</span> n)</span></span>&#123;</span><br><span class="line">	<span class="type">int</span> temp;</span><br><span class="line">	<span class="type">int</span> f1 = <span class="number">1</span>, f2 = <span class="number">2</span>;</span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">3</span>; i &lt;= n; i++)&#123;</span><br><span class="line">		temp = f1 + f2;</span><br><span class="line">		f1 = f2;</span><br><span class="line">		f2 = temp;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> temp;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>最短路径问题</li>
</ol>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//地图0是边界，从3开始走到8</span></span><br><span class="line"><span class="type">int</span> map[<span class="number">5</span>][<span class="number">5</span>] = &#123;</span><br><span class="line">	&#123; <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span> &#125;,</span><br><span class="line">	&#123; <span class="number">0</span>, <span class="number">3</span>, <span class="number">6</span>, <span class="number">2</span>, <span class="number">1</span> &#125;,</span><br><span class="line">	&#123; <span class="number">0</span>, <span class="number">4</span>, <span class="number">3</span>, <span class="number">0</span>, <span class="number">6</span> &#125;,</span><br><span class="line">	&#123; <span class="number">0</span>, <span class="number">5</span>, <span class="number">5</span>, <span class="number">4</span>, <span class="number">3</span> &#125;,</span><br><span class="line">	&#123; <span class="number">0</span>, <span class="number">9</span>, <span class="number">7</span>, <span class="number">2</span>, <span class="number">8</span> &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">//判断谁最小</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">min</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b)</span></span>&#123;</span><br><span class="line">	<span class="keyword">return</span> ((a &lt; b) ? a : b);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//最小路径问题</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">findMinPath</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="type">int</span> dp[<span class="number">5</span>][<span class="number">5</span>] = &#123; <span class="number">0</span> &#125;;<span class="comment">//辅助数组</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt; <span class="number">5</span>; i++)&#123;<span class="comment">//往下</span></span><br><span class="line">		<span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">1</span>; j &lt; <span class="number">5</span>; j++)&#123;<span class="comment">//往右</span></span><br><span class="line">			<span class="keyword">if</span> (<span class="number">1</span> == i)&#123;<span class="comment">//只有从左边来的可能</span></span><br><span class="line">				dp[i][j] = map[i][j] + dp[i][j - <span class="number">1</span>];</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">else</span> <span class="keyword">if</span> (<span class="number">1</span> == j)&#123;<span class="comment">//只有从上边来的可能</span></span><br><span class="line">				dp[i][j] = map[i][j] + dp[i - <span class="number">1</span>][j];</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">else</span>&#123;</span><br><span class="line">				dp[i][j] = map[i][j] + <span class="built_in">min</span>(dp[i][j - <span class="number">1</span>], dp[i - <span class="number">1</span>][j]);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> dp[<span class="number">4</span>][<span class="number">4</span>];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>求最大上升子串长度问题</li>
</ol>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//求最大上升子串长度</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">findMaxStrLength</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="comment">//准备工作</span></span><br><span class="line">	<span class="type">int</span> N;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;请输入字符串长度:&quot;</span>);</span><br><span class="line">	<span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;N);</span><br><span class="line">	<span class="type">int</span>* pBuff = <span class="keyword">new</span> <span class="type">int</span>[N];</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;请输入字符串:&quot;</span>);</span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; N; i++)</span><br><span class="line">		<span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;pBuff[i]);</span><br><span class="line">	<span class="comment">//准备统计最大上升子串长度的临时数组</span></span><br><span class="line">	<span class="type">int</span>* pMaxLen = <span class="keyword">new</span> <span class="type">int</span>[N];</span><br><span class="line">	<span class="built_in">memset</span>(pMaxLen, <span class="number">0</span>, <span class="built_in">sizeof</span>(<span class="type">int</span>)*N);</span><br><span class="line">    <span class="comment">//正式开始</span></span><br><span class="line">    <span class="comment">//因为第一个数肯定是一个最长上升子序列，所以pMaxLen[1] = 1。</span></span><br><span class="line">	pMaxLen[<span class="number">1</span>] = <span class="number">1</span>;<span class="comment">//第二个为1</span></span><br><span class="line">	<span class="type">int</span> nTemp;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//这个写法和本代码实现有出入，但是思想都是一样的</span></span><br><span class="line">    <span class="comment">//如果pBuff[i]（当前的数） &gt; pBuff[j]（前一个数），则pMaxLen[i]=pMaxLen[j]+1</span></span><br><span class="line">    <span class="comment">//否则找到（从后往前）第一个比pBuff[i]小的数pBuff[k]，则pMaxLen[i]=pMaxLen[k]+1</span></span><br><span class="line">    </span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">2</span>; i &lt; N; i++)<span class="comment">//从第三个开始到串末尾</span></span><br><span class="line">    &#123;</span><br><span class="line">		nTemp = <span class="number">1</span>;<span class="comment">//实时记录当前最大上升子串长度</span></span><br><span class="line">		<span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">1</span>; j &lt; i; j++)<span class="comment">//从i前面的串里去找</span></span><br><span class="line">        &#123;</span><br><span class="line">			<span class="keyword">if</span> (pBuff[j] &lt; pBuff[i])<span class="comment">//找到比当前数据要小的数据</span></span><br><span class="line">            &#123;</span><br><span class="line">				<span class="keyword">if</span> (nTemp &lt; pMaxLen[j])<span class="comment">//找到第一个比pBuff[i]小的数pBuff[k]</span></span><br><span class="line">					nTemp = pMaxLen[j];</span><br><span class="line">			&#125;</span><br><span class="line">			pMaxLen[i] = nTemp + <span class="number">1</span>;</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">&quot;i:%d j:%d %d\n&quot;</span>,i,j, pMaxLen[i]);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;最大上升子串长度为:%d\n&quot;</span>, pMaxLen[N - <span class="number">1</span>]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h1 id="动态回溯"><a href="#动态回溯" class="headerlink" title="动态回溯"></a>动态回溯</h1><p>动态回溯：<br>	   寻路算法    深度寻路算法<br>	   动态回溯算法思想：</p>
<pre><code>	1. 针对问题来解空间：  根据实际需求用不同方式来描述
		深度寻路算法： 要找到起点到终点的路径   二维数组来描述地图
	2. 确定易于搜索的解空间结构，并构造相应的判断函数
	3. 用深度优先搜索的方式来解决问题，并要有合适的回溯方式（栈）

动态回溯 == 问题的解空间 + 深度优先搜索 + 判断结果的结构 + 回溯
</code></pre>
<p>动态回溯一般用来解决哪些问题：<br>	1. 寻路  2. 货物装载 3. 0-1背包问题 4. 图的着色问题(涂格子)<br>	5. 电路排版问题 6. 旅行者售后员问题 7. N皇后问题<br>			<br>8皇后问题： 国际象棋棋盘   在任意两个皇后不能互相触及的前提下 有多少种摆法<br>	<br>	1 问题的解空间 ： 二维数组<br>	2 深度优先搜索 ： 递归 一个个去摆  摆了N个皇后结束<br>	3 判断结果     ： 判断能不能摆  数量是否达标<br>	4 回溯        ：  给二维数组元素赋值 为1 表示摆放好了 赋值为0 就是回退  </p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//N皇后问题</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="comment">//N个皇后</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> N 8</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//统计种数</span></span><br><span class="line"><span class="type">int</span> num = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//判断所在格子上是否有棋子</span></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">isfang</span><span class="params">(<span class="type">int</span> i, <span class="type">int</span> j, <span class="type">int</span> q[][N])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="type">int</span> s;<span class="comment">//s i 垂直 y轴</span></span><br><span class="line">	<span class="type">int</span> t;<span class="comment">//t j 水平 x轴</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">//横向</span></span><br><span class="line">	<span class="keyword">for</span> (s = i, t = <span class="number">0</span>; t &lt; N; t++)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">if</span> (q[s][t] == <span class="number">1</span> &amp;&amp; j != t)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//纵向</span></span><br><span class="line">	<span class="keyword">for</span> (s = <span class="number">0</span>, t = j; s &lt; N; s++)</span><br><span class="line">	&#123; </span><br><span class="line">		<span class="keyword">if</span> (q[s][t] == <span class="number">1</span> &amp;&amp; s != i)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">//左上</span></span><br><span class="line">	<span class="keyword">for</span> (t = j - <span class="number">1</span>, s = i - <span class="number">1</span>; s &gt;= <span class="number">0</span> &amp;&amp; t &gt;= <span class="number">0</span>; s--, t--) </span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">if</span> (q[s][t] == <span class="number">1</span>)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//左下</span></span><br><span class="line">	<span class="keyword">for</span> (t = j - <span class="number">1</span>, s = i + <span class="number">1</span>; s &lt; N &amp;&amp; t &gt;= <span class="number">0</span>; s++, t--) </span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">if</span> (q[s][t] == <span class="number">1</span>) </span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//右上</span></span><br><span class="line">	<span class="keyword">for</span> (t = j + <span class="number">1</span>, s = i - <span class="number">1</span>; s &gt;= <span class="number">0</span> &amp;&amp; t &lt; N; s--, t++) </span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">if</span> (q[s][t] == <span class="number">1</span>) </span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">//右下</span></span><br><span class="line">	<span class="keyword">for</span> (t = j + <span class="number">1</span>, s = i + <span class="number">1</span>; s &lt; N &amp;&amp; t &lt; N; s++, t++) </span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">if</span> (q[s][t] == <span class="number">1</span>) </span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//N皇后问题</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Queen</span><span class="params">( <span class="type">int</span> q[][N],<span class="type">int</span> j=<span class="number">0</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="comment">//因为需要回溯所以用递归简单</span></span><br><span class="line">	<span class="comment">//首先设置结束条件-&gt;王后都放置成功</span></span><br><span class="line">	<span class="keyword">if</span> (j==N)</span><br><span class="line">	&#123;</span><br><span class="line">		num++;</span><br><span class="line">		<span class="keyword">return</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; N; i++)<span class="comment">//因为每行放一个，一行就不能放第二个了，所以一个循环，表示y</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">if</span> (<span class="built_in">isfang</span>(i,j,q))<span class="comment">//判断所在的格子上是否有棋子</span></span><br><span class="line">		&#123;</span><br><span class="line">			q[i][j] = <span class="number">1</span>;<span class="comment">//没有就让它有</span></span><br><span class="line">			<span class="built_in">Queen</span>(q,j<span class="number">+1</span>);<span class="comment">//继续放</span></span><br><span class="line">			q[i][j] = <span class="number">0</span>;<span class="comment">//回溯</span></span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="type">int</span> q[N][N] = &#123; <span class="number">0</span> &#125;;</span><br><span class="line">	<span class="built_in">Queen</span>(q);</span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;一共有&quot;</span> &lt;&lt; num &lt;&lt; endl;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h1 id="分支定界"><a href="#分支定界" class="headerlink" title="分支定界"></a>分支定界</h1><p>分支定界思想：一般用来解决寻路问题(最短路径)   广度寻路  A星寻路<br>	常用广度优先或者以最小耗费(最大收益)优先的方式搜索问题的解空间树。<br>	<br>	在分支定界算法思想中，每一个活节点(坐标节点)只有一次机会成为拓展节点<br>	一旦成为拓展节点，就一次性生成其所有孩子节点。<br>	在这些孩子节点中，导致不可行解或者非最优解的孩子节点被舍弃(剪枝)，<br>	其余孩子节点被加入活节点表中(存放，记录，保存)<br>	此后，从活节点表中获取下一节点成为当前拓展节点，并重复上述节点拓展过程。<br>	这个过程一直到找到需要的解（找到终点）或者活节点表（buff）为空。</p>
<p>广度寻路：<br>	爬虫</p>
<pre><code>给一个网址 
解析网址：
连上网页的服务器
发送请求到网页服务器，获取网页源码
源码中就有很多的图片链接和网址链接
把网址链接存到队列中
循环从队列中一个个取出 取出后
	解析网址：
	连上网页的服务器
	发送请求到网页服务器，获取网页源码
	源码中就有很多的图片链接和网址链接
	把网址链接存到队列中
把图片链接存到队列中
循环从队列中一个个取出 取出后
	解析网址：
	连上网页的服务器
	发送请求到网页服务器，获取图片
</code></pre>
<p>A星寻路:图结构<br>	<br>分支定界法常用的两个数据结构：<br>	1. 队列式分支定界法<br>		按照队列原则选取下一个节点成为拓展节点。（广度寻路）<br>	2. 优先队列式分支定界法<br>		按照优先队列中规定的优先级选取优先级最高的节点成为当前拓展节点。（A星寻路）</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2025/04/01/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="王湘宇">
      <meta itemprop="description" content="故事开始于2025/2/24 15：47">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="王湘宇的小屋">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2025/04/01/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" class="post-title-link" itemprop="url">未命名</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2025-04-01 10:43:59" itemprop="dateCreated datePublished" datetime="2025-04-01T10:43:59+08:00">2025-04-01</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2024-09-10 16:20:12" itemprop="dateModified" datetime="2024-09-10T16:20:12+08:00">2024-09-10</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>[TOC]</p>
<h1 id="设计模式"><a href="#设计模式" class="headerlink" title="设计模式"></a>设计模式</h1><h2 id="设计模式分类"><a href="#设计模式分类" class="headerlink" title="设计模式分类"></a>设计模式分类</h2><ul>
<li><p>创建型模式</p>
<p>通常和对象创建有关，设计到对象实例化的方式(5种)</p>
<ul>
<li>工厂模式</li>
<li>抽象工厂模式</li>
<li>建造者模式</li>
<li>原型模式</li>
<li>单例模式</li>
</ul>
</li>
<li><p>结构型模式</p>
<p>描述的是如何组合类和对象获得更大的结构(7种)</p>
<ul>
<li>代理模式</li>
<li>装饰者模式</li>
<li>适配器模式</li>
<li>桥接模式</li>
<li>组合模式</li>
<li>外观模式</li>
<li>享元模式</li>
</ul>
</li>
<li><p>行为型模式</p>
<p>描述的类和对象的交互以及分配职责(11种 )</p>
<ul>
<li>模板方法模式</li>
<li>命令模式</li>
<li>责任链模式</li>
<li>策略模式</li>
<li>中介者模式</li>
<li>观察者模式</li>
<li>备忘录模式</li>
<li>访问者模式</li>
<li>状态模式</li>
<li>解释器模式</li>
<li>迭代器模式</li>
</ul>
</li>
</ul>
<h2 id="面向对象的设计原则"><a href="#面向对象的设计原则" class="headerlink" title="面向对象的设计原则"></a>面向对象的设计原则</h2><h3 id="依赖倒置原则-DIP"><a href="#依赖倒置原则-DIP" class="headerlink" title="依赖倒置原则(DIP)"></a>依赖倒置原则(DIP)</h3><p>DIP：Dependence Inversion Principle</p>
<ul>
<li>高层(稳定)不依赖低层(变化)，两者依赖抽象(稳定)。</li>
<li>抽象(稳定)不依赖细节(变化)，细节依赖抽象(稳定)。</li>
</ul>
<h3 id="开放封闭原则-OCP"><a href="#开放封闭原则-OCP" class="headerlink" title="开放封闭原则(OCP)"></a>开放封闭原则(OCP)</h3><p>OCP:Open For Extension, Closed For Modification Principle</p>
<ul>
<li><p>对扩展开放，对更改封闭</p>
</li>
<li><p>类模块可扩展， 但不可修改</p>
</li>
</ul>
<h3 id="单一职责原则-SRP"><a href="#单一职责原则-SRP" class="headerlink" title="单一职责原则(SRP)"></a>单一职责原则(SRP)</h3><p>SRP:Single Responsibility Principle</p>
<ul>
<li>一个类应该仅有一个引起它变化的原因</li>
<li>变化的方向隐含类的责任</li>
</ul>
<h3 id="里氏替换原则-LSP"><a href="#里氏替换原则-LSP" class="headerlink" title="里氏替换原则(LSP)"></a>里氏替换原则(LSP)</h3><p>LSP:Liskov Substitution Principle</p>
<ul>
<li>子类必须能够替换它们的基类</li>
<li>继承表达类型抽象</li>
</ul>
<h3 id="接口隔离原则-ISP"><a href="#接口隔离原则-ISP" class="headerlink" title="接口隔离原则(ISP)"></a>接口隔离原则(ISP)</h3><ul>
<li>不应该强迫客户程序依赖他们不用的方法</li>
<li>接口应该小而完备</li>
<li>一个接口应该只提供一种对外功能</li>
</ul>
<h3 id="优先组合不是继承原则-CARP"><a href="#优先组合不是继承原则-CARP" class="headerlink" title="优先组合不是继承原则(CARP)"></a>优先组合不是继承原则(CARP)</h3><p>CARP：Composite&#x2F;Aggregate Reuse Principle</p>
<ul>
<li>类的继承通常是”白箱复用”，对象组合通常是”黑箱复用”</li>
<li>继承在一定程序破坏封装性，子类和父类耦合度高</li>
</ul>
<h3 id="迪米特法则-LOD"><a href="#迪米特法则-LOD" class="headerlink" title="迪米特法则(LOD)"></a>迪米特法则(LOD)</h3><p>LOD：Law of Demeter</p>
<ul>
<li>对象应当对其他对象尽可能少的了解</li>
<li>各个模块之间相互调用时，通常会提供一个统一的接口来实现</li>
</ul>
<h2 id="c-类图"><a href="#c-类图" class="headerlink" title="c++类图"></a>c++类图</h2><h3 id="什么是类图"><a href="#什么是类图" class="headerlink" title="什么是类图"></a>什么是类图</h3><p>类图(Class diagram)是显示了模型的静态结构，特别是模型中存在的类、类的内部结构以及它们与其他类的关系等。类图不显示暂时性的信息。类图是面向对象建模的主要组成部分。它既用于应用程序的系统分类的一般概念建模，也用于详细建模，将模型转换成编程代码。</p>
<h3 id="类图作用"><a href="#类图作用" class="headerlink" title="类图作用"></a>类图作用</h3><p>类图(Class diagram)是显示了模型的静态结构，特别是模型中存在的类、类的内部结构以及它们与其他类的关系等。类图不显示暂时性的信息。类图是面向对象建模的主要组成部分。它既用于应用程序的系统分类的一般概念建模，也用于详细建模，将模型转换成编程代码。<br>：描述类的本身结构以及类与类之间一些关系</p>
<h3 id="类图的元素"><a href="#类图的元素" class="headerlink" title="类图的元素"></a>类图的元素</h3><p>在类图中一共包含了以下几种模型元素，分别是：类（Class）、接口（Interface）、依赖（Dependency）关系、泛化（Generalization）关系、关联（Association）关系、聚合关系（Aggregation）、组合关系（Composition）和实现（Realization）关系。</p>
<h2 id="类图中类的组成"><a href="#类图中类的组成" class="headerlink" title="类图中类的组成"></a>类图中类的组成</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">+: 公有属性</span><br><span class="line">-: 私有属性</span><br><span class="line">#: 保护属性</span><br><span class="line">name:<span class="built_in">string</span>  成员名:类型</span><br><span class="line">eat():<span class="type">void</span>   成员函数:返回值类型</span><br><span class="line">斜体:抽象类或者纯虚函数</span><br></pre></td></tr></table></figure>

<h3 id="类中图类的关系"><a href="#类中图类的关系" class="headerlink" title="类中图类的关系"></a>类中图类的关系</h3><ul>
<li><p>依赖（Dependency）关系</p>
<p>依赖关系是指两个或多个类之间的依存关系，如植物类依赖于土壤类。 依赖关系还可以再细分为5种类型，分别是绑定（Binding）依赖、实现（Realization）依赖、使用（Usage）依赖、抽象（Abstraction）依赖和授权（Permission）依赖。</p>
<p>(<strong>依赖关系用虚线箭头来表示，箭头指向为依赖的方向</strong>)</p>
</li>
<li><p>泛化（Generalization）关系</p>
<p>简单的讲就是类之间的继承关系。</p>
<p>  (<strong>用空心三角形-实线来表示，箭头指向为父类</strong>)</p>
</li>
<li><p>关联（Association）关系</p>
<p>关联关系是类之间一种相互影响的关系，影响的方向就是关联的方向。</p>
<p>（<strong>关联关系用实线箭头来表示</strong>）</p>
</li>
<li><p>聚合（Aggregation)关系</p>
<p>聚合关系是类之间的一种较弱的耦合关系，如一个字符串数组和一个字符串就是一种聚合关系。</p>
<p>（<strong>空心的菱形-实线箭头来表示，箭头指向为被聚合的类</strong>）</p>
</li>
<li><p>组合（Composition）关系</p>
<p>组合关系是类之间一种整体与部分之间的关系，如一只青蛙有四条腿，青蛙类与青蛙腿类之间的关系就是组合关系。</p>
<p>(<strong>组合关系用实心的菱形-实线箭头来表示，箭头指向为被组合的类</strong>)</p>
</li>
<li><p>实现（Realization）关系</p>
<p>一般来讲实现关系是针对类与接口之间的关系而言的。</p>
<p>(<strong>实现关系用空心三角形-虚线来表示</strong>)</p>
</li>
</ul>
<h2 id="单例设计模式"><a href="#单例设计模式" class="headerlink" title="单例设计模式"></a>单例设计模式</h2><h3 id="什么是单例模式"><a href="#什么是单例模式" class="headerlink" title="什么是单例模式"></a>什么是单例模式</h3><p>单例模式是一种对象创建型模式，使用单例模式，可以保证为一个类只生成唯一的实例对象。也就是说，<strong>在整个程序中，该类只存在一个实例对象</strong>。</p>
<h3 id="单例模式实现步骤"><a href="#单例模式实现步骤" class="headerlink" title="单例模式实现步骤"></a>单例模式实现步骤</h3><ol>
<li>构造函数私有化</li>
<li>提供一个全局的静态方法，访问唯一对象</li>
<li>类中定义一个静态指针，指向唯一对象</li>
</ol>
<h3 id="为什么使用单例模式"><a href="#为什么使用单例模式" class="headerlink" title="为什么使用单例模式"></a>为什么使用单例模式</h3><p>在应用系统开发中，我们常常有以下需求：</p>
<p><strong>1. 需要生成唯一序列的环境</strong><br><strong>2. 需要频繁实例化然后销毁的对象。</strong><br><strong>3. 创建对象时耗时过多或者耗资源过多，但又经常用到的对象。</strong><br><strong>4. 方便资源相互通信的环境</strong></p>
<p>实际案例:</p>
<ul>
<li>多线程中网络资源初始化</li>
<li>回收站机制</li>
<li>任务管理器</li>
<li>应用程序日志管理</li>
<li>…….</li>
</ul>
<h3 id="单例模式优缺点"><a href="#单例模式优缺点" class="headerlink" title="单例模式优缺点"></a>单例模式优缺点</h3><p><strong>优点</strong>：</p>
<ul>
<li>在内存中只有一个对象，节省内存空间；</li>
<li>避免频繁的创建销毁对象，可以提高性能；</li>
<li>避免对共享资源的多重占用，简化访问；</li>
<li>为整个系统提供一个全局访问点。</li>
</ul>
<p><strong>缺点</strong>：</p>
<ul>
<li>不适用于变化频繁的对象；</li>
<li>如果实例化的对象长时间用，系统会认为该对象是垃圾而被回收，这可能会导致对象状态的丢失；</li>
</ul>
<h3 id="单例模式实现代码"><a href="#单例模式实现代码" class="headerlink" title="单例模式实现代码"></a>单例模式实现代码</h3><h4 id="懒汉式"><a href="#懒汉式" class="headerlink" title="懒汉式"></a>懒汉式</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="comment">//懒汉式</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Singleton_pattern</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>: </span><br><span class="line">  <span class="comment">//对象指针</span></span><br><span class="line">  <span class="type">static</span> Singleton_pattern* singlenton;</span><br><span class="line">  <span class="comment">//创建唯一对象</span></span><br><span class="line">  <span class="function"><span class="type">static</span>  Singleton_pattern* <span class="title">getclass</span><span class="params">()</span></span></span><br><span class="line"><span class="function">  </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (singlenton == <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">      singlenton = <span class="keyword">new</span> <span class="built_in">Singleton_pattern</span>();</span><br><span class="line">    &#125;</span><br><span class="line"><span class="keyword">return</span>  singlenton;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">  <span class="comment">//构造函数私有化</span></span><br><span class="line">  <span class="built_in">Singleton_pattern</span>()&#123;&#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">//要给静态成员变量赋值否则会报错</span></span><br><span class="line">Singleton_pattern* Singleton_pattern:: singlenton = <span class="literal">NULL</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  Singleton_pattern* sing = Singleton_pattern::<span class="built_in">getclass</span>();</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="饿汉式"><a href="#饿汉式" class="headerlink" title="饿汉式"></a>饿汉式</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="comment">// 饿汉式</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Singleton_pattern</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">  <span class="comment">//对象指针</span></span><br><span class="line">  <span class="type">static</span> Singleton_pattern* singlenton;</span><br><span class="line">  <span class="comment">//返回指针</span></span><br><span class="line">  <span class="function"><span class="type">static</span>  Singleton_pattern* <span class="title">getclass</span><span class="params">()</span></span></span><br><span class="line"><span class="function">  </span>&#123;</span><br><span class="line">    <span class="keyword">return</span>  singlenton;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">  <span class="comment">//构造函数私有化</span></span><br><span class="line">  <span class="built_in">Singleton_pattern</span>()&#123;&#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">//直接创建对象，与懒汉式不同是如果代码用不上这个类，就会多占用空间</span></span><br><span class="line">Singleton_pattern* Singleton_pattern::singlenton = <span class="keyword">new</span> <span class="built_in">Singleton_pattern</span>();</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  Singleton_pattern* sing = Singleton_pattern::<span class="built_in">getclass</span>();</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="简单工厂模式"><a href="#简单工厂模式" class="headerlink" title="简单工厂模式"></a>简单工厂模式</h2><h3 id="什么是简单工厂"><a href="#什么是简单工厂" class="headerlink" title="什么是简单工厂"></a>什么是简单工厂</h3><p>简单工厂模式属于类的创建型模式,又叫做静态工厂方法模式。</p>
<p>通过专门定义一个类来负责创建其他类的实例，被创建的实例通常都具有共同的父类。</p>
<h3 id="为什么使用简单工厂"><a href="#为什么使用简单工厂" class="headerlink" title="为什么使用简单工厂"></a>为什么使用简单工厂</h3><p>减少客户程序对类创建过程的依赖</p>
<h3 id="简单工厂实现步骤"><a href="#简单工厂实现步骤" class="headerlink" title="简单工厂实现步骤"></a>简单工厂实现步骤</h3><p>1.提供一个工厂类</p>
<p>简单工厂模式的核心，它负责实现创建所有实例的内部逻辑。工厂类可以被外界直接调用，创建所需的产品对象。</p>
<p>2.提供一个抽象产品类</p>
<p>简单工厂模式所创建的所有对象的父类，它负责描述所有实例所共有的公共接口。</p>
<p>3.提供一个具体产品类</p>
<p>简单工厂模式所创建的具体实例对象</p>
<h3 id="简单工厂优缺点"><a href="#简单工厂优缺点" class="headerlink" title="简单工厂优缺点"></a>简单工厂优缺点</h3><p><strong>优点</strong>：</p>
<ul>
<li><p>帮助封装</p>
<p>实现组件封装，面向接口编程</p>
</li>
<li><p>解耦合</p>
<p>客户端和具体实现类的解耦合</p>
</li>
</ul>
<p><strong>缺点</strong>：</p>
<ul>
<li>可能增加客户端的复杂度</li>
<li>不方便扩展子工厂</li>
</ul>
<h3 id="简单工厂实现代码"><a href="#简单工厂实现代码" class="headerlink" title="简单工厂实现代码"></a>简单工厂实现代码</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line">using namespace <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//简单工厂模式设计简单计算器</span></span><br><span class="line"><span class="comment">//抽象类</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">symbol</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="comment">//简单写模式就不写构造函数了</span></span><br><span class="line"><span class="comment">//否者下面的继承类写也写构造麻烦</span></span><br><span class="line">public:</span><br><span class="line">  <span class="type">double</span> one=<span class="number">0</span>;</span><br><span class="line">  <span class="type">double</span> twe=<span class="number">0</span>;</span><br><span class="line">  virtual <span class="type">double</span> <span class="title function_">getreturn</span><span class="params">()</span> = <span class="number">0</span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">addsybol</span>:</span>public symbol</span><br><span class="line">&#123;</span><br><span class="line">private:</span><br><span class="line">  <span class="type">double</span> <span class="title function_">getreturn</span><span class="params">()</span></span><br><span class="line">  &#123;</span><br><span class="line">    <span class="keyword">return</span> one + twe;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">minsybol</span> :</span>public symbol</span><br><span class="line">&#123;</span><br><span class="line">private:</span><br><span class="line">  <span class="type">double</span> <span class="title function_">getreturn</span><span class="params">()</span></span><br><span class="line">  &#123;</span><br><span class="line">    <span class="keyword">return</span> one - twe;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">musybol</span> :</span>public symbol</span><br><span class="line">&#123;</span><br><span class="line">private:</span><br><span class="line">  <span class="type">double</span> <span class="title function_">getreturn</span><span class="params">()</span></span><br><span class="line">  &#123;</span><br><span class="line">    <span class="keyword">return</span> one * twe;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">divsybol</span> :</span>public symbol</span><br><span class="line">&#123;</span><br><span class="line">private:</span><br><span class="line">  <span class="type">double</span> <span class="title function_">getreturn</span><span class="params">()</span></span><br><span class="line">  &#123;</span><br><span class="line">    <span class="keyword">if</span> (twe)</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="keyword">return</span> one / twe;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">operatoron</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">public:</span><br><span class="line">  <span class="type">static</span> symbol* <span class="title function_">getsy</span><span class="params">(<span class="type">char</span> s)</span></span><br><span class="line">  &#123;</span><br><span class="line">    <span class="keyword">switch</span> (s)</span><br><span class="line">    &#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">&#x27;+&#x27;</span>: <span class="keyword">return</span> new addsybol;</span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">    ase <span class="string">&#x27;-&#x27;</span>:<span class="keyword">return</span> new minsybol;</span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">&#x27;*&#x27;</span>: <span class="keyword">return</span> new musybol;</span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">&#x27;/&#x27;</span>: <span class="keyword">return</span> new divsybol;</span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">default</span>:</span><br><span class="line">      <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">  symbol* p = operatoron::getsy(<span class="string">&#x27;+&#x27;</span>);</span><br><span class="line">  p-&gt;one = <span class="number">4</span>;</span><br><span class="line">  p-&gt;twe=<span class="number">6</span>;</span><br><span class="line">  <span class="built_in">cout</span>&lt;&lt;p-&gt;getreturn();</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="工厂模式"><a href="#工厂模式" class="headerlink" title="工厂模式"></a>工厂模式</h2><h3 id="什么是工厂模式"><a href="#什么是工厂模式" class="headerlink" title="什么是工厂模式"></a>什么是工厂模式</h3><p>工厂方法模式同样属于类的创建型模式又被称为多态工厂模式 。工厂方法模式的意义是 定义一个创建产品对象的工厂接口，将实际创建工作推迟到子类当中。 核心工厂类不再负责产品的创建，这样核心类成为一个抽象工厂角色，仅负责具体工厂子类 必须实现的接口，这样进一步抽象化的好处是使得工厂方法模式可以使系统在不修改具体工 厂角色的情况下引进新的产品</p>
<h3 id="为什么使用工厂模式"><a href="#为什么使用工厂模式" class="headerlink" title="为什么使用工厂模式"></a>为什么使用工厂模式</h3><p>工厂方法模式与简单工厂模式在结构上的不同不是很明显。工厂方法类的核心是一个抽象工厂类，而简单工厂模式把核心放在一个具体类上。 工厂方法模式之所以有一个别名叫多态性工厂模式是因为具体工厂类都有共同的接口， 或者有共同的抽象父类。 当系统扩展需要添加新的产品对象时，仅仅需要添加一个具体对象以及一个具体工厂对 象，原有工厂对象不需要进行任何修改，也不需要修改客户端，很好的符合了“开放－封闭” 原则。而简单工厂模式在添加新产品对象后不得不修改工厂方法，扩展性不好。工厂方法模式退化后可以演变成简单工厂模式。</p>
<h3 id="工厂模式实现步骤"><a href="#工厂模式实现步骤" class="headerlink" title="工厂模式实现步骤"></a>工厂模式实现步骤</h3><p>1.提供一个抽象工厂类 :所有具体工厂类的父类</p>
<p>2.提供与产品对应的工厂类:负责实例化产品对象</p>
<p>3.提供一个抽象产品类： 所有产品的父类</p>
<p>4.提供一个或多个产品类:工厂方法模式所创建的具体实例对象</p>
<h3 id="工厂模式优缺点"><a href="#工厂模式优缺点" class="headerlink" title="工厂模式优缺点"></a>工厂模式优缺点</h3><p><strong>优点</strong>：</p>
<ul>
<li><p>需求改变时改动最小</p>
</li>
<li><p>具体的创建实例过程与客户端分离</p>
</li>
</ul>
<p><strong>缺点：</strong></p>
<ul>
<li>新增功能时，工程量稍大</li>
</ul>
<h3 id="工厂模式实现代码"><a href="#工厂模式实现代码" class="headerlink" title="工厂模式实现代码"></a>工厂模式实现代码</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//先商品再工厂，工厂是创建商品的！</span></span><br><span class="line"><span class="comment">//构建商品抽象类</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">app</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">  <span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">getapp</span><span class="params">()</span> </span>= <span class="number">0</span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">//构建工厂抽象类</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">factory</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">  <span class="function"><span class="keyword">virtual</span> app* <span class="title">makeapp</span><span class="params">()</span> </span>= <span class="number">0</span>;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">//创建产品子类-飞机</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">plantapp</span> :<span class="keyword">public</span> app</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">  <span class="function"><span class="type">void</span> <span class="title">getapp</span><span class="params">()</span></span></span><br><span class="line"><span class="function">  </span>&#123;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;飞机....\n&quot;</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">//创建工厂子类-飞机</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">makeplant</span> :<span class="keyword">public</span> factory</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">  <span class="function">app* <span class="title">makeapp</span><span class="params">()</span></span></span><br><span class="line"><span class="function">  </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> plantapp;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//创建产品子类-飞机</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">rocketapp</span> :<span class="keyword">public</span> app</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">  <span class="function"><span class="type">void</span> <span class="title">getapp</span><span class="params">()</span></span></span><br><span class="line"><span class="function">  </span>&#123;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;火箭....\n&quot;</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">//创建工厂子类-火箭</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">makerocket</span> :<span class="keyword">public</span> factory</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">  <span class="function">app* <span class="title">makeapp</span><span class="params">()</span></span></span><br><span class="line"><span class="function">  </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> rocketapp;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="comment">//造飞机</span></span><br><span class="line">  factory* p = <span class="keyword">new</span> makeplant;</span><br><span class="line">  app* t = p-&gt;<span class="built_in">makeapp</span>();</span><br><span class="line">  t-&gt;<span class="built_in">getapp</span>();</span><br><span class="line">  <span class="comment">//造火箭</span></span><br><span class="line">  factory* ps = <span class="keyword">new</span> makerocket;</span><br><span class="line">  app* ts = ps-&gt;<span class="built_in">makeapp</span>();</span><br><span class="line">   ts-&gt;<span class="built_in">getapp</span>();</span><br><span class="line"> <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="抽象工厂模式"><a href="#抽象工厂模式" class="headerlink" title="抽象工厂模式"></a>抽象工厂模式</h2><h3 id="什么是抽象工厂模式"><a href="#什么是抽象工厂模式" class="headerlink" title="什么是抽象工厂模式"></a>什么是抽象工厂模式</h3><p>抽象工厂模式是所有形态的工厂模式中最为抽象和最其一般性的。抽象工厂模式可以向 客户端提供一个接口，使得客户端在不必指定产品的具体类型的情况下，能够创建多个产品族的产品对象。</p>
<h3 id="为什么使用抽象工厂模式"><a href="#为什么使用抽象工厂模式" class="headerlink" title="为什么使用抽象工厂模式"></a>为什么使用抽象工厂模式</h3><p>抽象工厂方法是针对与一个产品族，使得易于交换产品系列，只需改变具体的工厂就可以使用不同的产品配置。当一个族中的产品对象被设计成一起工作且一个应用只是用同一族的对象，例如设计系统生成不同风格的UI界面，按钮，边框等UI元素在一起使用，并且只能同属于一种风格，这很容易使用抽象工厂实现。</p>
<h3 id="抽象工厂模式实现步骤"><a href="#抽象工厂模式实现步骤" class="headerlink" title="抽象工厂模式实现步骤"></a>抽象工厂模式实现步骤</h3><p>**1.提供一个抽象工厂类：**声明一组创建一族产品的工厂方法</p>
<p>**2.提供一个具体工厂类：**实现了在抽象工厂创建产品的工厂方法</p>
<p>**3.提供一个抽象产品类：**抽象产品中声明了产品具有的业务方法</p>
<p>**4.提供一个具体产品类：**实现抽象产品接口中声明的业务方法</p>
<h3 id="抽象工厂模式优缺点"><a href="#抽象工厂模式优缺点" class="headerlink" title="抽象工厂模式优缺点"></a>抽象工厂模式优缺点</h3><p><strong>优点</strong>：</p>
<ul>
<li>抽象工厂封装了变化，封装了对象创建的具体细节</li>
<li>增加新的产品族很方便，无须修改已有系统</li>
<li>针对接口进行编程而不是针对具体进行编程</li>
</ul>
<p><strong>缺点：</strong></p>
<ul>
<li>增加新的产品等级结构需对原系统做较大修改(违背开放封闭)</li>
</ul>
<h3 id="抽象工厂模式实现代码"><a href="#抽象工厂模式实现代码" class="headerlink" title="抽象工厂模式实现代码"></a>抽象工厂模式实现代码</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="comment">//抽象工厂以键盘鼠标为例</span></span><br><span class="line"><span class="comment">//抽象商品类</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Product</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">  <span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">show</span><span class="params">()</span> </span>= <span class="number">0</span>;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">//抽象商品类1</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">KeyBoard</span> :<span class="keyword">public</span> Product&#123;&#125;;</span><br><span class="line"><span class="comment">//具体商品</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">LogiKeyBoard</span>:<span class="keyword">public</span> KeyBoard</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">  <span class="function"><span class="type">void</span> <span class="title">show</span><span class="params">()</span></span></span><br><span class="line"><span class="function">  </span>&#123;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;罗技键盘\n&quot;</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">RazerKeyBoard</span> :<span class="keyword">public</span> KeyBoard</span><br><span class="line">&#123;</span><br><span class="line">  <span class="function"><span class="type">void</span> <span class="title">show</span><span class="params">()</span></span></span><br><span class="line"><span class="function">  </span>&#123;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;雷蛇键盘\n&quot;</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">//抽象商品类2</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Mouse</span> :<span class="keyword">public</span> Product &#123;&#125;;</span><br><span class="line"><span class="comment">//具体商品</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">LogiMouse</span> :<span class="keyword">public</span> Mouse</span><br><span class="line">&#123;</span><br><span class="line">  <span class="function"><span class="type">void</span> <span class="title">show</span><span class="params">()</span></span></span><br><span class="line"><span class="function">  </span>&#123;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;罗技鼠标\n&quot;</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">RazerMouse</span> :<span class="keyword">public</span> Mouse</span><br><span class="line">&#123;</span><br><span class="line">  <span class="function"><span class="type">void</span> <span class="title">show</span><span class="params">()</span></span></span><br><span class="line"><span class="function">  </span>&#123;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;雷蛇鼠标\n&quot;</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">//抽象工厂</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Factory</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">  <span class="function"><span class="keyword">virtual</span> Product* <span class="title">creatkeyboard</span><span class="params">()</span> </span>= <span class="number">0</span>;</span><br><span class="line">  <span class="function"><span class="keyword">virtual</span> Product* <span class="title">creatkemouse</span><span class="params">()</span> </span>= <span class="number">0</span>;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">//商品集1工厂</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">LogiFactory</span> :<span class="keyword">public</span> Factory</span><br><span class="line">&#123;</span><br><span class="line">  <span class="function">Product* <span class="title">creatkeyboard</span><span class="params">()</span></span></span><br><span class="line"><span class="function">  </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> LogiKeyBoard;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="function">Product* <span class="title">creatkemouse</span><span class="params">()</span></span></span><br><span class="line"><span class="function">  </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> LogiMouse;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">//商品集2工厂</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">RazerFactory</span> :<span class="keyword">public</span> Factory</span><br><span class="line">&#123;</span><br><span class="line">  <span class="function">Product* <span class="title">creatkeyboard</span><span class="params">()</span></span></span><br><span class="line"><span class="function">  </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> RazerKeyBoard;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="function">Product* <span class="title">creatkemouse</span><span class="params">()</span></span></span><br><span class="line"><span class="function">  </span>&#123; </span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">new</span> RazerMouse;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="comment">//先建立工厂后商品</span></span><br><span class="line">  Factory* p = <span class="keyword">new</span> <span class="built_in">LogiFactory</span>();</span><br><span class="line">  Product* t = p-&gt;<span class="built_in">creatkemouse</span>();</span><br><span class="line">  Product* s = p-&gt;<span class="built_in">creatkeyboard</span>();</span><br><span class="line">  t-&gt;<span class="built_in">show</span>();</span><br><span class="line">  s-&gt;<span class="built_in">show</span>();</span><br><span class="line">  <span class="keyword">delete</span> p;</span><br><span class="line">  <span class="keyword">delete</span> t;</span><br><span class="line">  <span class="keyword">delete</span> s;</span><br><span class="line">  p = <span class="keyword">new</span> RazerFactory;</span><br><span class="line">  t = p-&gt;<span class="built_in">creatkemouse</span>();</span><br><span class="line">  s = p-&gt;<span class="built_in">creatkeyboard</span>();</span><br><span class="line">  t-&gt;<span class="built_in">show</span>();</span><br><span class="line">  s-&gt;<span class="built_in">show</span>();</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="建造者模式"><a href="#建造者模式" class="headerlink" title="建造者模式"></a>建造者模式</h2><h3 id="什么是建造者模式"><a href="#什么是建造者模式" class="headerlink" title="什么是建造者模式"></a>什么是建造者模式</h3><p>建造者模式是一种对象创建型模式之一，用来隐藏复合对象的创建过程，它把复合对象的创建过程加以抽象，通过子类继承和重载的方式，动态地创建具有复合属性的对象。官方说法就是将一个复杂对象的构造与它的表示分离，使同样的构建过程可以创建不同的表示。</p>
<h3 id="为什么使用建造者模式"><a href="#为什么使用建造者模式" class="headerlink" title="为什么使用建造者模式"></a>为什么使用建造者模式</h3><p>主要解决在软件系统中，有时候面临着”一个复杂对象”的创建工作，其通常由各个部分的子对象用一定的算法构成；由于需求的变化，这个复杂对象的各个部分经常面临着剧烈的变化，但是将它们组合在一起的算法却相对稳定。</p>
<h3 id="建造者模式实现步骤"><a href="#建造者模式实现步骤" class="headerlink" title="建造者模式实现步骤"></a>建造者模式实现步骤</h3><p>1.提供抽象建造者类: 为创建产品各个部分，统一抽象接口</p>
<p>2.提供具体建造者类：具体实现抽象建造者各个部件的接口</p>
<p>3.提供多个具体产品类:具体的创建产品的各个部分</p>
<p>4.提供一个指挥类：负责安排和调度复杂对象的各个建造过程</p>
<h3 id="建造者模式优缺点"><a href="#建造者模式优缺点" class="headerlink" title="建造者模式优缺点"></a>建造者模式优缺点</h3><p><strong>优点</strong></p>
<ul>
<li><p>封装性好，构建和表示分离</p>
</li>
<li><p>扩展性好，各个具体的建造者相互独立，有利于系统的解耦</p>
</li>
<li><p>控制细节风险，客户端无需详知细节，建造者细化创建过程</p>
</li>
</ul>
<p><strong>缺点</strong></p>
<ul>
<li><p>产品的组成部分必须相同，这限制了其使用范围</p>
</li>
<li><p>产品内部发生变化，建造者需同步修改，后期维护成本较大</p>
</li>
</ul>
<h3 id="建造者模式实现代码"><a href="#建造者模式实现代码" class="headerlink" title="建造者模式实现代码"></a>建造者模式实现代码</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;vector&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="comment">//电脑组装:显示器、鼠标、键盘、主机（主机又包括cpu、显卡、主板等）</span></span><br><span class="line"><span class="comment">//1.找到店铺老板告诉需求</span></span><br><span class="line"><span class="comment">//2.客服安排技术员工组装</span></span><br><span class="line"><span class="comment">//3.产品组装完成</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//抽象产品类</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Products</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">  <span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">setdisplayer</span><span class="params">(string displayer)</span> </span>= <span class="number">0</span>;</span><br><span class="line">  <span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">setmouse</span><span class="params">(string mouse)</span> </span>= <span class="number">0</span>;</span><br><span class="line">  <span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">setkeyboard</span><span class="params">(string keyboard)</span> </span>= <span class="number">0</span>;</span><br><span class="line">  <span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">sethost</span><span class="params">(string host)</span> </span>= <span class="number">0</span>;</span><br><span class="line">  <span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">show</span><span class="params">()</span> </span>= <span class="number">0</span>;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">//具体产品类</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">computer</span> :<span class="keyword">public</span> Products</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">   <span class="function"><span class="type">void</span> <span class="title">setdisplayer</span><span class="params">(string displayer)</span></span></span><br><span class="line"><span class="function">  </span>&#123;</span><br><span class="line">     list.<span class="built_in">push_back</span>(displayer);</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="function"><span class="type">void</span> <span class="title">setmouse</span><span class="params">(string mouse)</span></span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">     list.<span class="built_in">push_back</span>(mouse);</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="function"><span class="type">void</span> <span class="title">setkeyboard</span><span class="params">(string keyboard)</span></span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">     list.<span class="built_in">push_back</span>(keyboard);</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="function"><span class="type">void</span> <span class="title">sethost</span><span class="params">(string host)</span></span></span><br><span class="line"><span class="function">  </span>&#123;</span><br><span class="line">     list.<span class="built_in">push_back</span>(host); </span><br><span class="line">   &#125;</span><br><span class="line">   <span class="function"><span class="type">void</span> <span class="title">show</span><span class="params">()</span></span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">     cout &lt;&lt; <span class="string">&quot;配置为：\n&quot;</span>;</span><br><span class="line">      <span class="keyword">for</span> (<span class="keyword">auto</span> i : list)</span><br><span class="line">    &#123;</span><br><span class="line">       cout &lt;&lt; i &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">   &#125;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">  vector&lt;string&gt; list; <span class="comment">//组件清单</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">//抽象建造者</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Builder</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">  <span class="built_in">Builder</span>():<span class="built_in">pc</span>(<span class="keyword">new</span> computer)&#123;&#125;</span><br><span class="line">  <span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">builderdisplayer</span><span class="params">(string displayer)</span> </span>= <span class="number">0</span>;</span><br><span class="line">  <span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">buildermouse</span><span class="params">(string mouse)</span> </span>= <span class="number">0</span>;</span><br><span class="line">  <span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">builderkeyboard</span><span class="params">(string keyboard)</span> </span>= <span class="number">0</span>;</span><br><span class="line">  <span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">builderhost</span><span class="params">(string host)</span> </span>= <span class="number">0</span>;</span><br><span class="line">  <span class="comment">//得到电脑</span></span><br><span class="line">   <span class="function">Products* <span class="title">getpc</span><span class="params">()</span></span></span><br><span class="line"><span class="function">  </span>&#123;</span><br><span class="line">     <span class="keyword">return</span> pc;</span><br><span class="line">  &#125;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">   Products* pc;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">//具体建造者</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">people</span> :<span class="keyword">public</span> Builder</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">  <span class="function"><span class="type">void</span> <span class="title">builderdisplayer</span><span class="params">(string displayer)</span></span></span><br><span class="line"><span class="function">  </span>&#123;</span><br><span class="line">    <span class="built_in">getpc</span>()-&gt;<span class="built_in">setdisplayer</span>(displayer);</span><br><span class="line">   &#125;</span><br><span class="line">  <span class="function"><span class="type">void</span> <span class="title">buildermouse</span><span class="params">(string mouse)</span></span></span><br><span class="line"><span class="function">  </span>&#123;</span><br><span class="line">    <span class="built_in">getpc</span>()-&gt;<span class="built_in">setmouse</span>(mouse);</span><br><span class="line">   &#125;</span><br><span class="line">  <span class="function"><span class="type">void</span> <span class="title">builderkeyboard</span><span class="params">(string keyboard)</span></span></span><br><span class="line"><span class="function">  </span>&#123;</span><br><span class="line">    <span class="built_in">getpc</span>()-&gt;<span class="built_in">setkeyboard</span>(keyboard);</span><br><span class="line">   &#125;</span><br><span class="line">  <span class="function"><span class="type">void</span> <span class="title">builderhost</span><span class="params">(string host)</span></span></span><br><span class="line"><span class="function">  </span>&#123;</span><br><span class="line">    <span class="built_in">getpc</span>()-&gt;<span class="built_in">sethost</span>(host);</span><br><span class="line">   &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">//指挥者</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Director</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">  <span class="built_in">Director</span>(Builder* p) :<span class="built_in">pc</span>(p) &#123;&#125;</span><br><span class="line">  <span class="function">Products* <span class="title">getpc</span><span class="params">(string displayer, string mouse, string keyboard, string host)</span></span></span><br><span class="line"><span class="function">  </span>&#123;</span><br><span class="line">    pc-&gt;<span class="built_in">builderdisplayer</span>(displayer);</span><br><span class="line">    pc-&gt;<span class="built_in">builderkeyboard</span>(keyboard);</span><br><span class="line">    pc-&gt;<span class="built_in">buildermouse</span>(mouse);</span><br><span class="line">    pc-&gt;<span class="built_in">builderhost</span>(host);</span><br><span class="line">    <span class="keyword">return</span> pc-&gt;<span class="built_in">getpc</span>();</span><br><span class="line">  &#125;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">  Builder* pc;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  Builder* t = <span class="keyword">new</span> people;<span class="comment">//创建一个建造者</span></span><br><span class="line">  Director* s = <span class="keyword">new</span> <span class="built_in">Director</span>(t);<span class="comment">//指挥者里放一个建造者</span></span><br><span class="line">  Products* w = s-&gt;<span class="built_in">getpc</span>(<span class="string">&quot;华为显示器&quot;</span>, <span class="string">&quot;牧马人鼠标&quot;</span>, <span class="string">&quot;雷蛇键盘&quot;</span>, <span class="string">&quot;外星人&quot;</span>);<span class="comment">//；建造者建造一个电脑</span></span><br><span class="line">  w-&gt;<span class="built_in">show</span>();</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="原型模式"><a href="#原型模式" class="headerlink" title="原型模式"></a>原型模式</h2><h3 id="什么是原型模式"><a href="#什么是原型模式" class="headerlink" title="什么是原型模式"></a>什么是原型模式</h3><p>用原型实例指定创建对象的种类，并通过拷贝这些原型创建新的对象，简单理解就是“<strong>克隆指定对象</strong>”</p>
<h3 id="为什么使用原型模式"><a href="#为什么使用原型模式" class="headerlink" title="为什么使用原型模式"></a>为什么使用原型模式</h3><p>某些结构复杂的对象的创建工作中由于需求的变化，这些对象经常面临着剧烈的变化，但是他们却拥有比较稳定一致的接口。此时便可以使用原型模式。</p>
<h3 id="原型模式实现步骤"><a href="#原型模式实现步骤" class="headerlink" title="原型模式实现步骤"></a>原型模式实现步骤</h3><ol>
<li>提供一个抽象原型类：规定了具体原型对象必须实现的接口。</li>
<li>提供多个具体原型类：实现抽象原型类的 <code>clone()</code> 方法，它是可被复制的对象。</li>
<li>提供访问类：使用具体原型类中的 <code>clone()</code> 方法来复制新的对象。</li>
</ol>
<h3 id="原型模式优缺点"><a href="#原型模式优缺点" class="headerlink" title="原型模式优缺点"></a>原型模式优缺点</h3><p><strong>优点</strong></p>
<ul>
<li>如果创建新的对象比较复杂，可以利用原型模式简化对象的创建过程，同时也能够提高效率。</li>
<li>简化对象的创建，无需理会创建过程。</li>
<li>可以在程序运行时（对象属性发生了变化）获得一份内容相同的实例，他们之间不会相互干扰</li>
</ul>
<p><strong>缺点</strong></p>
<ul>
<li>每一个类都必须配备一个克隆方法,对于已有的没有克隆方法的类来说是致命的。</li>
</ul>
<h3 id="原型模式实现代码"><a href="#原型模式实现代码" class="headerlink" title="原型模式实现代码"></a>原型模式实现代码</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;string&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="comment">//原来的类</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">monkey</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">  <span class="built_in">monkey</span>()&#123;&#125;</span><br><span class="line">  <span class="keyword">virtual</span> ~<span class="built_in">monkey</span>()&#123;&#125;</span><br><span class="line">  <span class="function"><span class="keyword">virtual</span> monkey* <span class="title">cop</span><span class="params">()</span> </span>= <span class="number">0</span>;<span class="comment">//克隆</span></span><br><span class="line">  <span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">play</span><span class="params">()</span> </span>= <span class="number">0</span>;<span class="comment">//行为</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">//实现的类</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">sunwukong</span> :<span class="keyword">public</span> monkey</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">  <span class="built_in">sunwukong</span>(string name)</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="keyword">this</span>-&gt;name = name;</span><br><span class="line">  &#125;</span><br><span class="line">  ~<span class="built_in">sunwukong</span>()&#123;&#125;</span><br><span class="line">  <span class="built_in">sunwukong</span>(<span class="type">const</span> sunwukong&amp; s)</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="comment">//当需要申请内存的出现时必须使用深拷贝</span></span><br><span class="line">    name = s.name;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="function"><span class="type">void</span> <span class="title">play</span><span class="params">()</span></span></span><br><span class="line"><span class="function">  </span>&#123;</span><br><span class="line">    cout &lt;&lt; name &lt;&lt; <span class="string">&quot;正在玩\n&quot;</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="function">monkey* <span class="title">cop</span><span class="params">()</span></span></span><br><span class="line"><span class="function">  </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">sunwukong</span>(*<span class="keyword">this</span>);<span class="comment">//创建一个新的</span></span><br><span class="line">  &#125;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">  string name;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  monkey* s = <span class="keyword">new</span> <span class="built_in">sunwukong</span>(<span class="string">&quot;小猴子&quot;</span>);</span><br><span class="line">  monkey* t = s-&gt;<span class="built_in">cop</span>();</span><br><span class="line">  monkey* w = t-&gt;<span class="built_in">cop</span>();</span><br><span class="line">  s-&gt;<span class="built_in">play</span>();</span><br><span class="line">  t-&gt;<span class="built_in">play</span>();</span><br><span class="line">  w-&gt;<span class="built_in">play</span>();</span><br><span class="line">  <span class="keyword">delete</span> s;</span><br><span class="line">  <span class="keyword">delete</span> w;</span><br><span class="line">  <span class="keyword">delete</span> t;</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="创建型模式总结"><a href="#创建型模式总结" class="headerlink" title="创建型模式总结"></a>创建型模式总结</h3><p>工厂模式模式：单个类的对象创建工作</p>
<p>抽象工厂模式：多个类的对象创建工作</p>
<p>单例模式:类的全局对象创建工作</p>
<p>建造者模式:复杂类的对象创建工作</p>
<p>原型模式：自身类的克隆工作</p>
<p>到目前为止，五个创建模式都汇总了，各有各的用途，在实际运用中，要多对比，哪种创建模式才适合，设计模式虽好，但要学会正确的运用，将会像把利刃，非常有利于项目的扩展易用等。</p>
<h2 id="代理模式"><a href="#代理模式" class="headerlink" title="代理模式"></a>代理模式</h2><h3 id="什么是代理模式"><a href="#什么是代理模式" class="headerlink" title="什么是代理模式"></a>什么是代理模式</h3><p>代理模式是构造型的设计模式之一，它可以为其他对象提供一 种代理以控制对这个对象的访问。 所谓代理，是指具有与代理元（被代理的对象）具有相同的接口的类，客户端必须 通过代理与被代理的目标类交互，而代理一般在交互的过程中（交互前后），进行某些 特别的处理。 </p>
<h3 id="为什么使用代理模式"><a href="#为什么使用代理模式" class="headerlink" title="为什么使用代理模式"></a>为什么使用代理模式</h3><p>在目标对象实现的基础上,增强额外的功能操作,即扩展目标对象的功能. </p>
<p>代理模式的作用：AOP实现，拦截器，中介，黄牛，解耦，专人做专事。</p>
<p>AOP:面向切面编程，通过预编译方式和运行期间动态代理实现程序功能的统一维护的一种技术。</p>
<h3 id="代理模式实现步骤"><a href="#代理模式实现步骤" class="headerlink" title="代理模式实现步骤"></a>代理模式实现步骤</h3><p>1.提供一个抽象主题角色：真实主题与代理主题的共同接口</p>
<p>2.提供一个真实主题角色：定义了代理角色所代表的真实对象</p>
<p>3.提供一个代理主题角色：含有对真实主题角色的引用</p>
<h3 id="代理模式优缺点"><a href="#代理模式优缺点" class="headerlink" title="代理模式优缺点"></a>代理模式优缺点</h3><p><strong>优点</strong></p>
<ul>
<li><p>职责清晰：**真实角色就是实现实际业务逻辑，**不关心其他非本职责事务，<strong>通过后期代理完成一件事务，附带结果就是编程简介清晰。</strong></p>
</li>
<li><p>高扩展性：具体<strong>主题角色可变</strong>。</p>
</li>
</ul>
<p><strong>缺点</strong></p>
<ul>
<li>代理模式可能会造成<strong>请求的处理速度变慢</strong></li>
</ul>
<h3 id="代理模式实现代码"><a href="#代理模式实现代码" class="headerlink" title="代理模式实现代码"></a>代理模式实现代码</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line">using namespace <span class="built_in">std</span>;</span><br><span class="line"><span class="comment">//抽象主题类</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Subject</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">public:</span><br><span class="line">  virtual <span class="type">void</span> <span class="title function_">BuyTicket</span><span class="params">()</span> = <span class="number">0</span>;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">//用户买票</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Use</span>:</span>public Subject</span><br><span class="line">&#123;</span><br><span class="line">public:</span><br><span class="line">  <span class="type">void</span> <span class="title function_">BuyTicket</span><span class="params">()</span></span><br><span class="line">  &#123;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;用户买票\n&quot;</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">//携程买票</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Ctrip</span> :</span>public Subject</span><br><span class="line">&#123;</span><br><span class="line">public:</span><br><span class="line">  Ctrip(Subject* t):s(t)&#123;&#125;</span><br><span class="line">  <span class="type">void</span> <span class="title function_">BuyTicket</span><span class="params">()</span></span><br><span class="line">  &#123;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;携程买票\n&quot;</span>;</span><br><span class="line">  &#125;</span><br><span class="line">private:</span><br><span class="line">  Subject* s;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">  Subject* s = new Use;</span><br><span class="line">  s-&gt;BuyTicket();</span><br><span class="line">  Subject* t = new Ctrip(s);</span><br><span class="line">  t-&gt;BuyTicket();</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="装饰模式"><a href="#装饰模式" class="headerlink" title="装饰模式"></a>装饰模式</h2><h3 id="什么是装饰模式"><a href="#什么是装饰模式" class="headerlink" title="什么是装饰模式"></a>什么是装饰模式</h3><p>装饰（ Decorator ）模式又叫做包装模式。通过一种对客户端透明的方式来扩展对象的功能，是继承关系的一个替换方案。 装饰模式就是把要添加的附加功能分别放在单独的类中，并让这个类包含它要装饰的对 象，当需要执行时，客户端就可以有选择地、按顺序地使用装饰功能包装对象。</p>
<h3 id="为什么使用装饰模式"><a href="#为什么使用装饰模式" class="headerlink" title="为什么使用装饰模式"></a>为什么使用装饰模式</h3><p>装饰模式可以动态的给一个对象添加一些额外的职责。就增加功能来说，此模式比生成子类更为灵活,通过子类继承的方式，但是如果后续继续增加功能的话，便要继续继承现有的类，如此就会使继承的层次越来越深，不利与代码的维护和可读性。故最好的方式便是通过装饰者模式来完成。</p>
<h3 id="装饰模式实现步骤"><a href="#装饰模式实现步骤" class="headerlink" title="装饰模式实现步骤"></a>装饰模式实现步骤</h3><p>1.提供一个抽象组件类:抽象被装饰者的行为</p>
<p>2.提供一个或多个具体组件类:被装饰者的行为具体实现</p>
<p>3.提供一个抽象装饰器类：抽象组件指针与抽象组件一致接口</p>
<p>4.提供一个具体的装饰器类：为具体组件附加责任</p>
<h3 id="装饰模式优缺点"><a href="#装饰模式优缺点" class="headerlink" title="装饰模式优缺点"></a>装饰模式优缺点</h3><p><strong>优点</strong></p>
<ul>
<li>易于扩展对象功能</li>
<li>通过装饰类的排列组合，可创造出很多不同行为的组合</li>
</ul>
<p><strong>缺点</strong></p>
<ul>
<li>会出现更多的代码，更多的类，增加程序复杂性</li>
<li>动态装饰时，多层装饰时会更复杂</li>
</ul>
<h3 id="装饰模式代实现代码"><a href="#装饰模式代实现代码" class="headerlink" title="装饰模式代实现代码"></a>装饰模式代实现代码</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="comment">//写一个变装样例</span></span><br><span class="line"><span class="comment">//抽象组件类</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">AbstractCompent</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">  <span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">show</span><span class="params">()</span> </span>= <span class="number">0</span>;</span><br><span class="line">  string look;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">//具体组件类</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">doll</span> :<span class="keyword">public</span> AbstractCompent</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">  <span class="built_in">doll</span>()</span><br><span class="line">  &#123;</span><br><span class="line">    look = <span class="string">&quot;一个洋娃娃&quot;</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="function"><span class="type">void</span> <span class="title">show</span><span class="params">()</span></span></span><br><span class="line"><span class="function">  </span>&#123;</span><br><span class="line">    cout &lt;&lt; look &lt;&lt; endl;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">//抽象装饰类</span></span><br><span class="line"><span class="keyword">class</span>  <span class="title class_">AbstractDecrate</span> :<span class="keyword">public</span>  AbstractCompent</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">  AbstractCompent* pBase;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">//具体装饰类1</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">maxiskit</span> :<span class="keyword">public</span> AbstractDecrate</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">  <span class="built_in">maxiskit</span>(AbstractCompent* pBase)</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="keyword">this</span>-&gt;pBase = pBase;</span><br><span class="line">    <span class="keyword">this</span>-&gt;pBase-&gt;look += <span class="string">&quot;穿一身长裙&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  <span class="function"><span class="type">void</span> <span class="title">show</span><span class="params">()</span></span></span><br><span class="line"><span class="function">  </span>&#123;</span><br><span class="line">    cout &lt;&lt; pBase-&gt;look &lt;&lt; endl;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">//具体装饰类2</span></span><br><span class="line"><span class="comment">//具体装饰类1</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">long_hair</span> :<span class="keyword">public</span> AbstractDecrate</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">  <span class="built_in">long_hair</span>(AbstractCompent* pBase)</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="keyword">this</span>-&gt;pBase = pBase;</span><br><span class="line">    <span class="keyword">this</span>-&gt;pBase-&gt;look += <span class="string">&quot;长一头暗红色的长发&quot;</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="function"><span class="type">void</span> <span class="title">show</span><span class="params">()</span></span></span><br><span class="line"><span class="function">  </span>&#123;</span><br><span class="line">    cout &lt;&lt; pBase-&gt;look &lt;&lt; endl;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  doll* g = <span class="keyword">new</span> doll;</span><br><span class="line">  g-&gt;<span class="built_in">show</span>();</span><br><span class="line"></span><br><span class="line">  maxiskit* t = <span class="keyword">new</span> <span class="built_in">maxiskit</span>(g);</span><br><span class="line">  t-&gt;<span class="built_in">show</span>();</span><br><span class="line">  long_hair* s = <span class="keyword">new</span> <span class="built_in">long_hair</span>(g);</span><br><span class="line">  s-&gt;<span class="built_in">show</span>();</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="适配器模式"><a href="#适配器模式" class="headerlink" title="适配器模式"></a>适配器模式</h2><h3 id="什么是适配器模式"><a href="#什么是适配器模式" class="headerlink" title="什么是适配器模式"></a>什么是适配器模式</h3><p>适配器模式是将一个类的接口转换成客户希望的另外一个接口。适配器模式使得原本由于接口不兼容而不能一起工作的那些类可以一起工作。好比日本现在就只提供110V的电压，而我的电脑就需要220V的电压，那怎么办啦?适配器就是干这活的，在不兼容的东西之间搭建一座桥梁，让二者能很好的兼容在一起工作。</p>
<h3 id="为什么使用适配器模式"><a href="#为什么使用适配器模式" class="headerlink" title="为什么使用适配器模式"></a>为什么使用适配器模式</h3><p>在软件开发中，有的时候系统的数据和行为都正确，但接口不符合，我们应该考虑使用适配器模式，目的是使控制范围之外的一个原有对象与某个接口匹配。举个例子:在开发一个模块的时候，有一个功能点实现起来比较费劲，但是，之前有一个项目的模块实现了一样的功能点;但是现在这个模块的接口和之前的那个模块的接口是不一致的。此时，作为项目经理的你，该怎么办啦?使用适配器模式，将之前实现的功能点适配进新的项目了。</p>
<h3 id="适配器模式实现步骤"><a href="#适配器模式实现步骤" class="headerlink" title="适配器模式实现步骤"></a>适配器模式实现步骤</h3><ol>
<li>适配器实现与其中一个现有对象兼容的接口</li>
<li>现有对象可以使用该接口安全地调用适配器方法</li>
<li>适配器方法被调用后将以另一个对象兼容的格式和顺序将请求传递给该对象</li>
</ol>
<p>一般适配器模式分为以下两类:</p>
<ul>
<li>对象适配器:适配器实现了其中一个对象的接口， 并对另一个对象进行封装</li>
<li>类适配器:适配器同时继承两个对象的接口</li>
</ul>
<h3 id="适配器模式优缺点"><a href="#适配器模式优缺点" class="headerlink" title="适配器模式优缺点"></a>适配器模式优缺点</h3><p><strong>优点</strong></p>
<ul>
<li>降低了去实现一个功能点的难度，可以对现有的类进行包装，就可以进行使用了</li>
<li>提高了项目质量，现有的类一般都是经过测试的，使用了适配器模式之后，不需要对旧的类进行全面的覆盖测试;</li>
<li>总的来说,提高了效率,降低了成本。</li>
</ul>
<p><strong>缺点</strong></p>
<ul>
<li>类适配器模式，由于多继承，可能会出现二义性</li>
<li>对象适配器模式，如果过多使用适配器模式，会导致代码阅读难度增大</li>
</ul>
<h3 id="适配器模式实现代码"><a href="#适配器模式实现代码" class="headerlink" title="适配器模式实现代码"></a>适配器模式实现代码</h3><h4 id="对象适配器实现代码"><a href="#对象适配器实现代码" class="headerlink" title="对象适配器实现代码"></a>对象适配器实现代码</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line">using namespace <span class="built_in">std</span>;</span><br><span class="line"><span class="comment">//电源插头</span></span><br><span class="line"><span class="comment">//三口插头</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">threehand</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">public:</span><br><span class="line">  <span class="type">void</span> <span class="title function_">threehandout</span><span class="params">()</span></span><br><span class="line">  &#123;</span><br><span class="line">  	<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;三头充电器\n&quot;</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">//用户需要用的接头虚拟类</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Abtwo</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">public:</span><br><span class="line">  virtual <span class="type">void</span> <span class="title function_">three_twe</span><span class="params">()</span> = <span class="number">0</span>;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">//两头接口</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">twohand</span> :</span>public Abtwo</span><br><span class="line">&#123;</span><br><span class="line">public:</span><br><span class="line">  <span class="type">void</span> <span class="title function_">three_twe</span><span class="params">()</span></span><br><span class="line">  &#123;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;两插头充电\n&quot;</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">//对象适配器</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">AdapterObject</span> :</span>public Abtwo</span><br><span class="line">&#123;</span><br><span class="line">public:</span><br><span class="line">  AdapterObject(threehand* p)</span><br><span class="line">  &#123;</span><br><span class="line">    th = p;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="type">void</span> <span class="title function_">transition</span><span class="params">()</span></span><br><span class="line">  &#123;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;三头转化为二头\n&quot;</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="type">void</span> <span class="title function_">three_twe</span><span class="params">()</span></span><br><span class="line">  &#123;</span><br><span class="line">    transition();</span><br><span class="line">    th-&gt;threehandout();</span><br><span class="line">  &#125;</span><br><span class="line">  threehand* th;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">  threehand* p = new threehand;</span><br><span class="line">  Abtwo* w = new AdapterObject(p);</span><br><span class="line">  w-&gt;three_twe();</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="类适配器实现代码"><a href="#类适配器实现代码" class="headerlink" title="类适配器实现代码"></a>类适配器实现代码</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="comment">//电源插头</span></span><br><span class="line"><span class="comment">//三口插头</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">threehand</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">  <span class="function"><span class="type">void</span> <span class="title">threehandout</span><span class="params">()</span></span></span><br><span class="line"><span class="function">  </span>&#123;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;三头充电器\n&quot;</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">//用户需要用的接头虚拟类</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Abtwo</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">  <span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">three_twe</span><span class="params">()</span> </span>= <span class="number">0</span>;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">//两头接口</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">twohand</span> :<span class="keyword">public</span> Abtwo</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">  <span class="function"><span class="type">void</span> <span class="title">three_twe</span><span class="params">()</span></span></span><br><span class="line"><span class="function">  </span>&#123;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;两插头充电\n&quot;</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">//类适配器</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">AdapterObject</span> :<span class="keyword">public</span> Abtwo,<span class="keyword">public</span> threehand</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">  <span class="function"><span class="type">void</span> <span class="title">transition</span><span class="params">()</span></span></span><br><span class="line"><span class="function">  </span>&#123;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;三头转化为二头\n&quot;</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="function"><span class="type">void</span> <span class="title">three_twe</span><span class="params">()</span></span></span><br><span class="line"><span class="function">  </span>&#123;</span><br><span class="line">    <span class="built_in">transition</span>();</span><br><span class="line">    <span class="built_in">threehandout</span>();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  threehand* p = <span class="keyword">new</span> threehand;</span><br><span class="line">  Abtwo* w = <span class="keyword">new</span> <span class="built_in">AdapterObject</span>();</span><br><span class="line">  w-&gt;<span class="built_in">three_twe</span>();</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="桥接模式"><a href="#桥接模式" class="headerlink" title="桥接模式"></a>桥接模式</h2><h3 id="什么是桥接模式"><a href="#什么是桥接模式" class="headerlink" title="什么是桥接模式"></a>什么是桥接模式</h3><p>桥接模式是一种结构型设计模式， 可将业务逻辑或一个大类拆分为不同的层次结构， 从而能独立地进行开发。桥接模式通过将继承改为组合的方式来解决这个问题。 具体来说， 就是抽取其中一个维度并使之成为独立的类层次， 这样就可以在初始类中引用这个新层次的对象， 从而使得一个类不必拥有所有的状态和行为。层次结构中的第一层 （通常称为抽象部分） 将包含对第二层 （实现部分） 对象的引用。 抽象部分将能将一些 （有时是绝大部分） 对自己的调用委派给实现部分的对象。 所有的实现部分都有一个通用接口， 因此它们能在抽象部分内部相互替换。</p>
<h3 id="为什么使用桥接模式"><a href="#为什么使用桥接模式" class="headerlink" title="为什么使用桥接模式"></a>为什么使用桥接模式</h3><p>桥接模式在处理跨平台应用、 支持多种类型的数据库服务器或与多个特定种类 （例如云平台和社交网络等） 的 API 供应商协作时会特别有用。</p>
<h3 id="桥接模式实现步骤"><a href="#桥接模式实现步骤" class="headerlink" title="桥接模式实现步骤"></a>桥接模式实现步骤</h3><p>1.提供一个抽象类:提供高层控制逻辑,依赖实际底层对象</p>
<p>2.提供一个精准抽象类:拓展抽象类,更精确的抽象</p>
<p>3.提供具体实现抽象类:具体实现类的抽象通用接口</p>
<p>4.提供具体实现类：针对不同底层的通用接口实现</p>
<h3 id="桥接模式优缺点"><a href="#桥接模式优缺点" class="headerlink" title="桥接模式优缺点"></a>桥接模式优缺点</h3><p><strong>优点</strong></p>
<ul>
<li><p>你可以创建与平台无关的类和程序</p>
</li>
<li><p>客户端代码仅与高层抽象部分互动， 不接触到平台详细信息</p>
</li>
<li><p>开闭原则，可以新增抽象和实现， 且它们之间互不影响</p>
</li>
<li><p>单一职责原则，抽象专注高层逻辑， 实现部分处理平台细节</p>
</li>
</ul>
<p><strong>缺点</strong></p>
<ul>
<li>对高内聚的类使用该模式可能会让代码更加复杂</li>
</ul>
<h3 id="桥接模式实现代码"><a href="#桥接模式实现代码" class="headerlink" title="桥接模式实现代码"></a>桥接模式实现代码</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="comment">//颜色类</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">color</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">  <span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">fillcolor</span><span class="params">()</span> </span>= <span class="number">0</span>;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">//红色</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">red</span> :<span class="keyword">public</span> color</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">  <span class="built_in">red</span>() :<span class="built_in">colors</span>(<span class="string">&quot;红色&quot;</span>) &#123;&#125;</span><br><span class="line">  <span class="function"><span class="type">void</span> <span class="title">fillcolor</span><span class="params">()</span></span></span><br><span class="line"><span class="function">  </span>&#123;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;\t颜色：\t&quot;</span> &lt;&lt; colors&lt;&lt;<span class="string">&quot; \n&quot;</span>;</span><br><span class="line">  &#125;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">  string colors;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">//绿色</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">green</span>:<span class="keyword">public</span> color</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">  <span class="built_in">green</span>():<span class="built_in">colors</span>(<span class="string">&quot;绿色&quot;</span>) &#123;&#125;</span><br><span class="line">  <span class="function"><span class="type">void</span> <span class="title">fillcolor</span><span class="params">()</span></span></span><br><span class="line"><span class="function">  </span>&#123;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;\t颜色：\t&quot;</span> &lt;&lt; colors &lt;&lt; <span class="string">&quot; \n&quot;</span>;</span><br><span class="line">  &#125;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">  string colors;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">//形状</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Shape</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">  <span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">ShowShape</span><span class="params">()</span> </span>= <span class="number">0</span>;</span><br><span class="line">  <span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">SetColor</span><span class="params">(color* color)</span> </span>= <span class="number">0</span>;</span><br><span class="line"><span class="keyword">protected</span>:</span><br><span class="line">  <span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">DrawShape</span><span class="params">()</span> </span>= <span class="number">0</span>;</span><br><span class="line">  <span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">DrawColor</span><span class="params">()</span> </span>= <span class="number">0</span>;</span><br><span class="line">  color* colors;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">//圆</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">circle</span>:<span class="keyword">public</span> Shape</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">  <span class="built_in">circle</span>() :<span class="built_in">shape</span>(<span class="string">&quot;圆&quot;</span>) &#123;&#125;</span><br><span class="line">  <span class="function"><span class="type">void</span> <span class="title">ShowShape</span><span class="params">()</span></span></span><br><span class="line"><span class="function">  </span>&#123;</span><br><span class="line">    <span class="built_in">DrawShape</span>();</span><br><span class="line">    <span class="built_in">DrawColor</span>();</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="function"><span class="type">void</span> <span class="title">SetColor</span><span class="params">(color* colors)</span></span></span><br><span class="line"><span class="function">  </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>-&gt;colors = colors;</span><br><span class="line">  &#125;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">  <span class="function"><span class="type">void</span> <span class="title">DrawShape</span><span class="params">()</span></span></span><br><span class="line"><span class="function">  </span>&#123;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;形状：\t&quot;</span> &lt;&lt; shape;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="function"><span class="type">void</span> <span class="title">DrawColor</span><span class="params">()</span></span></span><br><span class="line"><span class="function">  </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>-&gt;colors-&gt;<span class="built_in">fillcolor</span>();</span><br><span class="line">  &#125;</span><br><span class="line">  string shape;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">//正方形</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">square</span> :<span class="keyword">public</span> Shape</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">  <span class="built_in">square</span>() :<span class="built_in">shape</span>(<span class="string">&quot;正方形&quot;</span>) &#123;&#125;</span><br><span class="line">  <span class="function"><span class="type">void</span> <span class="title">ShowShape</span><span class="params">()</span></span></span><br><span class="line"><span class="function">  </span>&#123;</span><br><span class="line">    <span class="built_in">DrawShape</span>();</span><br><span class="line">    <span class="built_in">DrawColor</span>();</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="function"><span class="type">void</span> <span class="title">SetColor</span><span class="params">(color* colors)</span></span></span><br><span class="line"><span class="function">  </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>-&gt;colors = colors;</span><br><span class="line">  &#125;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">  <span class="function"><span class="type">void</span> <span class="title">DrawShape</span><span class="params">()</span></span></span><br><span class="line"><span class="function">  </span>&#123;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;形状：\t&quot;</span> &lt;&lt; shape;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="function"><span class="type">void</span> <span class="title">DrawColor</span><span class="params">()</span></span></span><br><span class="line"><span class="function">  </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>-&gt;colors-&gt;<span class="built_in">fillcolor</span>();</span><br><span class="line">  &#125;</span><br><span class="line">  string shape;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="comment">//创造一个红正方形</span></span><br><span class="line">  Shape* s = <span class="keyword">new</span> square;</span><br><span class="line">  s-&gt;<span class="built_in">SetColor</span>(<span class="keyword">new</span> red);</span><br><span class="line">  s-&gt;<span class="built_in">ShowShape</span>();</span><br><span class="line">  <span class="comment">//创造一个绿圆</span></span><br><span class="line">  Shape* t = <span class="keyword">new</span> circle;</span><br><span class="line">  t-&gt;<span class="built_in">SetColor</span>(<span class="keyword">new</span> green);</span><br><span class="line">  t-&gt;<span class="built_in">ShowShape</span>();</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="外观模式"><a href="#外观模式" class="headerlink" title="外观模式"></a>外观模式</h2><h3 id="什么是外观模式"><a href="#什么是外观模式" class="headerlink" title="什么是外观模式"></a>什么是外观模式</h3><p><strong>外观模式</strong>是一种结构型设计模式， 能为程序库、 框架或其他复杂类提供一个简单的接口</p>
<h3 id="为什么使用外观模式"><a href="#为什么使用外观模式" class="headerlink" title="为什么使用外观模式"></a>为什么使用外观模式</h3><p>外观类为包含许多活动部件的复杂子系统提供一个简单的接口。 与直接调用子系统相比， 外观提供的功能可能比较有限， 但它却包含了客户端真正关心的功能。如果你的程序需要与包含几十种功能的复杂库整合， 但只需使用其中非常少的功能， 那么使用外观模式会非常方便。</p>
<h3 id="外观模式实现步骤"><a href="#外观模式实现步骤" class="headerlink" title="外观模式实现步骤"></a>外观模式实现步骤</h3><p>1.提供一个外观类:为调用方, 定义简单的调用接口</p>
<p>2.提供一个调用者类:通过外观类接口调用提供某功能的内部类群</p>
<p>3.多个功能提供者类:提供功能的类群（模块或子系统）</p>
<h3 id="外观模式优缺点"><a href="#外观模式优缺点" class="headerlink" title="外观模式优缺点"></a>外观模式优缺点</h3><p><strong>优点</strong></p>
<ul>
<li>你可以让自己的代码独立于复杂子系统</li>
</ul>
<p><strong>缺点</strong></p>
<ul>
<li>外观可能成为与程序中所有类都耦合的上帝对象(了解过多或者负责过多的对象)</li>
</ul>
<h3 id="外观模式实现代码"><a href="#外观模式实现代码" class="headerlink" title="外观模式实现代码"></a>外观模式实现代码</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="comment">//多个工作类</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">one</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">  <span class="function"><span class="type">void</span> <span class="title">dis</span><span class="params">()</span></span></span><br><span class="line"><span class="function">  </span>&#123;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;程序一运行中.....\n&quot;</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">two</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">  <span class="function"><span class="type">void</span> <span class="title">dis</span><span class="params">()</span></span></span><br><span class="line"><span class="function">  </span>&#123;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;程序二运行中.....\n&quot;</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">three</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">  <span class="function"><span class="type">void</span> <span class="title">dis</span><span class="params">()</span></span></span><br><span class="line"><span class="function">  </span>&#123;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;程序三运行中.....\n&quot;</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">four</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">  <span class="function"><span class="type">void</span> <span class="title">dis</span><span class="params">()</span></span></span><br><span class="line"><span class="function">  </span>&#123;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;程序四运行中.....\n&quot;</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">face</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">  <span class="function"><span class="type">void</span> <span class="title">dis</span><span class="params">()</span></span></span><br><span class="line"><span class="function">  </span>&#123;</span><br><span class="line">    one q;</span><br><span class="line">    two w;</span><br><span class="line">    three e;</span><br><span class="line">    four r;</span><br><span class="line">    q.<span class="built_in">dis</span>();</span><br><span class="line">    w.<span class="built_in">dis</span>();</span><br><span class="line">    e.<span class="built_in">dis</span>();</span><br><span class="line">    r.<span class="built_in">dis</span>();</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;各个程序正在运行&quot;</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  face* s = <span class="keyword">new</span> face;</span><br><span class="line">  s-&gt;<span class="built_in">dis</span>();</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="享元模式"><a href="#享元模式" class="headerlink" title="享元模式"></a>享元模式</h2><h3 id="什么是享元模式"><a href="#什么是享元模式" class="headerlink" title="什么是享元模式"></a>什么是享元模式</h3><p><strong>享元模式</strong>是一种结构型设计模式， 它摒弃了在每个对象中保存所有数据的方式， 通过共享多个对象所共有的相同状态， 让你能在有限的内存容量中载入更多对象。</p>
<h3 id="为什么使用享元模式"><a href="#为什么使用享元模式" class="headerlink" title="为什么使用享元模式"></a>为什么使用享元模式</h3><p>通过复用相同的对象来减少对象的创建数量，创建更小的对象组，并通过共享实现重用。通过归类，将对象的属性分为内蕴状态和外蕴状态。</p>
<p>外蕴状态是对象的外部描述，是每个对象的可变部分，比如对工具的使用地点、使用时间、使用人、工作内容的描述，这些属性不属于对象本身，而是根据每回使用情况进行变化的，这就需要制作成接口进行外部调用，而外蕴状态的维护是由调用者维护的，对象内不进行维护。</p>
<h3 id="享元模式实现步骤"><a href="#享元模式实现步骤" class="headerlink" title="享元模式实现步骤"></a>享元模式实现步骤</h3><p>1.提供一个抽象享元角色类:具体享元类的父类，规定一些需要实现的公共接口</p>
<p>2.提供一个或者多个具体享元角色:实现了抽象享元角色规定的方法</p>
<p>3.提供一个享元工厂角色类:负责创建和管理享元角色</p>
<h3 id="享元模式优缺点"><a href="#享元模式优缺点" class="headerlink" title="享元模式优缺点"></a>享元模式优缺点</h3><p><strong>优点</strong></p>
<ul>
<li>如果程序中有很多相似对象， 那么你将可以节省大量内存。</li>
</ul>
<p><strong>缺点</strong></p>
<ul>
<li>你可能需要牺牲执行速度来换取内存， 因为他人每次调用享元方法时都需要重新计算部分情景数据。</li>
<li>代码会变得更加复杂。</li>
</ul>
<h3 id="享元模式实现代码"><a href="#享元模式实现代码" class="headerlink" title="享元模式实现代码"></a>享元模式实现代码</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;sstream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;initializer_list&gt;</span></span></span><br><span class="line">using namespace <span class="built_in">std</span>;</span><br><span class="line"><span class="comment">//以车库提车为例</span></span><br><span class="line"><span class="comment">//共享信息</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SharedState</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">public:</span><br><span class="line">  SharedState(<span class="type">const</span> <span class="built_in">string</span>&amp; p, <span class="type">const</span> <span class="built_in">string</span>&amp; x, <span class="type">const</span> <span class="built_in">string</span>&amp; c):pinpai(p),xinghao(x),color(c)&#123;&#125;</span><br><span class="line">  <span class="built_in">string</span> <span class="title function_">getpinpai</span><span class="params">()</span> &#123; <span class="keyword">return</span> pinpai; &#125;</span><br><span class="line">  <span class="built_in">string</span> <span class="title function_">getxinghao</span><span class="params">()</span> &#123; <span class="keyword">return</span> xinghao; &#125;</span><br><span class="line">  <span class="built_in">string</span> <span class="title function_">getcolor</span><span class="params">()</span> &#123; <span class="keyword">return</span> color; &#125;</span><br><span class="line">  friend ostream&amp; operator&lt;&lt;(ostream&amp; out, SharedState t)</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="keyword">return</span> out &lt;&lt; t.pinpai &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; t.xinghao &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; t.color;</span><br><span class="line">  &#125;</span><br><span class="line">private:</span><br><span class="line">  <span class="built_in">string</span> pinpai;<span class="comment">//品牌</span></span><br><span class="line">  <span class="built_in">string</span> xinghao;<span class="comment">//型号</span></span><br><span class="line">  <span class="built_in">string</span> color;<span class="comment">//颜色</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">//非共享信息</span></span><br><span class="line"><span class="class"><span class="keyword">class</span>  <span class="title">UniqueState</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">public:</span><br><span class="line">  UniqueState(<span class="type">const</span> <span class="built_in">string</span> cz,<span class="type">const</span> <span class="built_in">string</span> cp):chezhu(cz),chepai(cp)&#123;&#125;</span><br><span class="line">  <span class="built_in">string</span> <span class="title function_">getchezhu</span><span class="params">()</span> &#123; <span class="keyword">return</span> chezhu; &#125;</span><br><span class="line">  <span class="built_in">string</span> <span class="title function_">getchepai</span><span class="params">()</span> &#123; <span class="keyword">return</span> chepai; &#125;</span><br><span class="line">  friend ostream&amp; operator&lt;&lt;(ostream&amp; out, UniqueState t)</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="keyword">return</span> out &lt;&lt; t.chezhu &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; t.chepai;</span><br><span class="line">  &#125;</span><br><span class="line">private:</span><br><span class="line">  <span class="built_in">string</span> chezhu;<span class="comment">//车主</span></span><br><span class="line">  <span class="built_in">string</span> chepai;<span class="comment">//车牌</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">//信息节点</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">node</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">private:</span><br><span class="line">  SharedState* s;</span><br><span class="line">public:</span><br><span class="line">  node(<span class="type">const</span> SharedState* t):s(new SharedState(*t))&#123;&#125;<span class="comment">//浅拷贝，使用类默认的拷贝构造即可</span></span><br><span class="line">  node(<span class="type">const</span> node* t):s(new SharedState(*(t-&gt;s)))&#123;&#125;</span><br><span class="line">  SharedState* <span class="title function_">getsharedstate</span><span class="params">()</span></span><br><span class="line">  &#123;</span><br><span class="line">    <span class="keyword">return</span> s;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">//输出信息</span></span><br><span class="line">  <span class="type">void</span> <span class="title function_">show</span><span class="params">(<span class="type">const</span> UniqueState&amp; p)</span><span class="type">const</span></span><br><span class="line">  &#123;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;共享信息：&quot;</span>&lt;&lt;s&lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;私有信息：&quot;</span> &lt;&lt;p &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">//综合管理</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">management</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">public:</span><br><span class="line">  management(<span class="built_in">initializer_list</span>&lt;SharedState&gt; sh)</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> y:sh)</span><br><span class="line">    &#123;</span><br><span class="line">      this-&gt;s.insert(<span class="built_in">make_pair</span>&lt;<span class="built_in">string</span>, node&gt;(this-&gt;getkay(y), node(&amp;y)));</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">//找到车型</span></span><br><span class="line">  node <span class="title function_">findcar</span><span class="params">(<span class="type">const</span> SharedState&amp; t)</span></span><br><span class="line">  &#123;</span><br><span class="line">      <span class="keyword">if</span> (this-&gt;s.find(getkay(t))==this-&gt;s.end())</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;未找到车型\n&quot;</span>;</span><br><span class="line">        s.insert(<span class="built_in">make_pair</span>&lt;<span class="built_in">string</span>, node&gt;(this-&gt;getkay(t), node(&amp;t)));</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">else</span></span><br><span class="line">      &#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;找到车型\n&quot;</span>;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">return</span> this-&gt;s.at(getkay(t));</span><br><span class="line">  &#125;</span><br><span class="line">private:</span><br><span class="line">  <span class="built_in">map</span>&lt;<span class="built_in">string</span>, node&gt; s;</span><br><span class="line">  <span class="built_in">string</span> <span class="title function_">getkay</span><span class="params">(SharedState t)</span><span class="comment">//得到键值</span></span><br><span class="line">  &#123;</span><br><span class="line">    <span class="keyword">return</span> t.getpinpai() + <span class="string">&quot;_&quot;</span> + t.getxinghao() + <span class="string">&quot;_&quot;</span> + t.getcolor();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">AddCarToPoliceDataBase</span><span class="params">(management&amp; ff,  <span class="type">const</span> <span class="built_in">string</span>&amp; plates, <span class="type">const</span> <span class="built_in">string</span>&amp; ower,</span></span><br><span class="line"><span class="params">  <span class="type">const</span> <span class="built_in">string</span>&amp; brand, <span class="type">const</span> <span class="built_in">string</span>&amp; model, <span class="type">const</span> <span class="built_in">string</span>&amp; color)</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;车型匹配结果:&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">  <span class="type">const</span> node&amp; flyweight = ff.findcar(&#123; brand,model,color &#125;);</span><br><span class="line">  flyweight.show(&#123; ower,plates&#125;);</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">  management* factory = new  management(</span><br><span class="line">    &#123; &#123;<span class="string">&quot;雪佛兰&quot;</span>, <span class="string">&quot;Camaro2020&quot;</span>, <span class="string">&quot;pink&quot;</span>&#125;,</span><br><span class="line">    &#123;<span class="string">&quot;奔驰&quot;</span>, <span class="string">&quot;C43&quot;</span>, <span class="string">&quot;black&quot;</span>&#125;,</span><br><span class="line">    &#123;<span class="string">&quot;奔驰&quot;</span>, <span class="string">&quot;C63&quot;</span>, <span class="string">&quot;red&quot;</span>&#125;,</span><br><span class="line">    &#123;<span class="string">&quot;宝马&quot;</span>, <span class="string">&quot;M6&quot;</span>, <span class="string">&quot;red&quot;</span>&#125;,</span><br><span class="line">    &#123;<span class="string">&quot;宝马&quot;</span>, <span class="string">&quot;X7&quot;</span>, <span class="string">&quot;white&quot;</span>&#125; &#125;);</span><br><span class="line">  AddCarToPoliceDataBase(*factory,</span><br><span class="line">    <span class="string">&quot;DK88888&quot;</span>,</span><br><span class="line">    <span class="string">&quot;顽石&quot;</span>,</span><br><span class="line">    <span class="string">&quot;宝马&quot;</span>,</span><br><span class="line">    <span class="string">&quot;M6&quot;</span>,</span><br><span class="line">    <span class="string">&quot;red&quot;</span>);</span><br><span class="line">  AddCarToPoliceDataBase(*factory,</span><br><span class="line">    <span class="string">&quot;DK66666&quot;</span>,</span><br><span class="line">    <span class="string">&quot;里奇&quot;</span>,</span><br><span class="line">    <span class="string">&quot;宝马&quot;</span>,</span><br><span class="line">    <span class="string">&quot;X7&quot;</span>,</span><br><span class="line">    <span class="string">&quot;red&quot;</span>);</span><br><span class="line">  delete factory;</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure>

<h2 id="组合模式"><a href="#组合模式" class="headerlink" title="组合模式"></a>组合模式</h2><h3 id="什么是组合模式"><a href="#什么是组合模式" class="headerlink" title="什么是组合模式"></a>什么是组合模式</h3><p><strong>组合模式</strong>是一种结构型设计模式， 你可以使用它将对象组合成树状结构， 并且能像使用独立对象一样使用它们。</p>
<h3 id="为什么使用组合模式"><a href="#为什么使用组合模式" class="headerlink" title="为什么使用组合模式"></a>为什么使用组合模式</h3><p>组合模式为你提供了两种共享公共接口的基本元素类型： 简单叶节点和复杂容器。 容器中可以包含叶节点和其他容器。 这使得你可以构建树状嵌套递归对象结构。果你希望客户端代码以相同方式处理简单和复杂元素， 可以使用该模式。 组合模式中定义的所有元素共用同一个接口。 在这一接口的帮助下， 客户端不必在意其所使用的对象的具体类。</p>
<h3 id="组合模式实现步骤"><a href="#组合模式实现步骤" class="headerlink" title="组合模式实现步骤"></a>组合模式实现步骤</h3><p>1.提供一个组件类：描述复杂元素的通用接口和方法</p>
<p>2.创建一个叶子节点类：描述简单元素</p>
<p>3.提供一个容器类：表示复杂元素</p>
<p>4.容器类中定义添加和删除子元素的方法</p>
<h3 id="组合模式优缺点"><a href="#组合模式优缺点" class="headerlink" title="组合模式优缺点"></a>组合模式优缺点</h3><p><strong>优点</strong></p>
<ul>
<li>你可以利用多态和递归机制更方便地使用复杂树结构。</li>
<li>开闭原则。 无需更改现有代码， 你就可以在应用中添加新元素， 使其成为对象树的一部分。</li>
</ul>
<p><strong>缺点</strong></p>
<ul>
<li>对于功能差异较大的类， 提供公共接口或许会有困难。 </li>
<li>在一些特定情况下，可以存在过度一般化组件接口， 使其变得令人难以理解。</li>
</ul>
<h3 id="组合模式实现代码"><a href="#组合模式实现代码" class="headerlink" title="组合模式实现代码"></a>组合模式实现代码</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;list&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Root</span><span class="comment">//虚拟类</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">showname</span><span class="params">()</span> </span>= <span class="number">0</span>;</span><br><span class="line">	<span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">add</span><span class="params">(Root* p)</span> </span>= <span class="number">0</span>;</span><br><span class="line">	<span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">Remove</span><span class="params">(Root* p)</span> </span>= <span class="number">0</span>;</span><br><span class="line">	<span class="function"><span class="keyword">virtual</span> list&lt;Root*&gt; <span class="title">Getchild</span><span class="params">()</span> </span>= <span class="number">0</span>;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">File</span> :<span class="keyword">public</span> Root<span class="comment">//文件位置</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="built_in">File</span>(string name) :<span class="built_in">name</span>(name) &#123;&#125;</span><br><span class="line">	<span class="function"><span class="type">void</span> <span class="title">showname</span><span class="params">()</span> </span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		cout &lt;&lt; name;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="type">void</span> <span class="title">add</span><span class="params">(Root* p)</span> </span>&#123;&#125;</span><br><span class="line">	<span class="function"><span class="type">void</span> <span class="title">Remove</span><span class="params">(Root* p)</span> </span>&#123;&#125;</span><br><span class="line">	<span class="function">list&lt;Root*&gt; <span class="title">Getchild</span><span class="params">()</span> </span>&#123; <span class="keyword">return</span> s; &#125;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">	list&lt;Root*&gt; s;</span><br><span class="line">	string name;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">floder</span> :<span class="keyword">public</span> Root<span class="comment">//文件夹位置</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="built_in">floder</span>(string name) :<span class="built_in">name</span>(name) &#123;&#125;</span><br><span class="line">	<span class="function"><span class="type">void</span> <span class="title">showname</span><span class="params">()</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		cout &lt;&lt; name;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="type">void</span> <span class="title">add</span><span class="params">(Root* p)</span> </span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		s.<span class="built_in">push_back</span>(p);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="type">void</span> <span class="title">Remove</span><span class="params">(Root* p)</span> </span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		s.<span class="built_in">remove</span>(p);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function">list&lt;Root*&gt; <span class="title">Getchild</span><span class="params">()</span> </span>&#123; <span class="keyword">return</span> s; &#125;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">	string name;</span><br><span class="line">	list&lt;Root*&gt; s;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">//统一接口</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">UsShow</span><span class="params">(Root* t, <span class="type">int</span> n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	list&lt;Root* &gt;root;</span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		cout &lt;&lt; <span class="string">&quot;/&quot;</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	t-&gt;<span class="built_in">showname</span>();</span><br><span class="line">	root = t-&gt;<span class="built_in">Getchild</span>();</span><br><span class="line">	<span class="keyword">if</span> (!root.<span class="built_in">empty</span>())</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">auto</span> v : root)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">if</span> (v-&gt;<span class="built_in">Getchild</span>().<span class="built_in">empty</span>())</span><br><span class="line">			&#123;</span><br><span class="line">				<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++)</span><br><span class="line">				&#123;</span><br><span class="line">					cout &lt;&lt; <span class="string">&quot;/&quot;</span>;</span><br><span class="line">				&#125;</span><br><span class="line">				v-&gt;<span class="built_in">showname</span>();</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">else</span></span><br><span class="line">			&#123;</span><br><span class="line">				cout &lt;&lt; endl;</span><br><span class="line">				<span class="built_in">UsShow</span>(v, n + <span class="number">1</span>);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	floder* root = <span class="keyword">new</span> <span class="built_in">floder</span>(<span class="string">&quot;C:&quot;</span>);</span><br><span class="line">	floder* D1 = <span class="keyword">new</span> <span class="built_in">floder</span>(<span class="string">&quot;1&quot;</span>);</span><br><span class="line">	File* T1 = <span class="keyword">new</span> <span class="built_in">File</span>(<span class="string">&quot;TEXT1.txt&quot;</span>);</span><br><span class="line">	floder* D2 = <span class="keyword">new</span> <span class="built_in">floder</span>(<span class="string">&quot;2&quot;</span>);</span><br><span class="line">	File* T2 = <span class="keyword">new</span> <span class="built_in">File</span>(<span class="string">&quot;TEXT2.txt&quot;</span>);</span><br><span class="line">	root-&gt;<span class="built_in">add</span>(D1);</span><br><span class="line">	root-&gt;<span class="built_in">add</span>(D2);</span><br><span class="line">	D1-&gt;<span class="built_in">add</span>(T1);</span><br><span class="line">	D2-&gt;<span class="built_in">add</span>(T2);</span><br><span class="line">	<span class="built_in">UsShow</span>(root, <span class="number">0</span>);</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="模板模式"><a href="#模板模式" class="headerlink" title="模板模式"></a>模板模式</h2><h3 id="什么是模板模式"><a href="#什么是模板模式" class="headerlink" title="什么是模板模式"></a>什么是模板模式</h3><p>模板方法是一种行为设计模式， 它在基类中定义了一个算法的框架， 允许子类在不修改结构的情况下重写算法的特定步骤。</p>
<h3 id="为什么使用模板模式"><a href="#为什么使用模板模式" class="headerlink" title="为什么使用模板模式"></a>为什么使用模板模式</h3><p>在抽象类中统一操作步骤，并规定好接口，让子类实现接口。这样可以把各个具体的子类和操作步骤解耦合。你只希望客户端扩展某个特定算法步骤，而不是整个算法或其结构时，可使用模板方法模式。当多个类的算法除一些细微不同之外几乎完全一样时， 你可使用该模式。但其后果就是，只要算法发生变化， 你就可能需要修改所有的类。</p>
<h3 id="模板模式实现步骤"><a href="#模板模式实现步骤" class="headerlink" title="模板模式实现步骤"></a>模板模式实现步骤</h3><p>1.提供一个抽象类：负责规定好接口，让子类实现接口，定义一个模板方法</p>
<p>2.提供具体实现子类:实现抽象类的抽象接口即可</p>
<h3 id="模板模式优缺点"><a href="#模板模式优缺点" class="headerlink" title="模板模式优缺点"></a>模板模式优缺点</h3><p><strong>优点</strong></p>
<ul>
<li>你可仅允许客户端重写一个大型算法中的特定部分， 使得算法其他部分修改对其所造成的影响减小</li>
<li>你可将重复代码提取到一个超类中</li>
</ul>
<p><strong>缺点</strong></p>
<ul>
<li>部分客户端可能会受到算法框架的限制</li>
<li>通过子类抑制默认步骤实现可能会导致违反里氏替换原则</li>
<li>模板方法中的步骤越多， 其维护工作就可能会越困难</li>
</ul>
<h3 id="模板模式实现代码"><a href="#模板模式实现代码" class="headerlink" title="模板模式实现代码"></a>模板模式实现代码</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">basics</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">head</span><span class="params">()</span> </span>= <span class="number">0</span>;</span><br><span class="line">	<span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">body</span><span class="params">()</span> </span>= <span class="number">0</span>;</span><br><span class="line">	<span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">clothes</span><span class="params">()</span> </span>= <span class="number">0</span>;</span><br><span class="line">	<span class="function"><span class="type">void</span> <span class="title">all</span><span class="params">()</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		<span class="built_in">head</span>();</span><br><span class="line">		<span class="built_in">body</span>();</span><br><span class="line">		<span class="built_in">clothes</span>();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">one</span> :<span class="keyword">public</span> basics</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="type">void</span> <span class="title">head</span><span class="params">()</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		cout &lt;&lt; <span class="string">&quot;长发 &quot;</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="type">void</span> <span class="title">body</span><span class="params">()</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		cout &lt;&lt; <span class="string">&quot;微胖 &quot;</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="type">void</span> <span class="title">clothes</span><span class="params">()</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		cout &lt;&lt; <span class="string">&quot;长裙&quot;</span> &lt;&lt; endl;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">two</span> :<span class="keyword">public</span> basics</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="type">void</span> <span class="title">head</span><span class="params">()</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		cout &lt;&lt; <span class="string">&quot;偏分 &quot;</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="type">void</span> <span class="title">body</span><span class="params">()</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		cout &lt;&lt; <span class="string">&quot;有腹肌 &quot;</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="type">void</span> <span class="title">clothes</span><span class="params">()</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		cout &lt;&lt; <span class="string">&quot;西服&quot;</span> &lt;&lt; endl;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	basics* a = <span class="keyword">new</span> one;</span><br><span class="line">	basics* b = <span class="keyword">new</span> two;</span><br><span class="line">	a-&gt;<span class="built_in">all</span>();</span><br><span class="line">	b-&gt;<span class="built_in">all</span>();</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="命令模式"><a href="#命令模式" class="headerlink" title="命令模式"></a>命令模式</h2><h3 id="什么是命令模式"><a href="#什么是命令模式" class="headerlink" title="什么是命令模式"></a>什么是命令模式</h3><p>命令模式是一种行为设计模式， 它可将请求转换为一个包含与请求相关的所有信息的独立对象。 该转换让你能根据不同的请求将方法参数化、 延迟请求执行或将其放入队列中， 且能实现可撤销操作。</p>
<h3 id="为什么使用命令模式"><a href="#为什么使用命令模式" class="headerlink" title="为什么使用命令模式"></a>为什么使用命令模式</h3><p>在面向对象的程序设计中，一个对象调用另一个对象，整个调用过程比较繁杂，或者存在多处这种调用。这时，使用命令模式对该调用加 以封装，便于功能的再利用。命令模式可将特定的方法调用转化为独立对象。 这一改变也带来了许多有趣的应用： 你可以将命令作为方法的参数进行传递、 将命令保存在其他对象中， 或者在运行时切换已连接的命令等。同其他对象一样， 命令也可以实现序列化 （序列化的意思是转化为字符串）， 从而能方便地写入文件或数据库中。 一段时间后， 该字符串可被恢复成为最初的命令对象。 因此， 你可以延迟或计划命令的执行。 但其功能远不止如此！ 使用同样的方式， 你还可以将命令放入队列、 记录命令或者通过网络发送命令。</p>
<h3 id="命令模式实现步骤"><a href="#命令模式实现步骤" class="headerlink" title="命令模式实现步骤"></a>命令模式实现步骤</h3><p>1.声明仅有一个执行方法的命令抽象类</p>
<p>2.抽取请求并使之成为实现命令接口的具体命令类</p>
<p>3.找到担任发送者职责的类</p>
<p>4.修改发送者使其执行命令， 而非直接将请求发送给接收者</p>
<p>5.客户端必须按照以下顺序来初始化对象</p>
<ul>
<li>创建接收者。</li>
<li>创建命令， 如有需要可将其关联至接收者。</li>
<li>创建发送者并将其与特定命令关联。</li>
</ul>
<h3 id="命令模式优缺点"><a href="#命令模式优缺点" class="headerlink" title="命令模式优缺点"></a>命令模式优缺点</h3><p><strong>优点</strong></p>
<ul>
<li>单一职责原则:你可以解耦触发和执行操作的类</li>
<li>开闭原则:你可以在不修改已有客户端代码的情况下在程序中创建新的命令</li>
<li>你可以实现撤销和恢复功能</li>
<li>你可以实现操作的延迟执行</li>
<li>你可以将一组简单命令组合成一个复杂命令</li>
</ul>
<p><strong>缺点</strong></p>
<ul>
<li>代码可能会变得更加复杂， 因为你在发送者和接收者之间增加了一个全新的层次</li>
</ul>
<h3 id="命令模式实现代码"><a href="#命令模式实现代码" class="headerlink" title="命令模式实现代码"></a>命令模式实现代码</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;list&gt;</span></span></span><br><span class="line">using namespace <span class="built_in">std</span>;</span><br><span class="line"><span class="comment">//以餐厅为例</span></span><br><span class="line"><span class="comment">//厨师</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">cooker</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">public:</span><br><span class="line">	<span class="type">void</span> <span class="title function_">cook_unique_technique</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;辣子鸡一份\n&quot;</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="type">void</span> <span class="title function_">cook_specialty_dish</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;九转大肠一份\n&quot;</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">//抽象命令</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">order</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">public:</span><br><span class="line">	order(cooker* s):p(s)&#123;&#125;</span><br><span class="line">	virtual <span class="type">void</span> <span class="title function_">cook</span><span class="params">()</span> = <span class="number">0</span>;</span><br><span class="line">	virtual <span class="type">void</span> <span class="title function_">nocook</span><span class="params">()</span> = <span class="number">0</span>;</span><br><span class="line">protected:</span><br><span class="line">	cooker* p;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">//具体命令1</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">order1</span>:</span>public order</span><br><span class="line">&#123;</span><br><span class="line">public:</span><br><span class="line">	order1(cooker* s) :order(s) &#123;&#125;</span><br><span class="line">	<span class="type">void</span> <span class="title function_">cook</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		p-&gt;cook_specialty_dish();</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="type">void</span> <span class="title function_">nocook</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;取消厨师拿手菜\n&quot;</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">//具体命令2</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">order2</span> :</span>public order</span><br><span class="line">&#123;</span><br><span class="line">public:</span><br><span class="line">	order2(cooker* s) :order(s) &#123;&#125;</span><br><span class="line">	<span class="type">void</span> <span class="title function_">cook</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		p-&gt;cook_unique_technique();</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="type">void</span> <span class="title function_">nocook</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;取消本店招牌菜\n&quot;</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">//点菜</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">order_dishes</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">public:</span><br><span class="line">	<span class="type">void</span> <span class="title function_">setOder</span><span class="params">(order* s)</span></span><br><span class="line">	&#123;</span><br><span class="line">		s-&gt;cook();</span><br><span class="line">		l.push_back(s);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="type">void</span> <span class="title function_">unOder</span><span class="params">(order* s)</span></span><br><span class="line">	&#123;</span><br><span class="line">		s-&gt;nocook();</span><br><span class="line">		l.remove(s);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="type">void</span> <span class="title function_">in_all</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">auto</span> s : l)</span><br><span class="line">		&#123;</span><br><span class="line">			s-&gt;cook();</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">private:</span><br><span class="line">	<span class="built_in">list</span>&lt;order*&gt; l;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">	cooker* a = new cooker;</span><br><span class="line">	order* s = new order1(a);</span><br><span class="line">	order* d = new order2(a);</span><br><span class="line">	order_dishes* e = new order_dishes;</span><br><span class="line"></span><br><span class="line">	e-&gt;setOder(s);</span><br><span class="line">	e-&gt;unOder(s);</span><br><span class="line">	e-&gt;setOder(d);</span><br><span class="line"></span><br><span class="line">	e-&gt;in_all();</span><br><span class="line">	e-&gt;setOder(s);</span><br><span class="line">	e-&gt;in_all();</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="责任链模式"><a href="#责任链模式" class="headerlink" title="责任链模式"></a>责任链模式</h2><h3 id="什么是责任链模式"><a href="#什么是责任链模式" class="headerlink" title="什么是责任链模式"></a>什么是责任链模式</h3><p>责任链模式是一种行为设计模式， 允许你将请求沿着处理者链进行发送。 收到请求后， 每个处理者均可对请求进行处理， 或将其传递给链上的下个处理者。比如有三个项目经理，顺序是A-&gt;B-&gt;C，把所有的项目都先传递给A，A拿到所有的项目后，把属于自己负责的项目留下来，把剩下的传递给B，然后B把属于自己的留下来，把不属于自己的再传递给C。</p>
<h3 id="为什么使用责任链模式"><a href="#为什么使用责任链模式" class="headerlink" title="为什么使用责任链模式"></a>为什么使用责任链模式</h3><p>该模式能将多个处理者连接成一条链。 接收到请求后， 它会 “询问” 每个处理者是否能够对其进行处理。 这样所有处理者都有机会来处理请求。 无论你以何种顺序将处理者连接成一条链， 所有请求都会严格按照顺序通过链上的处理者。如果在处理者类中有对引用成员变量的设定方法， 你将能动态地插入和移除处理者， 或者改变其顺序。总的来说链条式处理事情。工作流程化、消息处理流程化、事物流程化。</p>
<h3 id="责任链模式实现步骤"><a href="#责任链模式实现步骤" class="headerlink" title="责任链模式实现步骤"></a>责任链模式实现步骤</h3><p>1.提供处理类的抽象父类:抽象客户端如何将请求数据传递给方法</p>
<p>2.依次创建具体处理者子类并实现其处理方法</p>
<ul>
<li>是否自行处理这个请求</li>
<li>是否将该请求沿着链进行传递</li>
</ul>
<p>3.客户端处理链(组装链+触发处理者)，客户端需要准备好处理以下情况：</p>
<ul>
<li><p>链中可能只有单个链接</p>
</li>
<li><p>部分请求可能无法到达链尾</p>
</li>
<li><p>其他请求可能直到链尾都未被处理</p>
</li>
</ul>
<h3 id="责任链模式优缺点"><a href="#责任链模式优缺点" class="headerlink" title="责任链模式优缺点"></a>责任链模式优缺点</h3><p><strong>优点</strong></p>
<ul>
<li>你可以控制请求处理的顺序</li>
<li>单一职责原则: 你可对发起操作和执行操作的类进行解耦</li>
<li>开闭原则:你可以在不更改现有代码的情况下在程序中新增处理者</li>
</ul>
<p><strong>缺点</strong></p>
<ul>
<li>部分请求可能未被处理</li>
</ul>
<h3 id="责任链模式实现代码"><a href="#责任链模式实现代码" class="headerlink" title="责任链模式实现代码"></a>责任链模式实现代码</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line">using namespace <span class="built_in">std</span>;</span><br><span class="line"><span class="comment">//以上班请假为例</span></span><br><span class="line"><span class="comment">//抽象类</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">lead</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">public:</span><br><span class="line">	lead():next(nullptr)&#123;&#125;</span><br><span class="line">	<span class="comment">//组织链函数</span></span><br><span class="line">	<span class="type">void</span> <span class="title function_">nexthr</span><span class="params">(lead* s)</span></span><br><span class="line">	&#123;</span><br><span class="line">		next = s;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">//向领导请假</span></span><br><span class="line">	virtual <span class="type">void</span> <span class="title function_">leave</span><span class="params">(<span class="type">int</span> day)</span> = <span class="number">0</span>;</span><br><span class="line">protected:</span><br><span class="line">	lead* next;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">//主管</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">hr</span> :</span>public lead</span><br><span class="line">&#123;</span><br><span class="line">public:</span><br><span class="line">	<span class="type">void</span> <span class="title function_">leave</span><span class="params">(<span class="type">int</span> day)</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;主管说：&quot;</span>;</span><br><span class="line">		<span class="keyword">if</span> (day &lt;= <span class="number">1</span>)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;可以\n&quot;</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span></span><br><span class="line">		&#123;</span><br><span class="line">			<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;天数太长，找经理\n&quot;</span>;</span><br><span class="line">			next-&gt;leave(day);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">//经理</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">manager</span> :</span>public lead</span><br><span class="line">&#123;</span><br><span class="line">public:</span><br><span class="line">	<span class="type">void</span> <span class="title function_">leave</span><span class="params">(<span class="type">int</span> day)</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;经理说：&quot;</span>;</span><br><span class="line">		<span class="keyword">if</span> (day &lt;= <span class="number">3</span>)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;可以\n&quot;</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span></span><br><span class="line">		&#123;</span><br><span class="line">			<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;天数太长，找老板\n&quot;</span>;</span><br><span class="line">			next-&gt;leave(day);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">//老板</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">boss</span> :</span>public lead</span><br><span class="line">&#123;</span><br><span class="line">public:</span><br><span class="line">	<span class="type">void</span> <span class="title function_">leave</span><span class="params">(<span class="type">int</span> day)</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;老板说：&quot;</span>;</span><br><span class="line">		<span class="keyword">if</span> (day &lt;= <span class="number">30</span>)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;可以\n&quot;</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span></span><br><span class="line">		&#123;</span><br><span class="line">			<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;天数太长，不予批准\n&quot;</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">	lead* a = new hr;</span><br><span class="line">	lead* s = new manager;</span><br><span class="line">	lead* d = new boss;</span><br><span class="line">	<span class="comment">//组装链</span></span><br><span class="line">	a-&gt;nexthr(s);</span><br><span class="line">	s-&gt;nexthr(d);</span><br><span class="line"></span><br><span class="line">	a-&gt;leave(<span class="number">10</span>);</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="策略模式"><a href="#策略模式" class="headerlink" title="策略模式"></a>策略模式</h2><h3 id="什么是策略模式"><a href="#什么是策略模式" class="headerlink" title="什么是策略模式"></a>什么是策略模式</h3><p>策略模式是一种行为设计模式， 它能让你定义一系列算法， 并将每种算法分别放入独立的类中， 以使算法的对象能够相互替换</p>
<h3 id="为什么使用策略模式"><a href="#为什么使用策略模式" class="headerlink" title="为什么使用策略模式"></a>为什么使用策略模式</h3><p>策略模式让你能够将对象关联至可以不同方式执行特定子任务的不同子对象， 从而以间接方式在运行时更改对象行为。策略模式让你能将不同行为抽取到一个独立类层次结构中， 并将原始类组合成同一个， 从而减少重复代码。策略模式让你能将各种算法的代码、 内部数据和依赖关系与其他代码隔离开来。 不同客户端可通过一个简单接口执行算法， 并能在运行时进行切换。策略模式将所有继承自同样接口的算法抽取到独立类中， 因此不再需要条件语句。 原始对象并不实现所有算法的变体， 而是将执行工作委派给其中的一个独立算法对象。从而解决在同一算法的不同变体中切换时避免使用多重条件判断。</p>
<h3 id="策略模式实现步骤"><a href="#策略模式实现步骤" class="headerlink" title="策略模式实现步骤"></a>策略模式实现步骤</h3><p>1.提供一个抽象策略类：定义抽象的函数算法让继承的子类实现</p>
<p>2.提供具体策略类:封装了继续相关的算法和行为，即函数的具体功能的实现</p>
<p>3.提供一个策略的容器类：根据不同策略执行不同的行为，策略由外部 环境决定</p>
<h3 id="策略模式优缺点"><a href="#策略模式优缺点" class="headerlink" title="策略模式优缺点"></a>策略模式优缺点</h3><p><strong>优点</strong></p>
<ul>
<li>你可以在运行时切换对象内的算法</li>
<li>你可以将算法的实现和使用算法的代码隔离开来</li>
<li>你可以使用组合来代替继承</li>
<li>开闭原则：你无需对上下文进行修改就能够引入新的策略</li>
</ul>
<p><strong>缺点</strong></p>
<ul>
<li>如果你的算法极少发生改变， 那么没有任何理由引入新的类和接口。 使用该模式只会让程序过于复杂</li>
<li>客户端必须知晓策略间的不同——它需要选择合适的策略</li>
<li>借助额外的类和接口可能会让代码不够简洁</li>
</ul>
<h3 id="策略模式实现代码"><a href="#策略模式实现代码" class="headerlink" title="策略模式实现代码"></a>策略模式实现代码</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="comment">//以计算器为例</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">calculator</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="keyword">virtual</span> <span class="type">int</span> <span class="title">ex</span><span class="params">(<span class="type">int</span> a,<span class="type">int</span> b)</span> </span>= <span class="number">0</span>;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">add</span> :<span class="keyword">public</span> calculator</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="type">int</span> <span class="title">ex</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b)</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		<span class="keyword">return</span> a + b;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">cc</span> :<span class="keyword">public</span> calculator</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="type">int</span> <span class="title">ex</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b)</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		<span class="keyword">if</span>(b!=<span class="number">0</span>)</span><br><span class="line">		<span class="keyword">return</span> a / b;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">sub</span> :<span class="keyword">public</span> calculator</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="type">int</span> <span class="title">ex</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b)</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		<span class="keyword">return</span> a - b;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ee</span> :<span class="keyword">public</span> calculator</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="type">int</span> <span class="title">ex</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b)</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		<span class="keyword">return</span> a * b;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ll</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="type">void</span> <span class="title">set</span><span class="params">(calculator* s)</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		<span class="keyword">this</span>-&gt;s = s;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="type">void</span> <span class="title">calculate</span><span class="params">(<span class="type">int</span> a,<span class="type">int</span> b)</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		cout &lt;&lt; s-&gt;<span class="built_in">ex</span>(a, b) &lt;&lt; endl;</span><br><span class="line">	&#125;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">	calculator* s;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	ll* s = <span class="keyword">new</span> ll;</span><br><span class="line">	<span class="type">int</span> a, b;</span><br><span class="line">	<span class="type">char</span> c;</span><br><span class="line">	cin &gt;&gt; a &gt;&gt; c &gt;&gt; b;</span><br><span class="line">	<span class="keyword">switch</span> (c)</span><br><span class="line">	&#123;</span><br><span class="line">	<span class="keyword">case</span> <span class="string">&#x27;+&#x27;</span>:</span><br><span class="line">		s-&gt;<span class="built_in">set</span>(<span class="keyword">new</span> add);</span><br><span class="line">		s-&gt;<span class="built_in">calculate</span>(a, b);</span><br><span class="line">		<span class="keyword">break</span>;</span><br><span class="line">	<span class="keyword">case</span> <span class="string">&#x27;-&#x27;</span>:</span><br><span class="line">		s-&gt;<span class="built_in">set</span>(<span class="keyword">new</span> sub);</span><br><span class="line">		s-&gt;<span class="built_in">calculate</span>(a, b);</span><br><span class="line">		<span class="keyword">break</span>;</span><br><span class="line">	<span class="keyword">case</span> <span class="string">&#x27;*&#x27;</span>:</span><br><span class="line">		s-&gt;<span class="built_in">set</span>(<span class="keyword">new</span> ee);</span><br><span class="line">		s-&gt;<span class="built_in">calculate</span>(a, b);</span><br><span class="line">		<span class="keyword">break</span>;</span><br><span class="line">	<span class="keyword">case</span> <span class="string">&#x27;/&#x27;</span>:</span><br><span class="line">		s-&gt;<span class="built_in">set</span>(<span class="keyword">new</span> cc);</span><br><span class="line">		s-&gt;<span class="built_in">calculate</span>(a, b);</span><br><span class="line">		<span class="keyword">break</span>;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="观察者模式"><a href="#观察者模式" class="headerlink" title="观察者模式"></a>观察者模式</h2><h3 id="什么是观察者模式"><a href="#什么是观察者模式" class="headerlink" title="什么是观察者模式"></a>什么是观察者模式</h3><p>观察者模式是行为模式之一，它的作用是当一个对象的状态发生变化时，能够自动通知其 他关联对象，自动刷新对象状态</p>
<h3 id="为什么使用观察者模式"><a href="#为什么使用观察者模式" class="headerlink" title="为什么使用观察者模式"></a>为什么使用观察者模式</h3><p>当一个对象状态的改变需要改变其他对象， 或实际对象是事先未知的或动态变化的时，观察者模式适合描述此类问题。当应用中的一些对象必须观察其他对象时，可使用该模式，但仅能在有限时间内或特定情况下使用。</p>
<h3 id="观察者模式实现步骤"><a href="#观察者模式实现步骤" class="headerlink" title="观察者模式实现步骤"></a>观察者模式实现步骤</h3><p>1.提供一个抽象目标类：被观察的对象，抽象基本的属性状态及其他操作</p>
<p>2.提供一个具体目标类：被观察的对象对象具体实现</p>
<p>3.提供一个抽象观察者类：抽象观察者的具体的业务逻辑处理</p>
<p>4.提供一个具体观察者类：观察者的具体实现，得到通知后将完成一些具体的业务逻辑处理</p>
<h3 id="观察者模式优缺点"><a href="#观察者模式优缺点" class="headerlink" title="观察者模式优缺点"></a>观察者模式优缺点</h3><p><strong>优点</strong></p>
<ul>
<li>开闭原则： 你无需修改发布者代码就能引入新的订阅者类 （如果是发布者接口则可轻松引入发布者类）</li>
<li>你可以在运行时建立对象之间的联系</li>
<li>依赖倒置：让耦合的双方都依赖于抽象,而不是依赖于具体</li>
</ul>
<p><strong>缺点</strong></p>
<ul>
<li>被观察者对象有很多的直接和间接的观察者的话，将所有的观察者都通知到会花费很多时间</li>
<li>⼀个被观察者对象有很多的直接和间接的观察者的话，将所有的观察者都通知到会花费很多时间</li>
</ul>
<h3 id="观察者模式实现代码"><a href="#观察者模式实现代码" class="headerlink" title="观察者模式实现代码"></a>观察者模式实现代码</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">boss</span>;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">stuff</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="built_in">stuff</span>(string name, boss* a) :<span class="built_in">name</span>(name) &#123; <span class="keyword">this</span>-&gt;a = a; &#125;</span><br><span class="line">	<span class="function"><span class="type">void</span> <span class="title">cc</span><span class="params">(string dO)</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		cout &lt;&lt; name &lt;&lt; <span class="string">&quot;观察到：&quot;</span>;</span><br><span class="line">		<span class="keyword">if</span>(dO==<span class="string">&quot;老板在巡视&quot;</span>)</span><br><span class="line">		&#123;</span><br><span class="line">			cout &lt;&lt;dO&lt;&lt; <span class="string">&quot;立刻工作&quot;</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">if</span>(dO==<span class="string">&quot;老板走了&quot;</span>)</span><br><span class="line">		&#123;</span><br><span class="line">			cout &lt;&lt; dO &lt;&lt; <span class="string">&quot;开始摸鱼&quot;</span>;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">	boss* a;</span><br><span class="line">	string name;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">boss</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="type">void</span> <span class="title">seet</span><span class="params">(stuff* s)</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		e.<span class="built_in">push_back</span>(s);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="type">void</span> <span class="title">ee</span><span class="params">(string ss)</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">auto</span> s : e)</span><br><span class="line">		&#123;</span><br><span class="line">			s-&gt;<span class="built_in">cc</span>(ss);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">	vector&lt;stuff*&gt; e;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	boss* a = <span class="keyword">new</span> boss;</span><br><span class="line">	stuff* s = <span class="keyword">new</span> <span class="built_in">stuff</span>(<span class="string">&quot;一一&quot;</span>,a);</span><br><span class="line">	a-&gt;<span class="built_in">seet</span>(s);</span><br><span class="line">	a-&gt;<span class="built_in">ee</span>(<span class="string">&quot;老板在巡视&quot;</span>);</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="访问者模式"><a href="#访问者模式" class="headerlink" title="访问者模式"></a>访问者模式</h2><h3 id="什么是访问者模式"><a href="#什么是访问者模式" class="headerlink" title="什么是访问者模式"></a>什么是访问者模式</h3><p>访问者模式是行为模式之一，它分离对象的数据和行为，使用访问者模式模式，可以不修改已有类的情况下，增加新的操作角色和职责</p>
<h3 id="为什么使用访问者模式"><a href="#为什么使用访问者模式" class="headerlink" title="为什么使用访问者模式"></a>为什么使用访问者模式</h3><p>访问者模式通过在访问者对象中为多个目标类提供相同操作的变体， 让你能在属于不同类的一组对象上执行同一操作；访问者模式将所有非主要的行为抽取到一组访问者类中， 使得程序的主要类能更专注于主要的工作；当某个行为仅在类层次结构中的一些类中有意义，而在其他类中没有意义时，你可将该行为抽取到单独的访问者类中， 只需实现接收相关类的对象作为参数的访问者方法并将其他方法留空即可。</p>
<h3 id="访问者模式实现步骤"><a href="#访问者模式实现步骤" class="headerlink" title="访问者模式实现步骤"></a>访问者模式实现步骤</h3><p>1.提供一个抽象访问者类：声明了一个或者多个访问操作，形成所有的具体元素角色必须实现的抽象方法</p>
<p>2.提供一个具体访问者类:实现抽象访问者角色所声明的抽象方法，也就是抽象访问者所声明的各个访问操作</p>
<p>3.提供一个抽象被访问者类:声明一个接受操作，接受一个访问者对象作为一个变量的抽象方法</p>
<p>4.提供一个或多个被访问者类:被访问者的抽象方法的具体实现</p>
<p>5.提供一个结构对象类:可以遍历结构中的所有元素；如果有需要，可提供访问元素接口，元素可设计存储到容器中</p>
<h3 id="访问者模式优缺点"><a href="#访问者模式优缺点" class="headerlink" title="访问者模式优缺点"></a>访问者模式优缺点</h3><p><strong>优点</strong></p>
<ul>
<li>开闭原则: 你可以引入在不同类对象上执行的新行为， 且无需对这些类做出修改</li>
<li>单一职责原则: 可将同一行为的不同版本移到同一个类中</li>
<li>访问者对象可以在与各种对象交互时收集一些有用的信息</li>
</ul>
<p><strong>缺点</strong></p>
<ul>
<li>每次在元素层次结构中添加或移除一个类时， 你都要更新所有的访问者</li>
<li>在访问者同某个元素进行交互时， 它们可能没有访问元素私有成员变量和方法的必要权限</li>
</ul>
<h3 id="访问者模式实现代码"><a href="#访问者模式实现代码" class="headerlink" title="访问者模式实现代码"></a>访问者模式实现代码</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;list&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">scenes</span>;</span><br><span class="line"><span class="comment">//抽象旅客类</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Votcer</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">look</span><span class="params">(scenes* s)</span> </span>= <span class="number">0</span>;</span><br><span class="line"><span class="keyword">protected</span>:</span><br><span class="line">	string name;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">//抽象场景类-----------要放在前面，否者会报错</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">scenes</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">df</span><span class="params">(Votcer* s)</span> </span>= <span class="number">0</span>;</span><br><span class="line">	<span class="function">string <span class="title">getdf</span><span class="params">()</span> </span>&#123; <span class="keyword">return</span> dfs; &#125;</span><br><span class="line"><span class="keyword">protected</span>:</span><br><span class="line">	string dfs;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">//具体旅客类</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">man</span> :<span class="keyword">public</span> Votcer</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="built_in">man</span>()</span><br><span class="line">	&#123;</span><br><span class="line">		name = <span class="string">&quot;男生&quot;</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="type">void</span> <span class="title">look</span><span class="params">(scenes* s)</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		cout &lt;&lt; name &lt;&lt; <span class="string">&quot;在 &quot;</span> &lt;&lt;s-&gt;<span class="built_in">getdf</span>()&lt;&lt; <span class="string">&quot;散步&quot;</span> &lt;&lt; endl;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">woman</span> :<span class="keyword">public</span> Votcer</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="built_in">woman</span>()</span><br><span class="line">	&#123;</span><br><span class="line">		name = <span class="string">&quot;女生&quot;</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="type">void</span> <span class="title">look</span><span class="params">(scenes* s)</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		cout &lt;&lt; name &lt;&lt; <span class="string">&quot;在 &quot;</span> &lt;&lt; s-&gt;<span class="built_in">getdf</span>() &lt;&lt; <span class="string">&quot;看风景&quot;</span> &lt;&lt; endl;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">//具体场景类</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">lake</span>:<span class="keyword">public</span> scenes</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="built_in">lake</span>()</span><br><span class="line">	&#123;</span><br><span class="line">		dfs = <span class="string">&quot;湖&quot;</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="type">void</span> <span class="title">df</span><span class="params">(Votcer* s)</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		s-&gt;<span class="built_in">look</span>(<span class="keyword">this</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">woods</span> :<span class="keyword">public</span> scenes</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="built_in">woods</span>()</span><br><span class="line">	&#123;</span><br><span class="line">		dfs = <span class="string">&quot;小树林&quot;</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="type">void</span> <span class="title">df</span><span class="params">(Votcer* s)</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		s-&gt;<span class="built_in">look</span>(<span class="keyword">this</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">//管理类</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">gll</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="type">void</span> <span class="title">seet</span><span class="params">(scenes* b)</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		s.<span class="built_in">push_back</span>(b);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="type">void</span> <span class="title">ggt</span><span class="params">(Votcer* f)</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">auto</span> v : s)</span><br><span class="line">		&#123;</span><br><span class="line">			v-&gt;<span class="built_in">df</span>(f);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">	list&lt;scenes*&gt; s;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	gll* s = <span class="keyword">new</span> gll;</span><br><span class="line">	Votcer* a = <span class="keyword">new</span> man;</span><br><span class="line">	Votcer* b = <span class="keyword">new</span> woman;</span><br><span class="line">	scenes* d = <span class="keyword">new</span> lake;</span><br><span class="line">	scenes* w = <span class="keyword">new</span> woods;</span><br><span class="line">	s-&gt;<span class="built_in">seet</span>(d);</span><br><span class="line">	s-&gt;<span class="built_in">seet</span>(w);</span><br><span class="line">	s-&gt;<span class="built_in">ggt</span>(a);</span><br><span class="line">	s-&gt;<span class="built_in">ggt</span>(b);</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="中介者模式"><a href="#中介者模式" class="headerlink" title="中介者模式"></a>中介者模式</h2><h3 id="什么是中介者模式"><a href="#什么是中介者模式" class="headerlink" title="什么是中介者模式"></a>什么是中介者模式</h3><p>中介者模式是一种行为设计模式， 能让你减少对象之间混乱无序的依赖关系。 该模式会限制对象之间的直接交互， 迫使它们通过一个中介者对象进行合作</p>
<h3 id="为什么使用中介者模式"><a href="#为什么使用中介者模式" class="headerlink" title="为什么使用中介者模式"></a>为什么使用中介者模式</h3><p>该模式让你将对象间的所有关系抽取成为一个单独的类， 以使对于特定组件的修改工作独立于其他组件，由于所有组件间关系都被包含在中介者中， 因此你无需修改组件就能方便地新建中介者类以定义新的组件合作方式。一般来说，大型的软件在开发的过程中会使用模块化的开发方式。但是无论模块之间如何独立，总是会有需要模块间通信的时候，如果模块有很多，且每个模块都向外提供了唯一的接收消息的接口，那么一个模块如果需要与其他所有模块通信，则需要记录其他所有模块的通信接口，同理每个模块都要记录所有与自己相关联的模块的通信接口。首先这就是一件很冗余并降低开发效率的事情，其次，一旦有一天，某个模块修改了自己所提供的通信接口，或者增加了一个新模块，尤其是后者，在公司项目发展过程中是很正常的事情。那么所有模块关于其他模块通信接口的记录可能都需要修改或增加，这在拥有庞大模块数量的项目中，是很恐怖的事情，此时可以考虑中介者模式</p>
<h3 id="中介者模式实现步骤"><a href="#中介者模式实现步骤" class="headerlink" title="中介者模式实现步骤"></a>中介者模式实现步骤</h3><p>1.抽象一个中介者类：定义对象到中介者对象的接口</p>
<p>2.提供一个具体中介者类：实现抽象接口，并且实现关联类数据处理</p>
<p>3.提供一个关联类(同事类)的抽象父类 ：多个关联类之间的交互操作的抽象</p>
<p>4.提供一个或多个具体的关联类(同事类)：实现抽象，通过中介者类完成操作</p>
<h3 id="中介者模式优缺点"><a href="#中介者模式优缺点" class="headerlink" title="中介者模式优缺点"></a>中介者模式优缺点</h3><p><strong>优点</strong></p>
<ul>
<li>单一职责原则: 你可以将多个组件间的交流抽取到同一位置， 使其更易于理解和维护</li>
<li>开闭原则: 你无需修改实际组件就能增加新的中介者</li>
<li>你可以减轻应用中多个组件间的耦合情况</li>
<li>你可以更方便地复用各个组件</li>
</ul>
<p><strong>缺点</strong></p>
<ul>
<li>一段时间后， 中介者可能会演化成为上帝对象</li>
</ul>
<h3 id="中介者模式实现代码"><a href="#中介者模式实现代码" class="headerlink" title="中介者模式实现代码"></a>中介者模式实现代码</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//三平台通信</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">enum class</span> <span class="title class_">Message</span></span><br><span class="line">&#123;</span><br><span class="line">	ATW_MESSAGE,		<span class="comment">//移动端到Win</span></span><br><span class="line">	ATM_MESSAGE,		<span class="comment">//移动端到Mac</span></span><br><span class="line">	WTM_MESSAGE,		<span class="comment">//Mac到Win</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">AbstractModule</span>;</span><br><span class="line"><span class="comment">//提供转发接口</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">AbstractMediator</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">Transmit</span><span class="params">(Message message, AbstractModule* pm)</span> </span>= <span class="number">0</span>;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">AbstractModule</span> </span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="built_in">AbstractModule</span>(AbstractMediator* pM) :<span class="built_in">pM</span>(pM) &#123;&#125;</span><br><span class="line">	<span class="function"><span class="type">void</span> <span class="title">SendMessage</span><span class="params">(Message message)</span> </span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		pM-&gt;<span class="built_in">Transmit</span>(message, <span class="keyword">this</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">virtual</span> <span class="type">void</span>  <span class="title">AcceptMessage</span><span class="params">(Message message)</span> </span>= <span class="number">0</span>;</span><br><span class="line"><span class="keyword">protected</span>:</span><br><span class="line">	AbstractMediator* pM;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">App</span> :<span class="keyword">public</span> AbstractModule</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="built_in">App</span>(AbstractMediator* pM) :<span class="built_in">AbstractModule</span>(pM) &#123;&#125;</span><br><span class="line">	<span class="function"><span class="type">void</span>  <span class="title">AcceptMessage</span><span class="params">(Message message)</span> </span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		<span class="keyword">switch</span> (message) </span><br><span class="line">		&#123;</span><br><span class="line">		<span class="keyword">case</span> Message::ATM_MESSAGE:</span><br><span class="line">			cout &lt;&lt; <span class="string">&quot;App to Mac&quot;</span> &lt;&lt; endl;</span><br><span class="line">			<span class="keyword">break</span>;</span><br><span class="line">		<span class="keyword">case</span> Message::ATW_MESSAGE:</span><br><span class="line">			cout &lt;&lt; <span class="string">&quot;App to Win&quot;</span> &lt;&lt; endl;</span><br><span class="line">			<span class="keyword">break</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Win</span> :<span class="keyword">public</span> AbstractModule</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="built_in">Win</span>(AbstractMediator* pM) :<span class="built_in">AbstractModule</span>(pM) &#123;&#125;</span><br><span class="line">	<span class="function"><span class="type">void</span>  <span class="title">AcceptMessage</span><span class="params">(Message message)</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		<span class="keyword">switch</span> (message)</span><br><span class="line">		&#123;</span><br><span class="line">		<span class="keyword">case</span> Message::WTM_MESSAGE:</span><br><span class="line">			cout &lt;&lt; <span class="string">&quot;Win to Mac&quot;</span> &lt;&lt; endl;</span><br><span class="line">			<span class="keyword">break</span>;</span><br><span class="line">		<span class="keyword">case</span> Message::ATW_MESSAGE:</span><br><span class="line">			cout &lt;&lt; <span class="string">&quot;App to Win&quot;</span> &lt;&lt; endl;</span><br><span class="line">			<span class="keyword">break</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Mac</span> :<span class="keyword">public</span> AbstractModule </span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="built_in">Mac</span>(AbstractMediator* pM) :<span class="built_in">AbstractModule</span>(pM) &#123;&#125;</span><br><span class="line">	<span class="function"><span class="type">void</span>  <span class="title">AcceptMessage</span><span class="params">(Message message)</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		<span class="keyword">switch</span> (message)</span><br><span class="line">		&#123;</span><br><span class="line">		<span class="keyword">case</span> Message::WTM_MESSAGE:</span><br><span class="line">			cout &lt;&lt; <span class="string">&quot;Win to Mac&quot;</span> &lt;&lt; endl;</span><br><span class="line">			<span class="keyword">break</span>;</span><br><span class="line">		<span class="keyword">case</span> Message::ATM_MESSAGE:</span><br><span class="line">			cout &lt;&lt; <span class="string">&quot;App to Mac&quot;</span> &lt;&lt; endl;</span><br><span class="line">			<span class="keyword">break</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">//中介者实现类</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ConcreteMediator</span> :<span class="keyword">public</span> AbstractMediator </span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="type">void</span> <span class="title">Transmit</span><span class="params">(Message message, AbstractModule* pM)</span> </span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		<span class="keyword">switch</span> (message)</span><br><span class="line">		&#123;</span><br><span class="line">		<span class="keyword">case</span> Message::ATM_MESSAGE:</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="comment">//能通过dynamic_cast转换为不为NULL的指针,可确认指针指向的子类类型</span></span><br><span class="line">			App* app = <span class="built_in">dynamic_cast</span>&lt;App*&gt;(pM);</span><br><span class="line">			<span class="keyword">if</span> (<span class="literal">NULL</span> != app)</span><br><span class="line">			&#123;</span><br><span class="line">				m_mac-&gt;<span class="built_in">AcceptMessage</span>(message);</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">else</span></span><br><span class="line">			&#123;</span><br><span class="line">				app-&gt;<span class="built_in">AcceptMessage</span>(message);</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">break</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">case</span> Message::ATW_MESSAGE: </span><br><span class="line">		&#123;</span><br><span class="line">			App* app = <span class="built_in">dynamic_cast</span>&lt;App*&gt;(pM);</span><br><span class="line">			<span class="keyword">if</span> (<span class="literal">NULL</span> != app)</span><br><span class="line">			&#123;</span><br><span class="line">				m_win-&gt;<span class="built_in">AcceptMessage</span>(message);</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">else</span></span><br><span class="line">			&#123;</span><br><span class="line">				app-&gt;<span class="built_in">AcceptMessage</span>(message);</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">break</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">case</span> Message::WTM_MESSAGE:</span><br><span class="line">		&#123;</span><br><span class="line">			Win* win = <span class="built_in">dynamic_cast</span>&lt;Win*&gt;(pM);</span><br><span class="line">			<span class="keyword">if</span> (<span class="literal">NULL</span> != win)</span><br><span class="line">			&#123;</span><br><span class="line">				m_mac-&gt;<span class="built_in">AcceptMessage</span>(message);</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">else</span></span><br><span class="line">			&#123;</span><br><span class="line">				win-&gt;<span class="built_in">AcceptMessage</span>(message);</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">break</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="type">void</span> <span class="title">SetModuleApp</span><span class="params">(AbstractModule* app)</span> </span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		<span class="keyword">this</span>-&gt;m_app = app;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="type">void</span> <span class="title">SetModuleWin</span><span class="params">(AbstractModule* win)</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		<span class="keyword">this</span>-&gt;m_win = win;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="type">void</span> <span class="title">SetModuleMac</span><span class="params">(AbstractModule* mac)</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		<span class="keyword">this</span>-&gt;m_mac = mac;</span><br><span class="line">	&#125;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">	AbstractModule* m_app=<span class="literal">nullptr</span>;</span><br><span class="line">	AbstractModule* m_win= <span class="literal">nullptr</span>;</span><br><span class="line">	AbstractModule* m_mac= <span class="literal">nullptr</span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	AbstractMediator* pM = <span class="keyword">new</span> ConcreteMediator;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//指定中介者</span></span><br><span class="line">	AbstractModule* app = <span class="keyword">new</span> <span class="built_in">App</span>(pM);</span><br><span class="line">	AbstractModule* win = <span class="keyword">new</span> <span class="built_in">Win</span>(pM);</span><br><span class="line">	AbstractModule* mac = <span class="keyword">new</span> <span class="built_in">Mac</span>(pM);</span><br><span class="line"></span><br><span class="line">	<span class="comment">//为中介者设定模块</span></span><br><span class="line">	ConcreteMediator* pC = <span class="built_in">dynamic_cast</span>&lt;ConcreteMediator*&gt;(pM);</span><br><span class="line">	pC-&gt;<span class="built_in">SetModuleApp</span>(app);</span><br><span class="line">	pC-&gt;<span class="built_in">SetModuleWin</span>(win);</span><br><span class="line">	pC-&gt;<span class="built_in">SetModuleMac</span>(mac);</span><br><span class="line"></span><br><span class="line">	<span class="comment">//模块间通信</span></span><br><span class="line">	app-&gt;<span class="built_in">SendMessage</span>(Message::ATM_MESSAGE);</span><br><span class="line">	app-&gt;<span class="built_in">SendMessage</span>(Message::ATW_MESSAGE);</span><br><span class="line">	win-&gt;<span class="built_in">SendMessage</span>(Message::WTM_MESSAGE);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="备忘录模式"><a href="#备忘录模式" class="headerlink" title="备忘录模式"></a>备忘录模式</h2><h3 id="什么是备忘录模式"><a href="#什么是备忘录模式" class="headerlink" title="什么是备忘录模式"></a>什么是备忘录模式</h3><p>备忘录模式是一种行为设计模式， 允许在不暴露对象实现细节的情况下保存和恢复对象之前的状态。（浏览器回退、编辑器撤销与重做、虚拟机生成快照与恢复、游戏悔棋等）</p>
<h3 id="为什么使用备忘录模式"><a href="#为什么使用备忘录模式" class="headerlink" title="为什么使用备忘录模式"></a>为什么使用备忘录模式</h3><p>备忘录模式允许你复制对象中的全部状态 （包括私有成员变量）， 并将其独立于对象进行保存。 尽管大部分人因为 “撤销” 这个用例才记得该模式， 但其实它在处理事务 （比如需要在出现错误时回滚一个操作） 的过程中也必不可少;备忘录让对象自行负责创建其状态的快照。 任何其他对象都不能读取快照， 这有效地保障了数据的安全性</p>
<h3 id="备忘录模式实现步骤"><a href="#备忘录模式实现步骤" class="headerlink" title="备忘录模式实现步骤"></a>备忘录模式实现步骤</h3><p>1.提供一个原生器类：真正要被保存或恢复的对象，其负责创建一个备忘录，可以存储、恢复需要状态信息</p>
<p>2.提供一个备忘录类：用于存储原生器对象的的内部状态，防止外部直接访问原生器对象</p>
<p>3.提供一个管理者类：负责存储备忘录，但不能对备忘录内容进行操作和访问，只能将备忘录传递给其他对象</p>
<h3 id="备忘录模式优缺点"><a href="#备忘录模式优缺点" class="headerlink" title="备忘录模式优缺点"></a>备忘录模式优缺点</h3><p><strong>优点</strong></p>
<ul>
<li>你可以在不破坏对象封装情况的前提下创建对象状态快照</li>
<li>你可以通过让负责人维护原发器状态历史记录来简化原发器代码</li>
</ul>
<p><strong>缺点</strong></p>
<ul>
<li>如果客户端过于频繁地创建备忘录， 程序将消耗大量内存</li>
<li>负责人必须完整跟踪原发器的生命周期， 这样才能销毁弃用的备忘录</li>
</ul>
<h3 id="备忘录模式实现代码"><a href="#备忘录模式实现代码" class="headerlink" title="备忘录模式实现代码"></a>备忘录模式实现代码</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="comment">//象棋为例的下棋退步问题</span></span><br><span class="line"><span class="comment">//原生类</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">chess</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="built_in">chess</span>(string name,pair&lt;<span class="type">int</span>,<span class="type">int</span>&gt; s):<span class="built_in">name</span>(name),<span class="built_in">s</span>(s)&#123;&#125;</span><br><span class="line">	<span class="function"><span class="type">void</span> <span class="title">setstop</span><span class="params">(string name, pair&lt;<span class="type">int</span>, <span class="type">int</span>&gt; s)</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		<span class="keyword">this</span>-&gt;name = name;</span><br><span class="line">		<span class="keyword">this</span>-&gt;s = s;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function">string <span class="title">getname</span><span class="params">()</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		<span class="keyword">return</span> name;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function">pair&lt;<span class="type">int</span>, <span class="type">int</span>&gt; <span class="title">getss</span><span class="params">()</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		<span class="keyword">return</span> s;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="type">void</span> <span class="title">show</span><span class="params">()</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		cout &lt;&lt; name &lt;&lt; <span class="string">&quot;:(&quot;</span> &lt;&lt; s.first &lt;&lt; <span class="string">&quot;,&quot;</span> &lt;&lt; s.second &lt;&lt;<span class="string">&quot;)&quot;</span> &lt;&lt; endl;</span><br><span class="line">	&#125;</span><br><span class="line"><span class="keyword">protected</span>:</span><br><span class="line">	string name;</span><br><span class="line">	pair&lt;<span class="type">int</span>, <span class="type">int</span>&gt; s;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">//备忘录类</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Memento</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="built_in">Memento</span>(string name, pair&lt;<span class="type">int</span>, <span class="type">int</span>&gt; s) :<span class="built_in">name</span>(name), <span class="built_in">s</span>(s) &#123;&#125;</span><br><span class="line">	<span class="comment">//保存</span></span><br><span class="line">	<span class="function">chess* <span class="title">saves</span><span class="params">()</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">chess</span>(name, s);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">//回退</span></span><br><span class="line">	<span class="function"><span class="type">void</span> <span class="title">backspacing</span><span class="params">(chess* t)</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		name = t-&gt;<span class="built_in">getname</span>();</span><br><span class="line">		s = t-&gt;<span class="built_in">getss</span>();</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="type">void</span> <span class="title">SetChess</span><span class="params">(string name, pair&lt;<span class="type">int</span>, <span class="type">int</span>&gt; pos)</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		<span class="keyword">this</span>-&gt;name = name;</span><br><span class="line">		<span class="keyword">this</span>-&gt;s = pos;</span><br><span class="line">	&#125;</span><br><span class="line"><span class="keyword">protected</span>:</span><br><span class="line">	string name;</span><br><span class="line">	pair&lt;<span class="type">int</span>, <span class="type">int</span>&gt; s;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">//管理类</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Caretaker</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="comment">//存档</span></span><br><span class="line">	<span class="function"><span class="type">void</span>  <span class="title">AddMento</span><span class="params">(chess* s)</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		e.<span class="built_in">push</span>(s);</span><br><span class="line">		s-&gt;<span class="built_in">show</span>();</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">//获取上一步</span></span><br><span class="line">	<span class="function">chess* <span class="title">GetMemento</span><span class="params">()</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		e.<span class="built_in">pop</span>();</span><br><span class="line">		<span class="keyword">return</span> e.<span class="built_in">top</span>();</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="type">void</span> <span class="title">show</span><span class="params">()</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		e.<span class="built_in">top</span>()-&gt;<span class="built_in">show</span>();</span><br><span class="line">	&#125;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">	stack&lt;chess*&gt; e;</span><br><span class="line">	<span class="type">int</span> stop=<span class="number">0</span>;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	Memento* e = <span class="keyword">new</span> <span class="built_in">Memento</span>(<span class="string">&quot;车&quot;</span>, &#123; <span class="number">4</span>,<span class="number">3</span> &#125;);</span><br><span class="line">	Caretaker* s = <span class="keyword">new</span> Caretaker;</span><br><span class="line">	s-&gt;<span class="built_in">AddMento</span>(e-&gt;<span class="built_in">saves</span>());</span><br><span class="line">	e-&gt;<span class="built_in">SetChess</span>(<span class="string">&quot;马&quot;</span>, &#123; <span class="number">8</span>,<span class="number">8</span> &#125;);</span><br><span class="line">	s-&gt;<span class="built_in">AddMento</span>(e-&gt;<span class="built_in">saves</span>());</span><br><span class="line">	e-&gt;<span class="built_in">SetChess</span>(<span class="string">&quot;炮&quot;</span>, &#123; <span class="number">6</span>,<span class="number">6</span> &#125;);</span><br><span class="line">	s-&gt;<span class="built_in">AddMento</span>(e-&gt;<span class="built_in">saves</span>());</span><br><span class="line">	cout &lt;&lt; endl;</span><br><span class="line">	s-&gt;<span class="built_in">show</span>();</span><br><span class="line">	s-&gt;<span class="built_in">GetMemento</span>();</span><br><span class="line">	cout &lt;&lt; endl;</span><br><span class="line">	s-&gt;<span class="built_in">show</span>();</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="状态模式"><a href="#状态模式" class="headerlink" title="状态模式"></a>状态模式</h2><h3 id="什么是状态模式"><a href="#什么是状态模式" class="headerlink" title="什么是状态模式"></a>什么是状态模式</h3><p>状态模式是一种行为设计模式， 让你能在一个对象的内部状态变化时改变其行为， 使其看上去就像改变了自身所属的类一样</p>
<h3 id="为什么使用状态模式"><a href="#为什么使用状态模式" class="headerlink" title="为什么使用状态模式"></a>为什么使用状态模式</h3><p>模式建议你将所有特定于状态的代码抽取到一组独立的类中。 这样一来， 你可以在独立于其他状态的情况下添加新状态或修改已有状态， 从而减少维护成本;状态模式让你能够生成状态类层次结构， 通过将公用代码抽取到抽象基类中来减少重复</p>
<h3 id="状态模式实现步骤"><a href="#状态模式实现步骤" class="headerlink" title="状态模式实现步骤"></a>状态模式实现步骤</h3><p>1.提供一个上下文环境类:抽象一个客户程序需要的接口，将与状态相关的操作委托给当前的具体状态类对象来处理</p>
<p>2.提供一个抽象给状态类：定义一个接口以封装使用上下文环境的的一个特定状态相关的行为</p>
<p>3.提供一个具体状态类:实现抽象状态定义的接口</p>
<h3 id="状态模式优缺点"><a href="#状态模式优缺点" class="headerlink" title="状态模式优缺点"></a>状态模式优缺点</h3><p><strong>优点</strong></p>
<ul>
<li>单一职责原则: 将与特定状态相关的代码放在单独的类中</li>
<li>开闭原则: 无需修改已有状态类和上下文就能引入新状态</li>
<li>通过消除臃肿的状态机条件语句简化上下文代码</li>
</ul>
<p><strong>缺点</strong></p>
<ul>
<li>如果状态机只有很少的几个状态， 或者很少发生改变， 那么应用该模式可能会显得小题大作</li>
</ul>
<h3 id="状态模式实现代码"><a href="#状态模式实现代码" class="headerlink" title="状态模式实现代码"></a>状态模式实现代码</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Context</span>;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">AbstractState</span> </span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">Handle</span><span class="params">(Context* p)</span> </span>= <span class="number">0</span>;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ConcreteStateA</span> :<span class="keyword">public</span> AbstractState </span><br><span class="line">&#123;</span><br><span class="line">	<span class="function"><span class="type">void</span> <span class="title">Handle</span><span class="params">(Context* p)</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		cout &lt;&lt; <span class="string">&quot;A.....&quot;</span> &lt;&lt; endl;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ConcreteStateB</span> :<span class="keyword">public</span> AbstractState</span><br><span class="line">&#123;</span><br><span class="line">	<span class="function"><span class="type">void</span> <span class="title">Handle</span><span class="params">(Context* p)</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		cout &lt;&lt; <span class="string">&quot;B.....&quot;</span> &lt;&lt; endl;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Context</span> </span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="built_in">Context</span>(AbstractState* pstate) :<span class="built_in">pstate</span>(pstate) &#123;&#125;</span><br><span class="line">	<span class="function"><span class="type">void</span>  <span class="title">Requst</span><span class="params">()</span> </span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (pstate) </span><br><span class="line">		&#123;</span><br><span class="line">			pstate-&gt;<span class="built_in">Handle</span>(<span class="keyword">this</span>);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="type">void</span> <span class="title">ChangeState</span><span class="params">(AbstractState* pstate)</span> </span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		<span class="keyword">this</span>-&gt;pstate = pstate;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">	AbstractState* pstate;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	AbstractState* pA = <span class="keyword">new</span> ConcreteStateA;</span><br><span class="line">	AbstractState* pB = <span class="keyword">new</span> ConcreteStateB;</span><br><span class="line">	Context* pC = <span class="keyword">new</span> <span class="built_in">Context</span>(pA);</span><br><span class="line">	pC-&gt;<span class="built_in">Requst</span>();</span><br><span class="line">	pC-&gt;<span class="built_in">ChangeState</span>(pB);</span><br><span class="line">	pC-&gt;<span class="built_in">Requst</span>();</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="解释器模式"><a href="#解释器模式" class="headerlink" title="解释器模式"></a>解释器模式</h2><h3 id="什么是解释器模式"><a href="#什么是解释器模式" class="headerlink" title="什么是解释器模式"></a>什么是解释器模式</h3><p>解释器模式是属于行为型模式，它提供了评估语言的语法或表达式的方式，这种模式实现了一个表达式接口，该接口解释一个特定的上下文。这种模式被用在 SQL 解析、符号处理引擎等。</p>
<h3 id="为什么使用解释器模式"><a href="#为什么使用解释器模式" class="headerlink" title="为什么使用解释器模式"></a>为什么使用解释器模式</h3><p>在软件开发中，会遇到有些问题多次重复出现，而且有一定的相似性和规律性。如果将它们归纳成一种简单的语言，那么这些问题实例将是该语言的一些句子，这样就可以用“编译原理”中的解释器模式来实现了。虽然使用解释器模式的实例不是很多，但对于满足以上特点，且对运行效率要求不是很高的应用实例，如果用解释器模式来实现，其效果是非常好的</p>
<h3 id="解释器模式实现步骤"><a href="#解释器模式实现步骤" class="headerlink" title="解释器模式实现步骤"></a>解释器模式实现步骤</h3><p>1.提供一个解释器上下文环境类：用来存储解释器的上下文环境，比如需要解释的文法，一般用来传递被所有解释器共享的数据</p>
<p>2.提供一个解释器抽象类:定义解释器的接口，约定解释器的解释操作</p>
<p>3.提供一个终结符解释器的具体实现类:用来实现语法规则中和终结符相关的操作</p>
<p>4.提供一个非终结符解释器：用来实现语法规则中非终结符相关的操作，通常一个解释器对应一个语法规则，可以包含其他解释器</p>
<h3 id="解释器模式优缺点"><a href="#解释器模式优缺点" class="headerlink" title="解释器模式优缺点"></a>解释器模式优缺点</h3><p><strong>优点</strong></p>
<ul>
<li>扩展性好。由于在解释器模式中使用类来表示语言的文法规则，因此可以通过继承等机制来改变或扩展文法。</li>
<li>容易实现。在语法树中的每个表达式节点类都是相似的，所以实现其文法较为容易</li>
</ul>
<p><strong>缺点</strong></p>
<ul>
<li>执行效率较低。解释器模式中通常使用大量的循环和递归调用，句子较复杂时，运行速度很慢，且代码的调试过程也比较麻烦</li>
<li>会引起类膨胀。解释器模式中的每条规则至少需要定义一个类，文法规则很多时，类的个数将急剧增加，导致系统难以管理与维护</li>
</ul>
<h3 id="解释器模式实现代码"><a href="#解释器模式实现代码" class="headerlink" title="解释器模式实现代码"></a>解释器模式实现代码</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//a+b-c 表达式求值运算</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;typeinfo&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="comment">//抽象表达式</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Expression</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="keyword">virtual</span> <span class="type">int</span> <span class="title">Interpreter</span><span class="params">(map&lt;string, <span class="type">int</span>&gt;&amp; var)</span> </span>= <span class="number">0</span>;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">//变量解析器</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">VarExpression</span> :<span class="keyword">public</span> Expression </span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="built_in">VarExpression</span>(string key) </span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">this</span>-&gt;key = key;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="type">int</span> <span class="title">Interpreter</span><span class="params">(map&lt;string, <span class="type">int</span>&gt;&amp; var)</span> </span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		<span class="keyword">return</span> var[key];</span><br><span class="line">	&#125;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">	string key;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">//运算符解析器</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">SymbolExpression</span> :<span class="keyword">public</span> Expression </span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">protected</span>:</span><br><span class="line">	Expression* left;</span><br><span class="line">	Expression* right;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="built_in">SymbolExpression</span>(Expression* left, Expression* right) :<span class="built_in">left</span>(left), <span class="built_in">right</span>(right) &#123;&#125;</span><br><span class="line">	<span class="function">Expression* <span class="title">GetLeft</span><span class="params">()</span> </span>&#123; <span class="keyword">return</span> left; &#125;</span><br><span class="line">	<span class="function">Expression* <span class="title">GetRight</span><span class="params">()</span> </span>&#123; <span class="keyword">return</span> right; &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">//加法解析器</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">AddExpresion</span> :<span class="keyword">public</span> SymbolExpression </span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="built_in">AddExpresion</span>(Expression* left, Expression* right) :<span class="built_in">SymbolExpression</span>(left, right) &#123;&#125;</span><br><span class="line">	<span class="function"><span class="type">int</span> <span class="title">Interpreter</span><span class="params">(map&lt;string, <span class="type">int</span>&gt;&amp; var)</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		<span class="keyword">return</span> left-&gt;<span class="built_in">Interpreter</span>(var) + right-&gt;<span class="built_in">Interpreter</span>(var);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">//减法解析器</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">SubExpresion</span> :<span class="keyword">public</span> SymbolExpression</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="built_in">SubExpresion</span>(Expression* left, Expression* right) :<span class="built_in">SymbolExpression</span>(left, right) &#123;&#125;</span><br><span class="line">	<span class="function"><span class="type">int</span> <span class="title">Interpreter</span><span class="params">(map&lt;string, <span class="type">int</span>&gt;&amp; var)</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		<span class="keyword">return</span> left-&gt;<span class="built_in">Interpreter</span>(var) - right-&gt;<span class="built_in">Interpreter</span>(var);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">//解析器封装类   封装调用接口</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Calculator</span> </span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">	Expression* expression;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="comment">//解析表达式，构建语法树  a+b-c</span></span><br><span class="line">	<span class="built_in">Calculator</span>(string expStr)</span><br><span class="line">	&#123;</span><br><span class="line">		expression = <span class="literal">NULL</span>;</span><br><span class="line">		stack&lt;Expression*&gt; stkExp;</span><br><span class="line">		Expression* left = <span class="literal">NULL</span>;</span><br><span class="line">		Expression* right = <span class="literal">NULL</span>;</span><br><span class="line">		<span class="keyword">for</span> (<span class="type">int</span> i=<span class="number">0</span>;i&lt;expStr.<span class="built_in">length</span>();i++) </span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">switch</span> (expStr[i]) </span><br><span class="line">			&#123;</span><br><span class="line">			<span class="keyword">case</span> <span class="string">&#x27;+&#x27;</span>:</span><br><span class="line">				<span class="comment">//先从栈中取出左操作数</span></span><br><span class="line">				left = stkExp.<span class="built_in">top</span>();</span><br><span class="line">				stkExp.<span class="built_in">pop</span>();</span><br><span class="line"></span><br><span class="line">				<span class="comment">//从表达式中取出+号后面的右操作数，并生成终结符解析对象</span></span><br><span class="line">				right = <span class="keyword">new</span> <span class="built_in">VarExpression</span>(expStr.<span class="built_in">substr</span>(++i, <span class="number">1</span>));</span><br><span class="line"></span><br><span class="line">				<span class="comment">//将左右操作数相加，并把结果放入栈中</span></span><br><span class="line">				stkExp.<span class="built_in">push</span>(<span class="keyword">new</span> <span class="built_in">AddExpresion</span>(left, right));</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			<span class="keyword">case</span> <span class="string">&#x27;-&#x27;</span>:</span><br><span class="line">				<span class="comment">//先从栈中取出左操作数</span></span><br><span class="line">				left = stkExp.<span class="built_in">top</span>();</span><br><span class="line">				stkExp.<span class="built_in">pop</span>();</span><br><span class="line"></span><br><span class="line">				<span class="comment">//从表达式中取出+号后面的右操作数，并生成终结符解析对象</span></span><br><span class="line">				right = <span class="keyword">new</span> <span class="built_in">VarExpression</span>(expStr.<span class="built_in">substr</span>(++i, <span class="number">1</span>));</span><br><span class="line"></span><br><span class="line">				<span class="comment">//将左右操作数相加，并把结果放入栈中</span></span><br><span class="line">				stkExp.<span class="built_in">push</span>(<span class="keyword">new</span> <span class="built_in">SubExpresion</span>(left, right));</span><br><span class="line"></span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			<span class="keyword">default</span>:</span><br><span class="line">				stkExp.<span class="built_in">push</span>(<span class="keyword">new</span> <span class="built_in">VarExpression</span>(expStr.<span class="built_in">substr</span>(i, <span class="number">1</span>)));</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="comment">//栈中保存的就是最终语法树的根结点</span></span><br><span class="line">		<span class="comment">//本例为SubExpression对象</span></span><br><span class="line">		<span class="keyword">if</span> (!stkExp.<span class="built_in">empty</span>()) </span><br><span class="line">		&#123;</span><br><span class="line">			expression = stkExp.<span class="built_in">top</span>();</span><br><span class="line">			stkExp.<span class="built_in">pop</span>();</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="type">int</span> <span class="title">Run</span><span class="params">(map&lt;string, <span class="type">int</span>&gt;&amp; var)</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		<span class="keyword">return</span> (expression == <span class="literal">NULL</span>) ? <span class="number">0</span> : expression-&gt;<span class="built_in">Interpreter</span>(var);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	string expstr = <span class="string">&quot;a+b-c&quot;</span>;</span><br><span class="line">	map&lt;string, <span class="type">int</span>&gt; var;</span><br><span class="line">	var[<span class="string">&quot;a&quot;</span>] = <span class="number">300</span>;</span><br><span class="line">	var[<span class="string">&quot;b&quot;</span>] = <span class="number">20</span>;</span><br><span class="line">	var[<span class="string">&quot;c&quot;</span>] = <span class="number">30</span>;</span><br><span class="line">	<span class="function">Calculator <span class="title">cal</span><span class="params">(expstr)</span></span>;</span><br><span class="line">	cout &lt;&lt; cal.<span class="built_in">Run</span>(var) &lt;&lt; endl;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="迭代器模式"><a href="#迭代器模式" class="headerlink" title="迭代器模式"></a>迭代器模式</h2><h3 id="什么是迭代器模式"><a href="#什么是迭代器模式" class="headerlink" title="什么是迭代器模式"></a>什么是迭代器模式</h3><p>迭代器模式是一种行为设计模式， 让你能在不暴露集合底层表现形式 （C++STL中的迭代器） 的情况下遍历集合中所有的元素</p>
<h3 id="为什么使用迭代器模式"><a href="#为什么使用迭代器模式" class="headerlink" title="为什么使用迭代器模式"></a>为什么使用迭代器模式</h3><p>迭代器封装了与复杂数据结构进行交互的细节， 为客户端提供多个访问集合元素的简单方法。 这种方式不仅对客户端来说非常方便， 而且能避免客户端在直接与集合交互时执行错误或有害的操作， 从而起到保护集合的作用。</p>
<p>重要迭代算法的代码往往体积非常庞大。 当这些代码被放置在程序业务逻辑中时， 它会让原始代码的职责模糊不清， 降低其可维护性。 因此， 将遍历代码移到特定的迭代器中可使程序代码更加精炼和简洁。</p>
<h3 id="迭代器模式实现步骤"><a href="#迭代器模式实现步骤" class="headerlink" title="迭代器模式实现步骤"></a>迭代器模式实现步骤</h3><p>1.提供一个迭代器类抽象类:抽象实现迭代功能的最小定义方法集</p>
<p>2.提供一个迭代器类:定义实现迭代功能的最小定义方法集</p>
<p>3.提供一个容器抽象类:抽象基本功能以及提供类似迭代器类的方法</p>
<p>4.提供一个容器具体类:定义基本功能以及提供类似迭代器类的方法</p>
<h3 id="迭代器模式优缺点"><a href="#迭代器模式优缺点" class="headerlink" title="迭代器模式优缺点"></a>迭代器模式优缺点</h3><p><strong>优点</strong></p>
<ul>
<li>单一职责原则： 通过将体积庞大的遍历算法代码抽取为独立的类， 你可对客户端代码和集合进行整理</li>
<li>开闭原则： 你可实现新型的集合和迭代器并将其传递给现有代码， 无需修改现有代码</li>
<li>你可以并行遍历同一集合， 因为每个迭代器对象都包含其自身的遍历状态</li>
</ul>
<p><strong>缺点</strong></p>
<ul>
<li>如果你的程序只与简单的集合进行交互， 应用该模式可能会矫枉过正</li>
<li>对于某些特殊集合， 使用迭代器可能比直接遍历的效率低</li>
</ul>
<h3 id="迭代器模式实现代码"><a href="#迭代器模式实现代码" class="headerlink" title="迭代器模式实现代码"></a>迭代器模式实现代码</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//迭代器模式</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line">using namespace <span class="built_in">std</span>;</span><br><span class="line">template &lt;typename T,typename U&gt;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Iterator</span> </span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">public:</span><br><span class="line">	<span class="keyword">typedef</span> typename <span class="built_in">vector</span>&lt;T&gt;::iterator iter_type;</span><br><span class="line">	Iterator(U* data, <span class="type">bool</span> reverse = <span class="literal">false</span>) :m_data(data)</span><br><span class="line">	&#123;</span><br><span class="line">		iter = data-&gt;m_data.begin();</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="type">void</span> <span class="title function_">Begin</span><span class="params">()</span> </span><br><span class="line">	&#123;</span><br><span class="line">		iter = m_data-&gt;m_data.begin();</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="type">void</span> <span class="title function_">Next</span><span class="params">()</span> </span><br><span class="line">	&#123;</span><br><span class="line">		iter++;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="type">bool</span> <span class="title function_">End</span><span class="params">()</span> </span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">return</span> (iter == m_data-&gt;m_data.end());</span><br><span class="line">	&#125;</span><br><span class="line">	iter_type <span class="title function_">Current</span><span class="params">()</span> </span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">return</span> iter;</span><br><span class="line">	&#125;</span><br><span class="line">private:</span><br><span class="line">	U* m_data;</span><br><span class="line">	iter_type iter;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">template &lt;<span class="class"><span class="keyword">class</span> <span class="title">T</span>&gt;</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Container</span> </span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">	friend <span class="class"><span class="keyword">class</span> <span class="title">Iterator</span>&lt;</span>T, Container&gt;;</span><br><span class="line">public:</span><br><span class="line">	<span class="type">void</span> <span class="title function_">Add</span><span class="params">(T data)</span> </span><br><span class="line">	&#123;</span><br><span class="line">		m_data.push_back(data);</span><br><span class="line">	&#125;</span><br><span class="line">	Iterator&lt;T, Container&gt;* <span class="title function_">CreateIterator</span><span class="params">()</span> </span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">return</span> new Iterator&lt;T, Container&gt;(this);</span><br><span class="line">	&#125;</span><br><span class="line">protected:</span><br><span class="line">	<span class="built_in">vector</span>&lt;T&gt; m_data;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Data</span> </span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">public:</span><br><span class="line">	Data(<span class="type">int</span> data = <span class="number">0</span>) :m_data(data) &#123;&#125;</span><br><span class="line">	<span class="type">void</span> <span class="title function_">SetData</span><span class="params">(<span class="type">int</span> data)</span> </span><br><span class="line">	&#123;</span><br><span class="line">		m_data = data;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="type">int</span> <span class="title function_">data</span><span class="params">()</span> </span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">return</span> m_data;</span><br><span class="line">	&#125;</span><br><span class="line">private:</span><br><span class="line">	<span class="type">int</span> m_data;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span> </span><br><span class="line">&#123;</span><br><span class="line">	Container&lt;<span class="type">int</span>&gt; test;</span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) </span><br><span class="line">	&#123;</span><br><span class="line">		test.Add(i);</span><br><span class="line">	&#125;</span><br><span class="line">	Iterator&lt;<span class="type">int</span>, Container&lt;<span class="type">int</span>&gt;&gt;* iter = test.CreateIterator();</span><br><span class="line">	<span class="keyword">for</span> (iter-&gt;Begin(); !iter-&gt;End(); iter-&gt;Next()) </span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">cout</span> &lt;&lt; *iter-&gt;Current() &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">	Container&lt;Data&gt; test2;</span><br><span class="line">	test2.Add(Data(<span class="number">100</span>));</span><br><span class="line">	test2.Add(Data(<span class="number">200</span>));</span><br><span class="line">	test2.Add(Data(<span class="number">300</span>));</span><br><span class="line">	Iterator&lt;Data, Container&lt;Data&gt;&gt;* iter2 = test2.CreateIterator();</span><br><span class="line">	<span class="keyword">for</span> (iter2-&gt;Begin(); !iter2-&gt;End(); iter2-&gt;Next())</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">cout</span> &lt;&lt; iter2-&gt;Current()-&gt;data() &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="设计模式总结"><a href="#设计模式总结" class="headerlink" title="设计模式总结"></a>设计模式总结</h2><h3 id="创建型的模式总结"><a href="#创建型的模式总结" class="headerlink" title="创建型的模式总结"></a>创建型的模式总结</h3><ul>
<li>工厂模式模式：单个类的对象创建工作</li>
<li>抽象工厂模式：多个类的对象创建工作</li>
<li>单例模式:类的全局对象创建工作</li>
<li>建造者模式：复杂类的对象创建工作</li>
<li>原型模式：自身类的克隆工作</li>
</ul>
<h3 id="结构体型模式总结"><a href="#结构体型模式总结" class="headerlink" title="结构体型模式总结"></a>结构体型模式总结</h3><ul>
<li>代理模式：提供第三方进行控制访问对象</li>
<li>装饰者模式：为对象添加新功能</li>
<li>适配器模式：不兼容的类进行融合过程</li>
<li>桥接模式：分离变化部分成为独立的一部分</li>
<li>组合模式：整体和局部进行递归组合</li>
<li>外观模式: 表面工程(对外提供统一接口访问子系统)</li>
<li>享元模式:使用对象池减少重复对象的创建</li>
</ul>
<h3 id="行为型模式总结"><a href="#行为型模式总结" class="headerlink" title="行为型模式总结"></a>行为型模式总结</h3><ul>
<li>模板方法模式：通过定义一套流程模板进行流程化处理</li>
<li>命令模式：请求成为命令，记录下</li>
<li>责任链模式：踢皮球(对象连接成为链，通过链进行传递请求)</li>
<li>策略模式：封装不同算法，算法之间可以互相转换</li>
<li>中介者模式：租房中介(中介者类做转发操作)</li>
<li>观察者模式：交通警察指挥路口(状态发生改变通知观察者)</li>
<li>备忘录模式：保存对象状态，可以进行恢复</li>
<li>访问者模式：稳定的数据结构，定义新的操作行为</li>
<li>状态模式：根据不同的状态做不同的行为</li>
<li>解释器模式：给定规则，定义语法，定义解释器，做句子分析(摩斯码解析过程)</li>
<li>迭代器模式：提供一个中方法顺序的访问复合对象的各个元素</li>
</ul>
<h3 id="关于设计模式的建议"><a href="#关于设计模式的建议" class="headerlink" title="关于设计模式的建议"></a>关于设计模式的建议</h3><ul>
<li>不存在完美的设计模式，只存在最适合的设计模式</li>
<li>原有的设计模式并不重要，设计原则才是最重要</li>
<li>有意无意注意模式问题，通过原则写出自己的设计方法才是最重要的</li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2025/04/01/c++17%E7%89%88%E6%9C%AC%E6%9B%B4%E6%96%B0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="王湘宇">
      <meta itemprop="description" content="故事开始于2025/2/24 15：47">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="王湘宇的小屋">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2025/04/01/c++17%E7%89%88%E6%9C%AC%E6%9B%B4%E6%96%B0/" class="post-title-link" itemprop="url">未命名</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2025-04-01 10:43:37" itemprop="dateCreated datePublished" datetime="2025-04-01T10:43:37+08:00">2025-04-01</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-02-25 13:14:29" itemprop="dateModified" datetime="2025-02-25T13:14:29+08:00">2025-02-25</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="c-17新特性"><a href="#c-17新特性" class="headerlink" title="c++17新特性"></a>c++17新特性</h1><p>C++17 是小版本 C++14 之后的一个大版本，它提供了新的语言和库功能特性。该标准于 2017 年 12 月发布。</p>
<h2 id="移除或弃用的特性"><a href="#移除或弃用的特性" class="headerlink" title="移除或弃用的特性"></a>移除或弃用的特性</h2><h3 id="已移除特性"><a href="#已移除特性" class="headerlink" title="已移除特性"></a>已移除特性</h3><ol>
<li><a target="_blank" rel="noopener" href="https://zh.cppreference.com/w/cpp/memory/auto_ptr">std::auto_ptr</a></li>
<li><a target="_blank" rel="noopener" href="https://zh.cppreference.com/w/cpp/utility/functional#.E6.97.A7.E5.BC.8F.E7.BB.91.E5.AE.9A.E5.99.A8.E4.B8.8E.E9.80.82.E9.85.8D.E5.99.A8">已弃用的函数对象</a></li>
<li><a target="_blank" rel="noopener" href="https://zh.cppreference.com/w/cpp/algorithm/random_shuffle">std::random_shuffle</a></li>
<li><a target="_blank" rel="noopener" href="https://zh.cppreference.com/w/cpp/error/unexpected">std::unexpected</a></li>
<li><a target="_blank" rel="noopener" href="https://zh.cppreference.com/w/cpp/io/ios_base#.E5.BC.83.E7.94.A8.E7.9A.84.E6.88.90.E5.91.98.E7.B1.BB.E5.9E.8B">过时的 iostream 别名</a></li>
<li><a target="_blank" rel="noopener" href="https://zh.cppreference.com/w/cpp/language/operator_alternative#.E4.B8.89.E6.A0.87.E7.AC.A6_.28C.2B.2B17_.E4.B8.AD.E7.A7.BB.E9.99.A4.29">三标符</a></li>
<li><a target="_blank" rel="noopener" href="https://zh.cppreference.com/w/cpp/keyword/register">register 关键字</a></li>
<li><a target="_blank" rel="noopener" href="https://zh.cppreference.com/w/cpp/language/operator_incdec">bool 类型的自增操作</a></li>
<li><a target="_blank" rel="noopener" href="https://zh.cppreference.com/w/cpp/language/except_spec">动态异常说明</a></li>
</ol>
<h3 id="弃用特性"><a href="#弃用特性" class="headerlink" title="弃用特性"></a>弃用特性</h3><ol>
<li><a target="_blank" rel="noopener" href="https://zh.cppreference.com/w/cpp/iterator/iterator">std::iterator</a></li>
<li><a target="_blank" rel="noopener" href="https://zh.cppreference.com/w/cpp/memory/raw_storage_iterator">std::raw_storage_iterator</a></li>
<li><a target="_blank" rel="noopener" href="https://zh.cppreference.com/w/cpp/memory/get_temporary_buffer">std::get_temporary_buffer</a></li>
<li><a target="_blank" rel="noopener" href="https://zh.cppreference.com/w/cpp/types/is_literal_type">std::is_literal_type</a></li>
<li><a target="_blank" rel="noopener" href="https://zh.cppreference.com/w/cpp/types/result_of">std::result_of</a></li>
<li><a target="_blank" rel="noopener" href="https://zh.cppreference.com/w/cpp/header/codecvt">整个 &lt;codecvt&gt; 头文件</a></li>
</ol>
<blockquote>
<p>因为这些特性之前并没有被广泛使用，所以对此没有太多了解。只讲链接进行保存，有需要的可以去查看。</p>
</blockquote>
<h2 id="新的语言特性"><a href="#新的语言特性" class="headerlink" title="新的语言特性"></a>新的语言特性</h2><h3 id="u8-字符字面量"><a href="#u8-字符字面量" class="headerlink" title="u8 字符字面量"></a><a target="_blank" rel="noopener" href="https://zh.cppreference.com/w/cpp/language/character_literal">u8 字符字面量</a></h3><p>语法：<code>u8&#39;c字符 &#39;</code></p>
<p>UTF-8 字符字面量，例如 u8’a’。这种字面量具有 char(C++20 前)char8_t(C++20 起) 类型，且它的值等于c字符的 ISO&#x2F;IEC 10646 码位值，只要码位值能以单个 UTF-8 代码单元表示（即c字符 处于范围 0x0-0x7F（含边界）内）。</p>
<p>u8 字符字面量的类型为 char8_t，它是一个新的字符类型，它的大小和 char 相同，但是它的字符集是 UTF-8 字符集。</p>
<h3 id="将-noexcept-作为类型系统的一部分"><a href="#将-noexcept-作为类型系统的一部分" class="headerlink" title="将 noexcept 作为类型系统的一部分"></a><a target="_blank" rel="noopener" href="https://zh.cppreference.com/w/cpp/language/noexcept_spec">将 noexcept 作为类型系统的一部分</a></h3><p>这个字面量在c++11标准加入，在c++7标准正式成为标准的一部分。作用是在函数声明和定义中使用，用于指定函数是否可以抛出异常。</p>
<h3 id="新的求值顺序规则"><a href="#新的求值顺序规则" class="headerlink" title="新的求值顺序规则"></a><a target="_blank" rel="noopener" href="https://zh.cppreference.com/w/cpp/language/eval_order">新的求值顺序规则</a></h3><p>在C++中，除非有明确的规则定义，否则表达式的任何部分（包括函数参数）的求值顺序是未指定的。这意味着编译器可以自由选择求值顺序，并且可以在不同时间点以不同的顺序进行求值。</p>
<p>在C++17之前，C++标准使用的是序列点的概念来描述何时副作用必须完成以及何时可以安全地访问一个对象的值而不导致未定义行为。例如，在同一内存位置上的两次副作用之间如果没有适当的序列点，则会导致未定义行为。典型例子包括对同一个变量进行前置或后置自增&#x2F;自减操作而没有正确地分隔这些操作的情况。</p>
<p>C++17引入了一些重要的变化和新增规则来改进求值顺序的规定，主要包括：</p>
<p>明确了某些情况下的求值顺序：C++17明确规定了一些过去求值顺序不明确的情况。例如，在调用函数时，所有实参表达式的求值顺序现在是未指明的而非未定义的。这允许编译器优化代码但避免了完全未定义的行为。<br>避免未定义行为：对于一些特定的表达式，如i &#x3D; ++i + i++;，在C++17之前会导致未定义行为，因为它们在同一内存位置上进行了无序的读写操作。虽然这种表达式仍然被认为是不好的编程实践，但在C++17中，其行为被更清晰地定义为未定义行为，而不是依赖于编译器实现的具体细节。<br>具体的表达式示例：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">i = ++i + <span class="number">2</span>; <span class="comment">//在C++17下具有良好的定义。</span></span><br><span class="line">i = i++ + <span class="number">2</span>; <span class="comment">//在C++17前行为是未定义的，但C++17并没有改变这一点。</span></span><br><span class="line"><span class="built_in">f</span>(i = <span class="number">-2</span>, i = <span class="number">-2</span>); 和 <span class="built_in">f</span>(++i, ++i); <span class="comment">//在C++17之前是未定义行为，但在C++17中，这些表达式的求值顺序变为未指明，即允许任意顺序执行，但不会造成未定义行为。</span></span><br></pre></td></tr></table></figure>

<h3 id="lambda-表达式捕获-this"><a href="#lambda-表达式捕获-this" class="headerlink" title="lambda 表达式捕获 *this"></a><a target="_blank" rel="noopener" href="https://zh.cppreference.com/w/cpp/language/lambda#Lambda_.E6.8D.95.E8.8E.B7">lambda 表达式捕获 *this</a></h3><p>在[]可以捕获*this，表示：当前对象的简单的按复制捕获</p>
<blockquote>
<p>与this的区别：</p>
<ol>
<li>捕获this时，this的类型是指针类型，而捕获*this时，this的类型是引用类型。</li>
<li>捕获this时，this指向的是当前对象，而捕获*this时，this指向的是当前对象的副本。</li>
</ol>
</blockquote>
<p>例子：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">S2</span> &#123; <span class="function"><span class="type">void</span> <span class="title">f</span><span class="params">(<span class="type">int</span> i)</span></span>; &#125;;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">S2::f</span><span class="params">(<span class="type">int</span> i)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    [=] &#123;&#125;;        <span class="comment">// OK：默认按复制捕获</span></span><br><span class="line">    [=, &amp;i] &#123;&#125;;    <span class="comment">// OK：按复制捕获，但 i 按引用捕获</span></span><br><span class="line">    [=, *<span class="keyword">this</span>] &#123;&#125;; <span class="comment">// C++17 前：错误：无效语法</span></span><br><span class="line">                   <span class="comment">// C++17 起：OK：按复制捕获外围的 S2</span></span><br><span class="line">    [=, <span class="keyword">this</span>] &#123;&#125;;  <span class="comment">// C++20 前：错误：= 为默认时的 this</span></span><br><span class="line">                   <span class="comment">// C++20 起：OK：同 [=]</span></span><br><span class="line">    [i, i] &#123;&#125;;        <span class="comment">// 错误：i 重复</span></span><br><span class="line">    [<span class="keyword">this</span>, *<span class="keyword">this</span>] &#123;&#125;; <span class="comment">// 错误：&quot;this&quot; 重复（C++17）</span></span><br><span class="line">    [i] (<span class="type">int</span> i) &#123;&#125;;   <span class="comment">// 错误：形参和捕获的名字相同</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="constexpr"><a href="#constexpr" class="headerlink" title="constexpr"></a>constexpr</h3><h4 id="编译期的-constexpr-if-语句"><a href="#编译期的-constexpr-if-语句" class="headerlink" title="编译期的 constexpr if 语句"></a><a target="_blank" rel="noopener" href="https://zh.cppreference.com/w/cpp/language/if">编译期的 constexpr if 语句</a></h4><p>if语句：<br>属性 (可选) if constexpr(可选) ( 初始化语句 (可选) 条件 ) true分支语句 else false分支语句</p>
<p>参数介绍：<br>属性-(C++11 起) 任意数量的属性<br>constexpr-(C++17 起) 出现时，该语句是 constexpr if 语句<br>初始化语句-(C++17 起) 下列之一：</p>
<ul>
<li>表达式语句（可以是空语句 ;）</li>
<li>简单声明，典型的是带初始化器的变量声明，但它可以声明任意多个变量，或是一条结构化绑定声明</li>
<li>别名声明(C++23 起)</li>
</ul>
<blockquote>
<p>注意，任何初始化语句都应以分号 ; 结束。这是它常被非正式地描述成后随分号的表达式或声明的原因。</p>
</blockquote>
<p>条件-条件<br>true分支语句-任意当条件求值为 true 时会执行的语句<br>false分支语句-当条件求值为 false 时会执行的语句<br>复合语句-当此 if 语句在明显常量求值语境下求值时会执行的复合语句（consteval 前附 ! 的情况下条件变成“不在这种语境下求值”）<br>语句-当此 if 语句不在明显常量求值语境下求值时会执行的语句（consteval 未前附 ! 的情况下条件变成“在这种语境下求值”）</p>
<p>以 if constexpr 开始的语句被称为 constexpr if 语句。constexpr if 语句的所有子语句都是有控制流限制的语句。</p>
<p>在 constexpr if 语句中，条件的值必须是可按语境转换到 bool 类型的经转换常量表达式(C++23 前)按语境转换到 bool 的表达式，其中转换为常量表达式(C++23 起)。</p>
<p>如果条件的值是 true，那么舍弃 false分支语句（如果存在），否则舍弃 true分支语句。</p>
<p><strong>简单来说：<br>constexpr if（自C++17起）：这种形式的 if 语句允许编译时分支选择，对于模板编程特别有用。在 constexpr if 中，根据条件表达式的值，编译器可以选择编译或忽略特定的分支。</strong></p>
<blockquote>
<p>但是if constexpr 不是 #if 预处理指令的替代品。</p>
</blockquote>
<h4 id="constexpr-的-lambda-表达式"><a href="#constexpr-的-lambda-表达式" class="headerlink" title="constexpr 的 lambda 表达式"></a><a target="_blank" rel="noopener" href="https://zh.cppreference.com/w/cpp/language/lambda">constexpr 的 lambda 表达式</a></h4><p>constexpr lambda：从C++17开始，lambda表达式可以被声明为constexpr，这意味着如果lambda满足成为constexpr函数的所有要求，它就可以在编译时常量表达式中使用。这使得lambda表达式可以在更多的上下文中使用，比如作为非类型的模板参数。 示例：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">auto</span> getId = [](<span class="keyword">auto</span> x) <span class="keyword">constexpr</span> &#123; <span class="keyword">return</span> x.id; &#125;;</span><br></pre></td></tr></table></figure>

<p>其他有关lambda的特性：</p>
<p>Lambda捕获表达式中的初始化<br>捕获列表中的初始化器：C++17允许在lambda表达式的捕获列表中直接初始化变量。这对于复制或移动捕获特别有用，并且可以简化代码逻辑。 示例：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> x = <span class="number">4</span>;</span><br><span class="line"><span class="keyword">auto</span> f = [x = std::<span class="built_in">move</span>(x)]() &#123; <span class="keyword">return</span> x; &#125;; <span class="comment">// 使用std::move来捕获x</span></span><br></pre></td></tr></table></figure>

<h3 id="变量"><a href="#变量" class="headerlink" title="变量"></a>变量</h3><h4 id="inline-变量"><a href="#inline-变量" class="headerlink" title="inline 变量"></a><a target="_blank" rel="noopener" href="https://zh.cppreference.com/w/cpp/language/inline">inline 变量</a></h4><p>在此之前，inline主要用于函数和成员函数，允许在多个翻译单元中提供函数定义而不导致链接错误。自C++17起，标准引入了对inline变量的支持，这是C++17相对于之前版本的一个重要更新。</p>
<p>inline变量（C++17）<br>定义：从C++17开始，变量可以被声明为inline。这使得可以在多个翻译单元（每个源文件为一个翻译单元）中提供相同变量的定义，而不会导致链接时的重复定义错误。这一特性特别适用于常量，因为它允许常量在头文件中定义，并且该头文件可以被多个源文件包含而不会引起冲突。<br>使用场景：<br>当你需要在多个源文件之间共享一个常量或变量时，inline变量是一个理想的解决方案。<br>对于模板编程也非常有用，因为现在你可以定义内联静态数据成员而不需要在每个翻译单元中都提供单独的定义。<br>语法示例：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">MyStruct</span> &#123;</span><br><span class="line">    <span class="type">static</span> <span class="keyword">inline</span> <span class="type">const</span> <span class="type">int</span> MAX_LIMIT = <span class="number">100</span>; <span class="comment">// C++17 及之后</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>在这个例子中，MAX_LIMIT被声明为一个inline静态成员变量。这意味着你可以在多个源文件中包含这个头文件而不会遇到重复定义的问题。</p>
<p>但是这个特性也有一些问题，比如编译器是否支持。<br><img src="/image.png" alt="alt text"></p>
<h4 id="结构化绑定"><a href="#结构化绑定" class="headerlink" title="结构化绑定"></a><a target="_blank" rel="noopener" href="https://zh.cppreference.com/w/cpp/language/structured_binding">结构化绑定</a></h4><p>结构化绑定允许更方便地将复合类型的成员解包到独立的变量中。这项功能特别适用于处理tuple、pair、数组以及具有多个成员的结构体或类实例的情况。</p>
<p>语法与参数：</p>
<p>属性 (可选) 声明说明符序列 引用限定符 (可选) [ 绑定标识符列表 ] 初始化器 ;<br>属性-任意数量的属性的序列<br>decl-specifier-seq-包含以下说明符的序列（遵循简单声明的规则）：<br>    constexpr<br>    constinit<br>    (C++26 起)<br>    static<br>    thread_local<br>    const<br>    volatile<br>    auto<br>引用限定符-&amp; 或 &amp;&amp; 之一<br>绑定标识符列表-此声明所引入的各标识符的逗号分隔的列表，每个标识符可以后随一个属性说明符序列(C++26 起)<br>初始化器-初始化器（见下文）</p>
<p>初始化器 必须是下列之一：<br>&#x3D; 表达式<br>{ 表达式 }<br>( 表达式 )<br>表达式-（无括号的逗号表达式以外的）任意表达式</p>
<p>例子：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">auto</span> [name1, name2, ..., nameN] = expression;</span><br><span class="line"></span><br><span class="line"><span class="comment">//解绑std::tuple</span></span><br><span class="line">    <span class="keyword">auto</span> tupleExample = std::<span class="built_in">make_tuple</span>(<span class="number">10</span>, <span class="string">&quot;Hello&quot;</span>, <span class="number">3.14</span>);</span><br><span class="line">    <span class="keyword">auto</span> [num, str, pi] = tupleExample;</span><br><span class="line">    std::cout &lt;&lt; num &lt;&lt; <span class="string">&quot;, &quot;</span> &lt;&lt; str &lt;&lt; <span class="string">&quot;, &quot;</span> &lt;&lt; pi &lt;&lt; std::endl;</span><br><span class="line"></span><br><span class="line"><span class="comment">//解绑数组</span></span><br><span class="line">    <span class="type">int</span> arr[] = &#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>&#125;;</span><br><span class="line">    <span class="keyword">auto</span> [a, b, c] = arr;</span><br><span class="line">    std::cout &lt;&lt; a &lt;&lt; <span class="string">&quot;, &quot;</span> &lt;&lt; b &lt;&lt; <span class="string">&quot;, &quot;</span> &lt;&lt; c &lt;&lt; std::endl;</span><br><span class="line"></span><br><span class="line"><span class="comment">//解绑结构体</span></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Point</span> </span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> x;</span><br><span class="line">    <span class="type">int</span> y;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">    Point p = &#123;<span class="number">10</span>, <span class="number">20</span>&#125;;</span><br><span class="line">    <span class="keyword">auto</span> [x, y] = p;</span><br><span class="line"></span><br><span class="line">    std::cout &lt;&lt; x &lt;&lt; <span class="string">&quot;, &quot;</span> &lt;&lt; y &lt;&lt; std::endl;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//指针绑定：虽然不常见，但你也可以将结果绑定到指针上。</span></span><br><span class="line">    <span class="keyword">auto</span>&amp; [refX, refY] = p; <span class="comment">// 绑定为引用</span></span><br><span class="line">    <span class="keyword">auto</span>* [ptrX, ptrY] = &amp;p; <span class="comment">// 绑定为指针</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//捕获列表中的使用：结构化绑定也可用于lambda表达式的捕获列表中，这使得在lambda内部可以更容易地访问复杂数据结构的成员。</span></span><br><span class="line">    <span class="keyword">auto</span> lambda = [&amp;r = data] &#123; <span class="comment">/* 使用 r */</span> &#125;;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>注意事项<br>引用绑定：你可以通过在声明时添加&amp;或&amp;&amp;来创建对原对象的引用，而不是进行值复制。</p>
</blockquote>
<h4 id="if-和-switch-语句中的初始化器"><a href="#if-和-switch-语句中的初始化器" class="headerlink" title="if 和 switch 语句中的初始化器"></a>if 和 switch 语句中的初始化器</h4><p>在C++17中，if和switch语句得到了增强，允许在其条件表达式中包含初始化器。这项改进使得可以在控制流语句的上下文中声明并初始化变量，同时该变量的作用域被限制在对应的if或switch语句块内。这不仅提升了代码的安全性和可读性，还减少了潜在的错误，比如忘记在不同分支中正确地初始化变量。</p>
<h5 id="if语句中的初始化器"><a href="#if语句中的初始化器" class="headerlink" title="if语句中的初始化器"></a>if语句中的初始化器</h5><p>在C++17之前，如果需要在条件判断之前初始化一个变量，通常需要在if语句外部进行，这样可能会导致这个变量的作用域超出预期，增加了出错的可能性。例如：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">std::string s = <span class="string">&quot;Hello, world!&quot;</span>;</span><br><span class="line">std::string::iterator it = s.<span class="built_in">begin</span>();</span><br><span class="line"><span class="keyword">if</span> (it != s.<span class="built_in">end</span>()) &#123;</span><br><span class="line">    <span class="comment">// 使用 it</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>而在C++17中，可以直接在if语句中进行初始化，并且初始化的变量仅在if及其对应的else块（如果有）中可见：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">std::string s = <span class="string">&quot;Hello, world!&quot;</span>;</span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">auto</span> it = s.<span class="built_in">begin</span>(); it != s.<span class="built_in">end</span>()) &#123;</span><br><span class="line">    <span class="comment">// 使用 it</span></span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="comment">// it 在这里不可见</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// it 在这里也不可见</span></span><br></pre></td></tr></table></figure>

<h5 id="switch语句中的初始化器"><a href="#switch语句中的初始化器" class="headerlink" title="switch语句中的初始化器"></a>switch语句中的初始化器</h5><p>类似地，switch语句也可以包含初始化器，这使得可以在进入不同的case标签前先安全地初始化一些局部变量。这对于需要根据某个值来初始化另一个值的情况特别有用。</p>
<p>例如：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> value = <span class="built_in">getValue</span>();</span><br><span class="line"><span class="type">int</span> divisor = <span class="number">10</span>; <span class="comment">// 假设默认除数是10</span></span><br><span class="line"><span class="keyword">switch</span> (value) &#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">        divisor = <span class="number">5</span>;</span><br><span class="line">        <span class="comment">// ...</span></span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">        divisor = <span class="number">3</span>;</span><br><span class="line">        <span class="comment">// ...</span></span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">default</span>:</span><br><span class="line">        <span class="comment">// 使用 divisor</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>使用C++17的新特性，可以将divisor的初始化直接放在switch语句内部：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="type">int</span> value = <span class="built_in">getValue</span>();</span><br><span class="line"><span class="keyword">switch</span> (<span class="type">int</span> divisor = <span class="number">10</span>; value) &#123; <span class="comment">// 初始化divisor为10</span></span><br><span class="line">    <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">        divisor = <span class="number">5</span>;</span><br><span class="line">        <span class="comment">// ...</span></span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">        divisor = <span class="number">3</span>;</span><br><span class="line">        <span class="comment">// ...</span></span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">default</span>:</span><br><span class="line">        <span class="comment">// 使用divisor</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// divisor 在这里不可见</span></span><br></pre></td></tr></table></figure>

<h4 id="强制的复制消除"><a href="#强制的复制消除" class="headerlink" title="强制的复制消除"></a>强制的复制消除</h4><p>复制消除：当满足特定条件时，可以省略从某个源对象创建具有相同类类型（忽略 cv 限定）的对象的操作，即使选择的构造函数和&#x2F;或析构函数具有副作用。这种对象创建操作的消除被称为复制消除 。</p>
<p>“强制的复制消除”改进了编译器如何处理某些情况下对象的拷贝或移动构造函数的调用。这项特性特别针对的是返回值优化（Return Value Optimization, RVO）和具名返回值优化（Named Return Value Optimization, NRVO），但与之前的版本不同，C++17标准要求编译器必须执行这种优化，而不是像之前那样作为可选的优化。</p>
<p>在C++17之前，RVO和NRVO是编译器可以进行的一种优化，目的是避免不必要的临时对象创建、拷贝或移动操作。例如，在以下情况：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">C</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">C</span>() = <span class="keyword">default</span>;</span><br><span class="line">    <span class="built_in">C</span>(<span class="type">const</span> C&amp;) &#123; std::cout &lt;&lt; <span class="string">&quot;Copy constructor\n&quot;</span>; &#125;</span><br><span class="line">    <span class="built_in">C</span>(C&amp;&amp;) &#123; std::cout &lt;&lt; <span class="string">&quot;Move constructor\n&quot;</span>; &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function">C <span class="title">f</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">C</span>(); <span class="comment">// 希望通过RVO避免调用拷贝/移动构造函数</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    C obj = <span class="built_in">f</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>在早期的C++标准中，虽然很多现代编译器会尝试进行RVO来优化上述代码，使得obj直接在最终位置构造，而不需要额外的拷贝或移动，但这并不是强制性的。因此，是否实际发生拷贝或移动依赖于编译器实现。</p>
<p>C++17引入了一个关键改变：当一个对象被从一个函数返回，并且该对象的类型与返回类型完全匹配时（包括cv限定符），编译器不再需要生成拷贝或移动构造函数的调用。这意味着即使类的拷贝或移动构造函数有副作用（如打印消息），这些副作用也不会发生。这不仅提高了性能，也减少了潜在的错误来源。</p>
<p>考虑上面的例子，在C++17下，即使C类的拷贝和移动构造函数有副作用，编译器也会忽略它们，不会产生任何输出，因为没有实际的拷贝或移动操作被执行。</p>
<p>示例说明</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">Large</span> &#123;</span><br><span class="line">    <span class="built_in">Large</span>() &#123;&#125;</span><br><span class="line">    <span class="built_in">Large</span>(<span class="type">const</span> Large&amp;) &#123; std::cout &lt;&lt; <span class="string">&quot;Copy\n&quot;</span>; &#125;</span><br><span class="line">    <span class="built_in">Large</span>(Large&amp;&amp;) &#123; std::cout &lt;&lt; <span class="string">&quot;Move\n&quot;</span>; &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function">Large <span class="title">create</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Large</span>(); <span class="comment">// 在C++17前可能调用移动构造，在C++17及之后不会有任何构造函数被调用</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    Large l = <span class="built_in">create</span>(); <span class="comment">// 在C++17下，l将直接在最终位置构造，无需拷贝或移动</span></span><br><span class="line">    <span class="comment">// 在C++17中，由于强制的复制消除，create()函数中的Large对象将直接在main函数中变量l的位置上构造，而不经过任何形式的拷贝或移动。</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>优点：</p>
<p>强制的复制消除显著提升了C++程序的效率，减少了不必要的构造函数调用，同时保持了语义的一致性。这对于资源密集型的对象尤其重要，因为它允许更高效地管理资源，减少内存分配和释放的开销。此外，这也意味着程序员可以编写更加直观的返回局部对象的代码，而不用担心性能上的损失。</p>
<h4 id="临时量实质化"><a href="#临时量实质化" class="headerlink" title="临时量实质化"></a><a target="_blank" rel="noopener" href="https://zh.cppreference.com/w/cpp/language/implicit_conversion#.E4.B8.B4.E6.97.B6.E9.87.8F.E5.AE.9E.E8.B4.A8.E5.8C.96">临时量实质化</a></h4><p>临时量实质化（Temporary Materialization）定义了纯右值（prvalue）在什么情况下会被转换为亡值（xvalue），即创建一个临时对象的过程。</p>
<p>临时量实质化的条件:</p>
<ol>
<li>绑定引用到纯右值时：当尝试将一个引用绑定到一个纯右值时，需要先将该纯右值实质化为一个临时对象。</li>
<li>访问类纯右值的数据成员时：例如，S().m，其中S()是一个纯右值，访问其成员变量m会促使该纯右值被实质化为一个临时对象。</li>
<li>调用类纯右值的隐式对象成员函数时：如果对一个纯右值调用了某个成员函数，那么该纯右值首先会被实质化为一个临时对象。</li>
<li>进行数组到指针转换或在数组纯右值上使用下标时：处理数组类型的纯右值时，如需转换为指针或使用下标操作，也会导致临时量实质化。</li>
<li>以花括号初始化器列表初始化 std::initializer_list&lt;T&gt; 类型的对象时：这涉及到使用初始化列表来构造对象的情况。</li>
<li>纯右值作为弃值表达式时：当纯右值被用作不关心结果的表达式时，可能需要实质化。</li>
</ol>
<p>官方案例：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">S</span> &#123; <span class="type">int</span> m; &#125;;</span><br><span class="line"><span class="type">int</span> k = <span class="built_in">S</span>().m; <span class="comment">// C++17 起成员访问期待泛左值；</span></span><br><span class="line">               <span class="comment">// S() 纯右值被转换成亡值</span></span><br></pre></td></tr></table></figure>

<p>在这个例子中，S() 创建了一个类型为 S 的纯右值。由于我们试图访问它的成员变量 m，这要求该纯右值必须首先被实质化为一个临时对象，之后才能对其成员进行访问。因此，在C++17中，S() 会被实质化为一个临时对象，然后通过这个临时对象访问成员 m。</p>
<p>从纯右值直接初始化同类型对象（无论是通过直接初始化还是复制初始化）并不会触发临时量实质化。这是因为C++17引入了“受保证的复制消除”机制，这意味着编译器可以直接使用源纯右值来初始化目标对象，而不需要创建中间的临时对象。这一特性不仅提高了性能，也简化了程序逻辑。</p>
<blockquote>
<p>可以理解为隐式转化的规则之一</p>
</blockquote>
<h3 id="模板"><a href="#模板" class="headerlink" title="模板"></a>模板</h3><h4 id="折叠表达式-…"><a href="#折叠表达式-…" class="headerlink" title="折叠表达式 ( … )"></a><a target="_blank" rel="noopener" href="https://zh.cppreference.com/w/cpp/language/fold">折叠表达式 ( … )</a></h4><p>C++17引入了一个称为折叠表达式的新特性，它极大地简化了对参数包（…）的操作。这个特性主要用于模板编程中，使得对不定数量的模板参数进行操作变得更加简单和直观。</p>
<p>在c++17之前，对参数包进行操作通常需要使用递归或辅助函数或者是使用初始化列表。既麻烦还难看。</p>
<p>c++17之前：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 递归</span></span><br><span class="line"><span class="function"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</span></span><br><span class="line"><span class="function">T <span class="title">sum</span><span class="params">(T n)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> n;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T, <span class="keyword">typename</span>... Args&gt;</span></span><br><span class="line"><span class="function">T <span class="title">sum</span><span class="params">(T first, Args... rest)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> first + <span class="built_in">sum</span>(rest...);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 初始化列表</span></span><br><span class="line"><span class="function"><span class="keyword">template</span>&lt;<span class="keyword">typename</span>... Args&gt;</span></span><br><span class="line"><span class="function"><span class="keyword">auto</span> <span class="title">sum</span><span class="params">(Args... args)</span> -&gt; <span class="title">decltype</span><span class="params">((args + ...))</span> </span>&#123;</span><br><span class="line">    <span class="keyword">decltype</span>((args + ...)) result&#123;&#125;; <span class="comment">// 初始化结果变量为0</span></span><br><span class="line">    (<span class="type">void</span>)std::initializer_list&lt;<span class="type">int</span>&gt;&#123;([&amp;] &#123; result += args; &#125;(), <span class="number">0</span>)...&#125;;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 折叠表达式</span></span><br><span class="line"><span class="function"><span class="keyword">template</span>&lt;<span class="keyword">typename</span>... Args&gt;</span></span><br><span class="line"><span class="function"><span class="keyword">auto</span> <span class="title">sum</span><span class="params">(Args... args)</span> -&gt; <span class="title">decltype</span><span class="params">((args + ...))</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> (args + ...);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>折叠表达式的语法与规则：</p>
<p>语法<br>折叠表达式主要分为四种形式：</p>
<p>一元右折叠 (E 运算符 …)：从左至右依次应用运算符。<br>一元左折叠 (… 运算符 E)：从右至左依次应用运算符。<br>二元右折叠 (E 运算符 … 运算符 I)：从左至右依次应用运算符，并以I作为初始值。<br>二元左折叠 (I 运算符 … 运算符 E)：从右至左依次应用运算符，并以I作为初始值。</p>
<p>其中，运算符可以是C++中的32个二元运算符之一，如+, -, *, &#x2F;, %, ^, &amp;, |, &#x3D;, &lt;, &gt;, &lt;&lt;, &gt;&gt;, +&#x3D;, -&#x3D;, <em>&#x3D;, &#x2F;&#x3D;, %&#x3D;, ^&#x3D;, &amp;&#x3D;, |&#x3D;, &lt;&lt;&#x3D;, &gt;&gt;&#x3D;, &#x3D;&#x3D;, !&#x3D;, &lt;&#x3D;, &gt;&#x3D;, &amp;&amp;, ||, ,, .</em>, -&gt;*等。</p>
<p>特殊情况<br>当一元折叠应用于长度为零的参数包时，仅允许使用特定的运算符：逻辑与（&amp;&amp;），其值为true；逻辑或（||），其值为false；以及逗号运算符（,），其值为void()。</p>
<p>例：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">template</span>&lt;<span class="keyword">typename</span>... Args&gt;</span></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">all</span><span class="params">(Args... args)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> (... &amp;&amp; args); <span class="comment">// 使用一元左折叠</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 如果调用all(true, true, true, false)，那么折叠表达式会展开为((true &amp;&amp; true) &amp;&amp; true) &amp;&amp; false，结果为false。</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 1</span></span><br><span class="line"><span class="function"><span class="keyword">template</span>&lt;<span class="keyword">typename</span>... Args&gt;</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">printer</span><span class="params">(Args&amp;&amp;... args)</span> </span>&#123;</span><br><span class="line">    (std::cout &lt;&lt; ... &lt;&lt; args) &lt;&lt; <span class="string">&#x27;\n&#x27;</span>; <span class="comment">// 使用折叠表达式</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">printer</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="string">&quot;abc&quot;</span>); <span class="comment">// 输出: 123abc</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 2</span></span><br><span class="line"><span class="function"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T, <span class="keyword">typename</span>... Args&gt;</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">push_back_vec</span><span class="params">(std::vector&lt;T&gt;&amp; v, Args&amp;&amp;... args)</span> </span>&#123;</span><br><span class="line">    <span class="built_in">static_assert</span>((std::is_constructible_v&lt;T, Args&amp;&amp;&gt; &amp;&amp; ...));</span><br><span class="line">    (v.<span class="built_in">push_back</span>(std::forward&lt;Args&gt;(args)), ...);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    std::vector&lt;<span class="type">int</span>&gt; v;</span><br><span class="line">    <span class="built_in">push_back_vec</span>(v, <span class="number">6</span>, <span class="number">2</span>, <span class="number">45</span>, <span class="number">12</span>);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i : v) std::cout &lt;&lt; i &lt;&lt; <span class="string">&#x27; &#x27;</span>; <span class="comment">// 输出: 6 2 45 12</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="类模板实参推导-tuple-t-4-3-2-5"><a href="#类模板实参推导-tuple-t-4-3-2-5" class="headerlink" title="类模板实参推导 tuple t(4, 3, 2.5)"></a><a target="_blank" rel="noopener" href="https://zh.cppreference.com/w/cpp/language/class_template_argument_deduction">类模板实参推导 tuple t(4, 3, 2.5)</a></h4><p>C++17引入了类模板实参推导（Class Template Argument Deduction，简称CTAD），这是一项允许编译器自动推断出类模板实例化时所需的模板参数值的功能。这项特性简化了许多情况下需要手动指定模板参数的需求，从而减少了代码的冗余和复杂性。</p>
<p>c++17之前：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">std::pair&lt;<span class="type">int</span>, <span class="type">double</span>&gt; <span class="title">p</span><span class="params">(<span class="number">2</span>, <span class="number">4.5</span>)</span></span>;</span><br></pre></td></tr></table></figure>

<p>c++17后：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">std::pair <span class="title">p</span><span class="params">(<span class="number">2</span>, <span class="number">4.5</span>)</span></span>; <span class="comment">// 编译器可以自动推断出模板参数</span></span><br></pre></td></tr></table></figure>

<p>为了支持CTAD，C++17允许定义推导指引。</p>
<p>推导指引是特殊的声明，用于指导编译器如何从构造函数参数推导出模板参数。它们可以是隐式生成的，也可以由用户显式定义。</p>
<ul>
<li>隐式生成的推导指引：编译器会为每个构造函数自动生成相应的推导指引。</li>
<li>用户定义的推导指引：用户可以定义自己的推导指引来覆盖默认行为或处理特殊情况。</li>
</ul>
<p>用户自定义推导指引的语法：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">class</span> <span class="title class_">T</span>&gt; <span class="keyword">struct</span> <span class="title class_">A</span> &#123;</span><br><span class="line">    <span class="built_in">A</span>(T, <span class="type">int</span>*);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">template</span>&lt;<span class="keyword">class</span> T&gt;</span></span><br><span class="line"><span class="function"><span class="title">A</span><span class="params">(T*, <span class="type">int</span>*)</span> -&gt; A&lt;T&gt;</span>; <span class="comment">// 用户定义的推导指引</span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> i, *ip;</span><br><span class="line">A a&#123;i, ip&#125;; <span class="comment">// 自动推导为 A&lt;int&gt;</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>没有完全搞懂，先放案例吧。。。</p>
</blockquote>
<p>注意：</p>
<p>CTAD仅在未提供模板实参列表的情况下发生。如果提供了模板实参列表，则不会触发推导。<br>在某些情况下，如存在多个可能的推导指引时，编译器会根据一定的优先级规则选择最合适的推导指引。<br>复制推导候选通常比包装构造函数更受偏好，以避免不必要的嵌套。</p>
<h4 id="auto-占位的非类型模板形参"><a href="#auto-占位的非类型模板形参" class="headerlink" title="auto 占位的非类型模板形参"></a>auto 占位的非类型模板形参</h4><p>在C++17之前，非类型模板参数（non-type template parameters, NTTPs）必须显式地指定其类型。例如：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span>&lt;<span class="type">int</span> N&gt; <span class="comment">//这里，N是一个整数类型的非类型模板参数。</span></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">S</span> &#123;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">foo</span><span class="params">()</span> </span>&#123; <span class="comment">/* ... */</span> &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>C++17的新方式<br>通过C++17的增强，我们可以使用auto关键字来代替具体的类型，这为模板提供了更大的灵活性和通用性。例如：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">auto</span> N&gt;</span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">S</span> &#123;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">foo</span><span class="params">()</span> </span>&#123; <span class="comment">/* ... */</span> &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>在这个例子中，N可以是任何能作为非类型模板参数的值，无论它是int, long, double还是指针等。这意味着您不再需要为每种可能的类型分别编写模板特化或重载。</p>
<p>注意事项:</p>
<ul>
<li>虽然auto使得模板更加通用，但它不能用于所有类型的非类型模板参数。例如，类类型的对象（除非它们是字面量类型且有适当的转换构造函数）不能作为非类型模板参数。</li>
<li>此外，使用auto作为非类型模板形参时，不能与占位类型（placeholder types）如T结合使用于同一个模板形参列表内，这是为了避免歧义和复杂性。</li>
</ul>
<h3 id="命名空间"><a href="#命名空间" class="headerlink" title="命名空间"></a>命名空间</h3><h4 id="简化的嵌套命名空间"><a href="#简化的嵌套命名空间" class="headerlink" title="简化的嵌套命名空间"></a>简化的嵌套命名空间</h4><p>c++11中嵌套命名空间的语法：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> A &#123;</span><br><span class="line">    <span class="keyword">namespace</span> B &#123;</span><br><span class="line">        <span class="keyword">namespace</span> C &#123;</span><br><span class="line">            <span class="comment">// 在这里定义 C 命名空间的内容</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>c++17中简化的嵌套命名空间的语法：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">namespace</span> A::B::C &#123;</span><br><span class="line">    <span class="comment">// 在这里定义 C 命名空间的内容</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="using-声明语句可以声明多个名称"><a href="#using-声明语句可以声明多个名称" class="headerlink" title="using 声明语句可以声明多个名称"></a>using 声明语句可以声明多个名称</h4><p>using声明语句得到了增强，允许一次导入多个名称（如类型、函数或模板）从一个命名空间到另一个命名空间。这项改进简化了代码，减少了重复的using声明需求。</p>
<p>c++14中：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">namespace</span> foo &#123;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">f</span><span class="params">()</span> </span>&#123;&#125;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">g</span><span class="params">()</span> </span>&#123;&#125;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">h</span><span class="params">()</span> </span>&#123;&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> foo::f;</span><br><span class="line"><span class="keyword">using</span> foo::g;</span><br><span class="line"><span class="keyword">using</span> foo::h;</span><br></pre></td></tr></table></figure>

<p>c++17后：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">namespace</span> foo &#123;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">f</span><span class="params">()</span> </span>&#123;&#125;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">g</span><span class="params">()</span> </span>&#123;&#125;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">h</span><span class="params">()</span> </span>&#123;&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> foo::&#123;f, g, h&#125;;</span><br></pre></td></tr></table></figure>

<h4 id="属性命名空间不必重复"><a href="#属性命名空间不必重复" class="headerlink" title="属性命名空间不必重复"></a>属性命名空间不必重复</h4><p>在C++17中，对于属性的使用有了改进，使得当多个属性属于同一个命名空间时，不必为每个属性都重复指定命名空间。具体来说，如果一组属性都位于同一个命名空间内（例如std::literals），您可以一次性指定这个命名空间，然后列出所有需要使用的属性，而不需要对每个属性名都加上完整的命名空间前缀。</p>
<p>在C++17之前，如果您想要使用来自特定命名空间的多个属性，您可能需要这样写：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">function</span><span class="params">()</span> [[std::literals::fast_math]] [[std::literals::ivdep]] [[std::<span class="title">literals::align_value</span><span class="params">(<span class="number">16</span>)</span>]]</span>;</span><br></pre></td></tr></table></figure>

<p>但在C++17中，通过使用[[using namespace_name: …]]语法，可以简化为：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">function</span><span class="params">()</span> [[<span class="keyword">using</span> std::literals: fast_math, ivdep, align_value(<span class="number">16</span>)]];</span> </span><br></pre></td></tr></table></figure>

<h5 id="属性说明符序列-C-11-起"><a href="#属性说明符序列-C-11-起" class="headerlink" title="属性说明符序列 (C++11 起)"></a>属性说明符序列 (C++11 起)</h5><p>为类型、对象、代码等引入由实现定义的属性。</p>
<p>语法<br>[[ 属性列表 ]]  (C++11 起)<br>[[ using 属性命名空间 : 属性列表 ]]  (C++17 起)<br>其中属性列表 是由逗号分隔的零或更多个属性 的序列（可以以指示包展开的省略号 … 结束）</p>
<p>标识符<br>属性命名空间 :: 标识符<br>标识符 ( 实参列表 (可选) )<br>属性命名空间 :: 标识符 ( 实参列表 (可选) )<br>其中属性命名空间为一个标识符，而实参列表为其中圆括号、方括号和花括号平衡出现的记号序列（平衡记号序列）。</p>
<ol>
<li>简单属性，例如 [[noreturn]]。</li>
<li>有命名空间的属性，例如 [[gnu::unused]]。</li>
<li>有实参的属性，例如 [[deprecated(“原因”)]]。</li>
<li>既有命名空间又有实参列表的属性。</li>
</ol>
<p><img src="/image-1.png" alt="alt text"></p>
<blockquote>
<p>除了以下所列出的标准属性之外，实现还可能支持拥有由实现定义的行为的任意非标准属性。所有实现所未知的属性均被忽略，且不产生错误。</p>
</blockquote>
<h3 id="新属性"><a href="#新属性" class="headerlink" title="新属性"></a>新属性</h3><h4 id="fallthrough"><a href="#fallthrough" class="headerlink" title="[fallthrough]"></a><a target="_blank" rel="noopener" href="https://zh.cppreference.com/w/cpp/language/attributes/fallthrough">[fallthrough]</a></h4><p>指示从前一标号直落是有意的，而在发生直落时给出警告的编译器不应诊断它。</p>
<p>直落语句只能用在 switch 语句中，其中待执行的下个语句是该 switch 语句的带 case 或 default 标号的语句。如果直落语句在循环中，那么下个（带标号）语句必须是该循环的同一迭代的一部分。</p>
<p>实例：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">f</span><span class="params">(<span class="type">int</span> n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">g</span><span class="params">()</span>, <span class="title">h</span><span class="params">()</span>, <span class="title">i</span><span class="params">()</span></span>;</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">switch</span> (n)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">        <span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">            <span class="built_in">g</span>();</span><br><span class="line">            [[fallthrough]];</span><br><span class="line">        <span class="keyword">case</span> <span class="number">3</span>: <span class="comment">// 直落时不警告</span></span><br><span class="line">            <span class="built_in">h</span>();</span><br><span class="line">        <span class="keyword">case</span> <span class="number">4</span>: <span class="comment">// 编译器可在发生直落时警告</span></span><br><span class="line">            <span class="keyword">if</span> (n &lt; <span class="number">3</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">i</span>();</span><br><span class="line">                [[fallthrough]]; <span class="comment">// OK</span></span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">return</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">5</span>:</span><br><span class="line">            <span class="keyword">while</span> (<span class="literal">false</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                [[fallthrough]]; <span class="comment">// 非良构：下一语句不是同一迭代的一部分</span></span><br><span class="line">            &#125;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">6</span>:</span><br><span class="line">            [[fallthrough]]; <span class="comment">// 非良构：没有后继的 case 或 default 标号</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="maybe-unused"><a href="#maybe-unused" class="headerlink" title="[maybe_unused]"></a><a target="_blank" rel="noopener" href="https://zh.cppreference.com/w/cpp/language/attributes/maybe_unused">[maybe_unused]</a></h4><p>抑制针对未使用实体的警告。</p>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">此属性可出现在下列实体的声明中：</span><br><span class="line"></span><br><span class="line">class/struct/union：struct [[maybe<span class="emphasis">_unused]] S;</span></span><br><span class="line"><span class="emphasis">typedef，包括别名声明：[[maybe_</span>unused]] typedef S* PS;，using PS [[maybe<span class="emphasis">_unused]] = S*;</span></span><br><span class="line"><span class="emphasis">变量，包括静态数据成员：[[maybe_</span>unused]] int x;</span><br><span class="line">非静态数据成员：union U &#123; [[maybe<span class="emphasis">_unused]] int n; &#125;;</span></span><br><span class="line"><span class="emphasis">函数：[[maybe_</span>unused]] void f();</span><br><span class="line">枚举：enum [[maybe<span class="emphasis">_unused]] E &#123;&#125;;</span></span><br><span class="line"><span class="emphasis">枚举项：enum &#123; A [[maybe_</span>unused]], B [[maybe<span class="emphasis">_unused]] = 42 &#125;;</span></span><br><span class="line"><span class="emphasis">结构化绑定：[[maybe_</span>unused]] auto [a, b] = std::make<span class="emphasis">_pair(42, 0.23);</span></span><br><span class="line"><span class="emphasis">对于声明为 [[maybe_</span>unused]] 的实体，如果没有使用这些实体或它们的结构化绑定，那么编译器针对未使用实体发布的警告会被抑制。</span><br></pre></td></tr></table></figure>

<h4 id="nodiscard"><a href="#nodiscard" class="headerlink" title="[nodiscard]"></a><a target="_blank" rel="noopener" href="https://zh.cppreference.com/w/cpp/language/attributes/nodiscard">[nodiscard]</a></h4><p>在转换到 void 之外的弃值表达式中调用声明为 nodiscard 的函数，或调用按值返回声明为 nodiscard 的枚举或类的函数时，鼓励编译器发布警告。</p>
<blockquote>
<p>在C++中，“弃值表达式”是指那些计算结果被有意忽略、不用于任何后续操作的表达式。通常情况下，这意味着表达式的值没有被存储到变量中，也没有作为参数传递给函数等。例如：<br>调用函数仅为了其副作用：有时我们调用一个函数主要是为了它的副作用（如打印输出、修改全局状态等），而不是关心它的返回值。在这种情况下，函数的返回值就被忽略了。<code>std::puts(&quot;Hello, world!&quot;);// 例如，std::puts 返回写入的字符数，但我们通常只关心它是否成功执行了打印操作</code></p>
</blockquote>
<h3 id="has-include"><a href="#has-include" class="headerlink" title="__has_include"></a><a target="_blank" rel="noopener" href="https://zh.cppreference.com/w/cpp/preprocessor/include">__has_include</a></h3><p>语法：<br>#include &lt; h字符序列 &gt; 换行 (1)<br>#include “ q字符序列 “ 换行 (2)<br>#include 记号序列 换行 (3)<br>__has_include ( “ q字符序列 “ )<br>__has_include ( &lt; h字符序列 &gt; ) (4) (C++17 起)<br>__has_include ( 字符串字面量 )<br>__has_include ( &lt; h记号序列 &gt; ) (5) (C++17 起)</p>
<ol>
<li>搜索由 h字符序列 唯一识别的标头，并将该指令替换为这个标头的全部内容。</li>
<li>搜索由 q字符序列 识别的源文件，并将该指令替换为这个源文件的全部内容。可能退回至语法 (1) 并将 q字符序列 视为标头标识符。</li>
<li>如果 (1) 和 (2) 都不匹配，记号序列 会经历宏替换。该指令在替换后会再次尝试匹配 (1) 和 (2)。</li>
<li>检查是否可以包含一个标头或源文件。</li>
<li>如果 (4) 不匹配，h记号序列 会经历宏替换。该指令在替换后会再次尝试匹配 (4)。<br>换行 - 换行字符<br>h字符序列 - 一个或多个 h字符 的序列，并且其中以下内容的出现受条件性支持：</li>
</ol>
<ul>
<li>字符 ‘</li>
<li>字符 “</li>
<li>字符 \</li>
<li>字符序列 &#x2F;&#x2F;</li>
<li>字符序列 &#x2F;*</li>
</ul>
<p>h字符 - 源字符集(C++23 前)翻译字符集(C++23 起) 除了换行符和 &gt; 以外的任何成员<br>q字符序列 - 一个或多个 q字符 的序列，并且其中以下内容的出现受条件性支持：</p>
<ul>
<li>字符 ‘</li>
<li>字符 \</li>
<li>字符序列 &#x2F;&#x2F;</li>
<li>字符序列 &#x2F;*</li>
</ul>
<p>q字符 - 源字符集(C++23 前)翻译字符集(C++23 起) 除了换行符和 “ 以外的任何成员<br>记号序列 - 一个或多个预处理记号的序列<br>字符串字面量 - 一个字符串字面量<br>h记号序列 - 一个或多个除了 &gt; 以外的预处理记号的序列</p>
<p>这个特性是因为社区对头文件有了更深的理解才诞生的。<br>实例：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">if</span> __has_include(<span class="string">&lt;optional&gt;</span>)</span></span><br><span class="line">    <span class="meta">#<span class="keyword">include</span> <span class="string">&lt;optional&gt;</span></span></span><br><span class="line">    <span class="meta">#<span class="keyword">define</span> has_optional 1</span></span><br><span class="line">    <span class="keyword">template</span>&lt;<span class="keyword">class</span> <span class="title class_">T</span>&gt;</span><br><span class="line">    <span class="keyword">using</span> <span class="type">optional_t</span> = std::optional&lt;T&gt;;</span><br><span class="line"><span class="meta">#<span class="keyword">elif</span> __has_include(<span class="string">&lt;experimental/optional&gt;</span>)</span></span><br><span class="line">    <span class="meta">#<span class="keyword">include</span> <span class="string">&lt;experimental/optional&gt;</span></span></span><br><span class="line">    <span class="meta">#<span class="keyword">define</span> has_optional -1</span></span><br><span class="line">    <span class="keyword">template</span>&lt;<span class="keyword">class</span> <span class="title class_">T</span>&gt;</span><br><span class="line">    <span class="keyword">using</span> <span class="type">optional_t</span> = std::experimental::optional&lt;T&gt;;</span><br><span class="line"><span class="meta">#<span class="keyword">else</span></span></span><br><span class="line">    <span class="meta">#<span class="keyword">define</span> has_optional 0</span></span><br><span class="line">    <span class="keyword">template</span>&lt;<span class="keyword">class</span> <span class="title class_">V</span>&gt;</span><br><span class="line">    <span class="keyword">class</span> <span class="title class_">optional_t</span></span><br><span class="line">    &#123;</span><br><span class="line">        V v&#123;&#125;;</span><br><span class="line">        <span class="type">bool</span> has&#123;&#125;;</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">        <span class="built_in">optional_t</span>() = <span class="keyword">default</span>;</span><br><span class="line">        <span class="built_in">optional_t</span>(V&amp;&amp; v) : <span class="built_in">v</span>(v), has&#123;<span class="literal">true</span>&#125; &#123;&#125;</span><br><span class="line">        <span class="function">V <span class="title">value_or</span><span class="params">(V&amp;&amp; alt)</span> <span class="type">const</span>&amp;</span></span><br><span class="line"><span class="function">        </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> has ? v : alt;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// etc.</span></span><br><span class="line">    &#125;;</span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line"> </span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (has_optional &gt; <span class="number">0</span>)</span><br><span class="line">        std::cout &lt;&lt; <span class="string">&quot;&lt;optional&gt; 存在\n&quot;</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (has_optional &lt; <span class="number">0</span>)</span><br><span class="line">        std::cout &lt;&lt; <span class="string">&quot;&lt;experimental/optional&gt; 存在\n&quot;</span>;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        std::cout &lt;&lt; <span class="string">&quot;&lt;optional&gt; 不存在\n&quot;</span>;</span><br><span class="line"> </span><br><span class="line">    <span class="type">optional_t</span>&lt;<span class="type">int</span>&gt; op;</span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;op = &quot;</span> &lt;&lt; op.<span class="built_in">value_or</span>(<span class="number">-1</span>) &lt;&lt; <span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line">    op = <span class="number">42</span>;</span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;op = &quot;</span> &lt;&lt; op.<span class="built_in">value_or</span>(<span class="number">-1</span>) &lt;&lt; <span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="新的头文件"><a href="#新的头文件" class="headerlink" title="新的头文件"></a>新的头文件</h2><p><a target="_blank" rel="noopener" href="https://zh.cppreference.com/w/cpp/header/any">&lt;any&gt;</a><br><a target="_blank" rel="noopener" href="https://zh.cppreference.com/w/cpp/header/charconv">&lt;charconv&gt;</a><br><a target="_blank" rel="noopener" href="https://zh.cppreference.com/w/cpp/header/execution">&lt;execution&gt;</a><br><a target="_blank" rel="noopener" href="https://zh.cppreference.com/w/cpp/header/filesystem">&lt;filesystem&gt;</a><br><a target="_blank" rel="noopener" href="https://zh.cppreference.com/w/cpp/header/memory_resource">&lt;memory_resource&gt;</a><br><a target="_blank" rel="noopener" href="https://zh.cppreference.com/w/cpp/header/optional">&lt;optional&gt;</a><br><a target="_blank" rel="noopener" href="https://zh.cppreference.com/w/cpp/header/string_view">&lt;string_view&gt;</a><br><a target="_blank" rel="noopener" href="https://zh.cppreference.com/w/cpp/header/variant">&lt;variant&gt;</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2025/04/01/c++14%E7%89%88%E6%9C%AC%E6%9B%B4%E6%96%B0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="王湘宇">
      <meta itemprop="description" content="故事开始于2025/2/24 15：47">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="王湘宇的小屋">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2025/04/01/c++14%E7%89%88%E6%9C%AC%E6%9B%B4%E6%96%B0/" class="post-title-link" itemprop="url">未命名</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2025-04-01 10:43:37" itemprop="dateCreated datePublished" datetime="2025-04-01T10:43:37+08:00">2025-04-01</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-02-20 11:49:21" itemprop="dateModified" datetime="2025-02-20T11:49:21+08:00">2025-02-20</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="c-14版本特性"><a href="#c-14版本特性" class="headerlink" title="c++14版本特性"></a>c++14版本特性</h1><h2 id="变量模板"><a href="#变量模板" class="headerlink" title="变量模板"></a><a target="_blank" rel="noopener" href="https://zh.cppreference.com/w/cpp/language/variable_template">变量模板</a></h2><p>变量模板可以认为是一种不确定的变量，就是泛型变量。</p>
<p>语法：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span> &lt; 形参列表 &gt; 变量声明</span><br><span class="line"></span><br><span class="line"><span class="comment">// 举例</span></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</span><br><span class="line"><span class="type">const</span> T pi = <span class="built_in">T</span>(<span class="number">3.1415926535897932385L</span>);</span><br></pre></td></tr></table></figure>

<p>在c++14之前只有模板函数和模板类，没有变量模板。</p>
<p>变量声明：变量的声明。声明的变量名成为模板名。<br>形参列表：非空的模板形参的逗号分隔列表，每项是非类型形参、类型形参、模板形参，或任何上述的形参包之一。</p>
<blockquote>
<p>介绍一下非类型形参、类型形参、模板形参是什么？<br>非类型形参：就是普通的形参，比如 template<int T> 在写变量的时候就可以在&lt;&gt;中写一个int类型的变量。(T纯右值不可改，在编译期间就确定了，除非T是左值引用类型)<br>类型形参：就是模板形参，比如 template<typename T> 在写变量的时候就可以在&lt;&gt;中写一个类型变量。<br>模板形参：就是模板形参，比如 template&lt;template<typename> class T&gt; 在写变量的时候就可以在&lt;&gt;中写一个模板变量。<br>模板实参：就是模板实参，比如 template<typename T> 在写变量的时候就可以在&lt;&gt;中写一个具体的类型，可以是类等自定义的类型。</p>
</blockquote>
<p>官方文档提供的几种案例：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1. 基础使用</span></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">class</span> <span class="title class_">T</span>&gt;</span><br><span class="line"><span class="keyword">constexpr</span> T pi = <span class="built_in">T</span>(<span class="number">3.1415926535897932385L</span>); <span class="comment">// 变量模板</span></span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">template</span>&lt;<span class="keyword">class</span> T&gt;</span></span><br><span class="line"><span class="function">T <span class="title">circular_area</span><span class="params">(T r)</span> <span class="comment">// 函数模板</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> pi&lt;T&gt; * r * r; <span class="comment">// pi&lt;T&gt; 是变量模板实例化</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//2.在类作用域中使用时，变量模板声明一个静态数据成员模板。</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std::literals;</span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">matrix_constants</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">template</span>&lt;<span class="keyword">class</span> <span class="title class_">T</span>&gt;</span><br><span class="line">    <span class="keyword">using</span> pauli = hermitian_matrix&lt;T, <span class="number">2</span>&gt;; <span class="comment">// 别名模版</span></span><br><span class="line"> </span><br><span class="line">    <span class="keyword">template</span>&lt;<span class="keyword">class</span> <span class="title class_">T</span>&gt; <span class="comment">// 静态数据成员模板</span></span><br><span class="line">    <span class="type">static</span> <span class="keyword">constexpr</span> pauli&lt;T&gt; sigmaX = &#123;&#123;<span class="number">0</span>, <span class="number">1</span>&#125;, &#123;<span class="number">1</span>, <span class="number">0</span>&#125;&#125;;</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">template</span>&lt;<span class="keyword">class</span> <span class="title class_">T</span>&gt;</span><br><span class="line">    <span class="type">static</span> <span class="keyword">constexpr</span> pauli&lt;T&gt; sigmaY = &#123;&#123;<span class="number">0</span>, <span class="number">-1</span>i&#125;, &#123;<span class="number">1</span>i, <span class="number">0</span>&#125;&#125;;</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">template</span>&lt;<span class="keyword">class</span> <span class="title class_">T</span>&gt;</span><br><span class="line">    <span class="type">static</span> <span class="keyword">constexpr</span> pauli&lt;T&gt; sigmaZ = &#123;&#123;<span class="number">1</span>, <span class="number">0</span>&#125;, &#123;<span class="number">0</span>, <span class="number">-1</span>&#125;&#125;;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// 3.与其他静态成员一样，静态数据成员模板的需要一个定义。这种定义可以在类定义外提供。处于命名空间作用域的静态数据成员的模板声明也可以是类模板的非模板数据成员的定义：</span></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">limits</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</span><br><span class="line">    <span class="type">static</span> <span class="type">const</span> T min; <span class="comment">// 静态数据成员模板的声明</span></span><br><span class="line">&#125;;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</span><br><span class="line"><span class="type">const</span> T limits::min = &#123;&#125;; <span class="comment">// 静态数据成员模板的定义</span></span><br><span class="line"> </span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">class</span> <span class="title class_">T</span>&gt;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">X</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">static</span> T s; <span class="comment">// 类模板的非模板静态数据成员的声明</span></span><br><span class="line">&#125;;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">class</span> <span class="title class_">T</span>&gt;</span><br><span class="line">T X&lt;T&gt;::s = <span class="number">0</span>; <span class="comment">// 类模板的非模板静态数据成员的定义</span></span><br></pre></td></tr></table></figure>

<h2 id="泛型-lambda"><a href="#泛型-lambda" class="headerlink" title="泛型 lambda"></a><a target="_blank" rel="noopener" href="https://zh.cppreference.com/w/cpp/language/lambda">泛型 lambda</a></h2><p>泛型lambda表达式可以在其形参列表中使用 auto 或 decltype(auto) 来表示其形参的类型。 拓展了c++11的lambda表达式的使用范围。</p>
<p>语法样例：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">auto</span> genericLambda = [](<span class="keyword">auto</span> a, <span class="keyword">auto</span> b) &#123;</span><br><span class="line">    <span class="keyword">return</span> a + b;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> intResult = <span class="built_in">genericLambda</span>(<span class="number">5</span>, <span class="number">10</span>); <span class="comment">// OK: int + int</span></span><br><span class="line"><span class="type">double</span> doubleResult = <span class="built_in">genericLambda</span>(<span class="number">5.5</span>, <span class="number">10.2</span>); <span class="comment">// OK: double + double</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 实际上编译器眼中的泛型lambda表达式是这样的：</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">SomeCompilerGeneratedClassName</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T, <span class="keyword">typename</span> U&gt;</span></span><br><span class="line"><span class="function">    <span class="keyword">auto</span> <span class="title">operator</span><span class="params">()</span><span class="params">(T t, U u)</span> <span class="type">const</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> t + u;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 官方提供的样例</span></span><br><span class="line"><span class="comment">// 泛型 lambda，operator() 是有两个形参的模板</span></span><br><span class="line"><span class="keyword">auto</span> glambda = [](<span class="keyword">auto</span> a, <span class="keyword">auto</span>&amp;&amp; b) &#123; <span class="keyword">return</span> a &lt; b; &#125;;</span><br><span class="line"><span class="type">bool</span> b = <span class="built_in">glambda</span>(<span class="number">3</span>, <span class="number">3.14</span>); <span class="comment">// ok</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">// 泛型 lambda，operator() 是有一个形参的模板</span></span><br><span class="line"><span class="keyword">auto</span> vglambda = [](<span class="keyword">auto</span> printer)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">return</span> [=](<span class="keyword">auto</span>&amp;&amp;... ts) <span class="comment">// 泛型 lambda，ts 是形参包</span></span><br><span class="line">    &#123; </span><br><span class="line">        <span class="built_in">printer</span>(std::forward&lt;<span class="keyword">decltype</span>(ts)&gt;(ts)...);</span><br><span class="line">        <span class="comment">// 零元 lambda （不接受形参）</span></span><br><span class="line">        <span class="keyword">return</span> [=] &#123; <span class="built_in">printer</span>(ts...); &#125;;</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">auto</span> p = <span class="built_in">vglambda</span>([](<span class="keyword">auto</span> v1, <span class="keyword">auto</span> v2, <span class="keyword">auto</span> v3)</span><br><span class="line">&#123;</span><br><span class="line">    std::cout &lt;&lt; v1 &lt;&lt; v2 &lt;&lt; v3;</span><br><span class="line">&#125;);</span><br><span class="line"> </span><br><span class="line"><span class="keyword">auto</span> q = <span class="built_in">p</span>(<span class="number">1</span>, <span class="string">&#x27;a&#x27;</span>, <span class="number">3.14</span>); <span class="comment">// 输出 1a3.14</span></span><br><span class="line"><span class="built_in">q</span>();                      <span class="comment">// 输出 1a3.14</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>注意：泛型lambda表达式允许在捕获列表中初始化新变量，支持移动捕获和表达式初始化。</p>
</blockquote>
<h2 id="lambda-初始化捕获"><a href="#lambda-初始化捕获" class="headerlink" title="lambda 初始化捕获"></a>lambda 初始化捕获</h2><p>lambda表达式允许在捕获列表中初始化新变量。这个特性允许你在lambda表达式内部通过任意的表达式来初始化被捕获的变量。</p>
<p>语法：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[captured_var = init_expression] (parameters) -&gt; return_type &#123;</span><br><span class="line">    <span class="comment">// lambda body</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>使用样例：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 基本用法</span></span><br><span class="line"><span class="type">int</span> x = <span class="number">5</span>;</span><br><span class="line"><span class="keyword">auto</span> lambda = [val = x + <span class="number">10</span>]() &#123; </span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;Value: &quot;</span> &lt;&lt; val &lt;&lt; std::endl; </span><br><span class="line">&#125;;</span><br><span class="line"><span class="built_in">lambda</span>(); <span class="comment">// 输出: Value: 15</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 智能指针的捕获</span></span><br><span class="line"><span class="type">int</span>* p = <span class="keyword">new</span> <span class="built_in">int</span>(<span class="number">10</span>);</span><br><span class="line"><span class="keyword">auto</span> lambda = [ptr = std::<span class="built_in">unique_ptr</span>&lt;<span class="type">int</span>&gt;(p)]() &#123; </span><br><span class="line">    <span class="keyword">if</span>(ptr) std::cout &lt;&lt; <span class="string">&quot;Value: &quot;</span> &lt;&lt; *ptr &lt;&lt; std::endl; </span><br><span class="line">&#125;;</span><br><span class="line"><span class="built_in">lambda</span>(); <span class="comment">// 输出: Value: 10</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 改变捕获变量的类型</span></span><br><span class="line"><span class="type">int</span> x = <span class="number">5</span>;</span><br><span class="line"><span class="keyword">auto</span> lambda = [num = <span class="built_in">static_cast</span>&lt;<span class="type">double</span>&gt;(x)]() <span class="keyword">mutable</span> &#123; </span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;Double value: &quot;</span> &lt;&lt; num &lt;&lt; std::endl; </span><br><span class="line">&#125;;</span><br><span class="line"><span class="built_in">lambda</span>(); <span class="comment">// 输出: Double value: 5.0</span></span><br></pre></td></tr></table></figure>

<h2 id="new-delete-消除"><a href="#new-delete-消除" class="headerlink" title="new&#x2F;delete 消除"></a>new&#x2F;delete 消除</h2><p>这个特性英文是：new&#x2F;delete elision。</p>
<p>这个特性的意思是：在某些情况下，编译器可以在不调用 new 或 delete 运算符的情况下分配和释放内存。</p>
<p>因为对这个描述比较少，我们可以理解为，编译器对于new和delete的调用进行了优化。</p>
<p>在以下情况下，编译器可以体现new&#x2F;delete的省略：</p>
<ol>
<li>NRVO (Named Return Value Optimization) 和 RVO (Return Value Optimization)：<br>这些优化允许编译器在函数返回局部对象时省略拷贝或移动操作。如果编译器能够确定对象的生命期并进行优化，则可能避免额外的构造、拷贝和析构操作，这间接减少了潜在的new&#x2F;delete调用。</li>
<li>移动语义：<br>C++11引入了移动语义，允许资源从临时对象高效转移而不是复制。当一个对象被移动而不是被复制时，通常不需要分配新的内存，这减少了new操作的需求，并且通过释放旧的对象来减少delete操作。</li>
<li>自动存储持续时间 vs 动态存储持续时间：<br>尽量使用栈上的变量（具有自动存储持续时间），而不是堆上的动态分配（具有动态存储持续时间）。栈分配更快，且不需要手动管理内存（即显式的new和delete）。</li>
<li>智能指针：<br>使用如std::unique_ptr和std::shared_ptr等智能指针代替裸指针，可以帮助自动管理内存，减少手动调用new和delete的机会，并允许编译器更好地优化代码。</li>
</ol>
<h2 id="constexpr-函数上放松的限制"><a href="#constexpr-函数上放松的限制" class="headerlink" title="constexpr 函数上放松的限制"></a><a target="_blank" rel="noopener" href="https://zh.cppreference.com/w/cpp/language/constexpr">constexpr 函数上放松的限制</a></h2><p>在C++14中，constexpr函数得到了显著的放松和增强，使其更加灵活和实用。根据你提供的来源，以下是C++14对constexpr函数放松的主要限制：</p>
<ol>
<li>允许更多的复杂操作：<br>在C++11中，constexpr函数被严格限制为只能包含一个返回语句。C++14放宽了这一限制，允许constexpr函数包含更复杂的控制流，包括循环（如while、for）和局部变量的声明。</li>
<li>非const成员函数可以是constexpr：<br>C++14允许非const成员函数也可以声明为constexpr。这意味着你可以定义修改对象状态的constexpr成员函数，只要这些修改可以在编译期完成。</li>
<li>支持局部变量：<br>constexpr函数现在可以包含局部变量的声明和使用，这增加了函数内部逻辑组织的灵活性。</li>
<li>不再强制所有声明都必须有constexpr说明符：<br>对于constexpr变量模板的所有声明来说，在C++14之前需要在每个声明处都加上constexpr说明符。C++14之后，不再要求这样做，提高了代码的可维护性。</li>
</ol>
<p>示例代码：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">// C++14 constexpr 函数可以包含局部变量和循环</span></span><br><span class="line"><span class="function"><span class="keyword">constexpr</span> <span class="type">int</span> <span class="title">factorial_cxx14</span><span class="params">(<span class="type">int</span> n)</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> res = <span class="number">1</span>; <span class="comment">// 局部变量</span></span><br><span class="line">    <span class="keyword">while</span> (n &gt; <span class="number">1</span>) &#123; <span class="comment">// 循环</span></span><br><span class="line">        res *= n--;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MyClass</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="comment">// 非 const 成员函数可以是 constexpr</span></span><br><span class="line">    <span class="function"><span class="keyword">constexpr</span> <span class="type">void</span> <span class="title">multiplyByTwo</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        value *= <span class="number">2</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="type">int</span> value;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">constexpr</span> <span class="type">int</span> result = <span class="built_in">factorial_cxx14</span>(<span class="number">5</span>); <span class="comment">// 可以在编译期计算</span></span><br><span class="line">    <span class="built_in">static_assert</span>(result == <span class="number">120</span>, <span class="string">&quot;factorial calculation failed&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="二进制字面量与数位分隔符"><a href="#二进制字面量与数位分隔符" class="headerlink" title="二进制字面量与数位分隔符"></a><a target="_blank" rel="noopener" href="https://zh.cppreference.com/w/cpp/language/integer_literal">二进制字面量与数位分隔符</a></h2><p>在c++14之前，整数字面量只有十进制、八进制和十六进制。14之后，增加了二进制字面量。</p>
<p>二进制字面量的语法：要定义一个二进制字面量，你需要以0b或0B开头，后面跟随一个或多个二进制数字（0或1）。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> binNumber = <span class="number">0b101010</span>; <span class="comment">// 等价于十进制的42</span></span><br><span class="line"><span class="type">int</span> binNumberUpper = <span class="number">0B101010</span>; <span class="comment">// 同样等价于十进制的42</span></span><br></pre></td></tr></table></figure>

<p>其他相关特性:除了直接支持二进制字面量外，C++14还允许在长整型字面量中使用二进制格式，并可以添加整数后缀来指定类型。</p>
<p>例如：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">0b101u</span> <span class="comment">//表示无符号整数。</span></span><br><span class="line"><span class="number">0b101L</span> <span class="comment">//表示长整数。</span></span><br><span class="line"><span class="number">0b101LL</span> <span class="comment">//表示长长整数。</span></span><br><span class="line"><span class="type">int</span> largeBinNumber = <span class="number">0b1&#x27;0101&#x27;0101</span>; <span class="comment">// 分隔符的使用</span></span><br></pre></td></tr></table></figure>

<p>此外，C++14还引入了单引号作为分隔符的功能，可以在较长的字面量中使用，以提高可读性。不过，这一功能主要针对视觉上的改善，并不影响字面量的实际值。</p>
<h2 id="函数的返回类型推导"><a href="#函数的返回类型推导" class="headerlink" title="函数的返回类型推导"></a><a target="_blank" rel="noopener" href="https://zh.cppreference.com/w/cpp/language/function#.E8.BF.94.E5.9B.9E.E7.B1.BB.E5.9E.8B.E6.8E.A8.E5.AF.BC_.28C.2B.2B14_.E8.B5.B7.29">函数的返回类型推导</a></h2><p>在c++11中auto作为函数的返回类型是一个占位符，必须要有尾随返回类型，但是在c++14中，auto可以作为函数的返回类型可以不写尾随返回类型，使代码变得更加简洁。</p>
<ol>
<li>使用auto进行返回类型推导<br>C++14允许使用auto作为函数的返回类型，编译器会根据函数体内的返回语句自动推导出实际的返回类型。这使得编写模板和泛型代码变得更加简洁。</li>
<li>decltype(auto)<br>除了直接使用auto，C++14还引入了decltype(auto)，它允许根据返回表达式的精确类型来推导返回类型，而不是根据值类别进行调整。这对于返回引用或指针时特别有用。</li>
</ol>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//使用auto时，返回类型基于值类别被调整：</span></span><br><span class="line"><span class="function"><span class="keyword">auto</span> <span class="title">f</span><span class="params">()</span> </span>&#123; <span class="keyword">return</span> <span class="number">3.14f</span>; &#125; <span class="comment">// 返回类型是 float</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//使用decltype(auto)时，返回类型基于表达式的声明类型：</span></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> a = <span class="number">10</span>;</span><br><span class="line"><span class="function"><span class="keyword">decltype</span>(<span class="keyword">auto</span>) <span class="title">g</span><span class="params">()</span> </span>&#123; <span class="keyword">return</span> a; &#125; <span class="comment">// 返回类型是 const int&amp;</span></span><br></pre></td></tr></table></figure>

<ol start="3">
<li>尾随返回类型的改进<br>虽然尾随返回类型（trailing return type）在C++11中就已经存在，但在C++14中与auto结合使用变得更加灵活和强大。例如，可以轻松地定义复杂的返回类型：</li>
</ol>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T, <span class="keyword">typename</span> U&gt;</span></span><br><span class="line"><span class="function"><span class="keyword">auto</span> <span class="title">add</span><span class="params">(T t, U u)</span> -&gt; <span class="title">decltype</span><span class="params">(t + u)</span></span>; <span class="comment">// C++11风格</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 在C++14中可以直接写成：</span></span><br><span class="line"><span class="function"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T, <span class="keyword">typename</span> U&gt;</span></span><br><span class="line"><span class="function"><span class="keyword">auto</span> <span class="title">add</span><span class="params">(T t, U u)</span> </span>&#123; <span class="keyword">return</span> t + u; &#125;</span><br></pre></td></tr></table></figure>

<ol start="4">
<li>单返回语句的简单推导<br>如果一个函数只有一条返回语句，并且这条语句的表达式类型可以明确推导出来，那么编译器可以根据这个表达式直接推导出函数的返回类型。这种情况下不需要显式指定返回类型。</li>
</ol>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">auto</span> <span class="title">square</span><span class="params">(<span class="type">int</span> x)</span> </span>&#123; <span class="keyword">return</span> x * x; &#125; <span class="comment">// 返回类型自动推导为 int</span></span><br></pre></td></tr></table></figure>

<h2 id="带默认成员初始化器的聚合类。"><a href="#带默认成员初始化器的聚合类。" class="headerlink" title="带默认成员初始化器的聚合类。"></a>带默认成员初始化器的聚合类。</h2><p>在C++标准中聚合类的定义，聚合类是指满足以下条件的类：</p>
<ul>
<li>没有私有或受保护的非静态数据成员。</li>
<li>没有用户声明的构造函数（即没有自定义的构造函数）。</li>
<li>没有虚函数。</li>
<li>没有基类。</li>
<li>没有虚基类。</li>
</ul>
<p>在C++14之前，聚合类不允许为成员变量提供默认初始化器。例如，下面的代码在C++11中是非法的：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">Point</span> &#123;</span><br><span class="line">    <span class="type">int</span> x = <span class="number">0</span>; <span class="comment">// 默认成员初始化器，在C++11中非法</span></span><br><span class="line">    <span class="type">int</span> y = <span class="number">0</span>; <span class="comment">// 默认成员初始化器，在C++11中非法</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>C++14放松了这个限制，允许聚合类拥有默认成员初始化器。这意味着你可以为聚合类的成员变量指定默认值，这些默认值会在对象被默认初始化时使用。例如：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">Point</span> &#123;</span><br><span class="line">    <span class="type">int</span> x = <span class="number">0</span>; <span class="comment">// 默认成员初始化器</span></span><br><span class="line">    <span class="type">int</span> y = <span class="number">0</span>; <span class="comment">// 默认成员初始化器</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>这个特性看编译器是否支持，比如clion用cmake构建项目，声明的是c++11版本也支持这个特性。</p>
</blockquote>
<p>注意事项</p>
<ul>
<li>初始化顺序：如果使用列表初始化，成员变量会按照它们在类中声明的顺序进行初始化，而不是按照初始化列表中的顺序。</li>
<li>兼容性：虽然可以为聚合类的成员提供默认初始化器，但这并不意味着聚合类的行为完全等同于带有构造函数的类。聚合类仍然不能有用户定义的构造函数、虚函数或基类。</li>
<li>混合初始化：如果你部分提供了初始化值，未提供的成员将会使用默认初始化器。例如：</li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">王湘宇</p>
  <div class="site-description" itemprop="description">故事开始于2025/2/24 15：47</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">6</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2025</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">王湘宇</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://pisces.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Pisces</a> 强力驱动
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

</body>
</html>
